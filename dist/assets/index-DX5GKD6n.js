var hC=Object.defineProperty;var dC=(t,e,n)=>e in t?hC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ee=(t,e,n)=>dC(t,typeof e!="symbol"?e+"":e,n);var DF=fC((vr,wr)=>{function pC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eb={exports:{}},Ff={},tb={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=Symbol.for("react.element"),mC=Symbol.for("react.portal"),gC=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),vC=Symbol.for("react.profiler"),wC=Symbol.for("react.provider"),_C=Symbol.for("react.context"),EC=Symbol.for("react.forward_ref"),bC=Symbol.for("react.suspense"),xC=Symbol.for("react.memo"),TC=Symbol.for("react.lazy"),pv=Symbol.iterator;function AC(t){return t===null||typeof t!="object"?null:(t=pv&&t[pv]||t["@@iterator"],typeof t=="function"?t:null)}var nb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rb=Object.assign,sb={};function vc(t,e,n){this.props=t,this.context=e,this.refs=sb,this.updater=n||nb}vc.prototype.isReactComponent={};vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ib(){}ib.prototype=vc.prototype;function O0(t,e,n){this.props=t,this.context=e,this.refs=sb,this.updater=n||nb}var D0=O0.prototype=new ib;D0.constructor=O0;rb(D0,vc.prototype);D0.isPureReactComponent=!0;var mv=Array.isArray,ob=Object.prototype.hasOwnProperty,j0={current:null},ab={key:!0,ref:!0,__self:!0,__source:!0};function lb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ob.call(e,r)&&!ab.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ih,type:t,key:i,ref:o,props:s,_owner:j0.current}}function IC(t,e){return{$$typeof:ih,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function M0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ih}function SC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gv=/\/+/g;function $p(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SC(""+t.key):e.toString(36)}function vd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ih:case mC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+$p(o,0):r,mv(s)?(n="",t!=null&&(n=t.replace(gv,"$&/")+"/"),vd(s,e,n,"",function(u){return u})):s!=null&&(M0(s)&&(s=IC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",mv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+$p(i,a);o+=vd(i,e,n,l,s)}else if(l=AC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+$p(i,a++),o+=vd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bh(t,e,n){if(t==null)return t;var r=[],s=0;return vd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function CC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $n={current:null},wd={transition:null},NC={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:wd,ReactCurrentOwner:j0};function cb(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Bh,forEach:function(t,e,n){Bh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bh(t,function(){e++}),e},toArray:function(t){return Bh(t,function(e){return e})||[]},only:function(t){if(!M0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=vc;be.Fragment=gC;be.Profiler=vC;be.PureComponent=O0;be.StrictMode=yC;be.Suspense=bC;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;be.act=cb;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rb({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=j0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ob.call(e,l)&&!ab.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ih,type:t.type,key:s,ref:i,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:_C,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wC,_context:t},t.Consumer=t};be.createElement=lb;be.createFactory=function(t){var e=lb.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:EC,render:t}};be.isValidElement=M0;be.lazy=function(t){return{$$typeof:TC,_payload:{_status:-1,_result:t},_init:CC}};be.memo=function(t,e){return{$$typeof:xC,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=wd.transition;wd.transition={};try{t()}finally{wd.transition=e}};be.unstable_act=cb;be.useCallback=function(t,e){return $n.current.useCallback(t,e)};be.useContext=function(t){return $n.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return $n.current.useDeferredValue(t)};be.useEffect=function(t,e){return $n.current.useEffect(t,e)};be.useId=function(){return $n.current.useId()};be.useImperativeHandle=function(t,e,n){return $n.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return $n.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return $n.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return $n.current.useMemo(t,e)};be.useReducer=function(t,e,n){return $n.current.useReducer(t,e,n)};be.useRef=function(t){return $n.current.useRef(t)};be.useState=function(t){return $n.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return $n.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return $n.current.useTransition()};be.version="18.3.1";tb.exports=be;var B=tb.exports;const Di=Bf(B),kC=pC({__proto__:null,default:Di},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=B,PC=Symbol.for("react.element"),LC=Symbol.for("react.fragment"),OC=Object.prototype.hasOwnProperty,DC=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jC={key:!0,ref:!0,__self:!0,__source:!0};function ub(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OC.call(e,r)&&!jC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:PC,type:t,key:i,ref:o,props:s,_owner:DC.current}}Ff.Fragment=LC;Ff.jsx=ub;Ff.jsxs=ub;eb.exports=Ff;var f=eb.exports,$m={},hb={exports:{}},br={},db={exports:{}},fb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,ce){var Z=J.length;J.push(ce);e:for(;0<Z;){var Re=Z-1>>>1,Te=J[Re];if(0<s(Te,ce))J[Re]=ce,J[Z]=Te,Z=Re;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ce=J[0],Z=J.pop();if(Z!==ce){J[0]=Z;e:for(var Re=0,Te=J.length,Ae=Te>>>1;Re<Ae;){var $t=2*(Re+1)-1,ve=J[$t],Ot=$t+1,Nn=J[Ot];if(0>s(ve,Z))Ot<Te&&0>s(Nn,ve)?(J[Re]=Nn,J[Ot]=Z,Re=Ot):(J[Re]=ve,J[$t]=Z,Re=$t);else if(Ot<Te&&0>s(Nn,Z))J[Re]=Nn,J[Ot]=Z,Re=Ot;else break e}}return ce}function s(J,ce){var Z=J.sortIndex-ce.sortIndex;return Z!==0?Z:J.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,g=null,y=3,_=!1,x=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(J){for(var ce=n(u);ce!==null;){if(ce.callback===null)r(u);else if(ce.startTime<=J)r(u),ce.sortIndex=ce.expirationTime,e(l,ce);else break;ce=n(u)}}function P(J){if(C=!1,T(J),!x)if(n(l)!==null)x=!0,Qr(V);else{var ce=n(u);ce!==null&&At(P,ce.startTime-J)}}function V(J,ce){x=!1,C&&(C=!1,b(I),I=-1),_=!0;var Z=y;try{for(T(ce),g=n(l);g!==null&&(!(g.expirationTime>ce)||J&&!U());){var Re=g.callback;if(typeof Re=="function"){g.callback=null,y=g.priorityLevel;var Te=Re(g.expirationTime<=ce);ce=t.unstable_now(),typeof Te=="function"?g.callback=Te:g===n(l)&&r(l),T(ce)}else r(l);g=n(l)}if(g!==null)var Ae=!0;else{var $t=n(u);$t!==null&&At(P,$t.startTime-ce),Ae=!1}return Ae}finally{g=null,y=Z,_=!1}}var F=!1,k=null,I=-1,L=5,D=-1;function U(){return!(t.unstable_now()-D<L)}function q(){if(k!==null){var J=t.unstable_now();D=J;var ce=!0;try{ce=k(!0,J)}finally{ce?M():(F=!1,k=null)}}else F=!1}var M;if(typeof A=="function")M=function(){A(q)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,_t=De.port2;De.port1.onmessage=q,M=function(){_t.postMessage(null)}}else M=function(){S(q,0)};function Qr(J){k=J,F||(F=!0,M())}function At(J,ce){I=S(function(){J(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,Qr(V))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var Z=y;y=ce;try{return J()}finally{y=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Z=y;y=J;try{return ce()}finally{y=Z}},t.unstable_scheduleCallback=function(J,ce,Z){var Re=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Re+Z:Re):Z=Re,J){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Z+Te,J={id:h++,callback:ce,priorityLevel:J,startTime:Z,expirationTime:Te,sortIndex:-1},Z>Re?(J.sortIndex=Z,e(u,J),n(l)===null&&J===n(u)&&(C?(b(I),I=-1):C=!0,At(P,Z-Re))):(J.sortIndex=Te,e(l,J),x||_||(x=!0,Qr(V))),J},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(J){var ce=y;return function(){var Z=y;y=ce;try{return J.apply(this,arguments)}finally{y=Z}}}})(fb);db.exports=fb;var MC=db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=B,Er=MC;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pb=new Set,Eu={};function Ha(t,e){Yl(t,e),Yl(t+"Capture",e)}function Yl(t,e){for(Eu[t]=e,t=0;t<e.length;t++)pb.add(e[t])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zm=Object.prototype.hasOwnProperty,UC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yv={},vv={};function BC(t){return zm.call(vv,t)?!0:zm.call(yv,t)?!1:UC.test(t)?vv[t]=!0:(yv[t]=!0,!1)}function FC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qC(t,e,n,r){if(e===null||typeof e>"u"||FC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var V0=/[\-:]([a-z])/g;function U0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(V0,U0);on[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(V0,U0);on[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(V0,U0);on[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function B0(t,e,n,r){var s=on.hasOwnProperty(e)?on[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qC(e,n,s,r)&&(n=null),r||s===null?BC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qi=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fh=Symbol.for("react.element"),xl=Symbol.for("react.portal"),Tl=Symbol.for("react.fragment"),F0=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),q0=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Km=Symbol.for("react.suspense_list"),$0=Symbol.for("react.memo"),go=Symbol.for("react.lazy"),yb=Symbol.for("react.offscreen"),wv=Symbol.iterator;function Lc(t){return t===null||typeof t!="object"?null:(t=wv&&t[wv]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,zp;function Hc(t){if(zp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zp=e&&e[1]||""}return`
`+zp+t}var Hp=!1;function Wp(t,e){if(!t||Hp)return"";Hp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hc(t):""}function $C(t){switch(t.tag){case 5:return Hc(t.type);case 16:return Hc("Lazy");case 13:return Hc("Suspense");case 19:return Hc("SuspenseList");case 0:case 2:case 15:return t=Wp(t.type,!1),t;case 11:return t=Wp(t.type.render,!1),t;case 1:return t=Wp(t.type,!0),t;default:return""}}function Gm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tl:return"Fragment";case xl:return"Portal";case Hm:return"Profiler";case F0:return"StrictMode";case Wm:return"Suspense";case Km:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gb:return(t.displayName||"Context")+".Consumer";case mb:return(t._context.displayName||"Context")+".Provider";case q0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $0:return e=t.displayName||null,e!==null?e:Gm(t.type)||"Memo";case go:e=t._payload,t=t._init;try{return Gm(t(e))}catch{}}return null}function zC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gm(e);case 8:return e===F0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ho(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HC(t){var e=vb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qh(t){t._valueTracker||(t._valueTracker=HC(t))}function wb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qm(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _v(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ho(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _b(t,e){e=e.checked,e!=null&&B0(t,"checked",e,!1)}function Ym(t,e){_b(t,e);var n=Ho(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xm(t,e.type,Ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ev(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xm(t,e,n){(e!=="number"||qd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wc=Array.isArray;function Ml(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ho(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Wc(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ho(n)}}function Eb(t,e){var n=Ho(e.value),r=Ho(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $h,xb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($h=$h||document.createElement("div"),$h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$h.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WC=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(t){WC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nu[e]=nu[t]})});function Tb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nu.hasOwnProperty(t)&&nu[t]?(""+e).trim():e+"px"}function Ab(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Tb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var KC=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eg(t,e){if(e){if(KC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function tg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=null;function z0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rg=null,Vl=null,Ul=null;function Tv(t){if(t=lh(t)){if(typeof rg!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Wf(e),rg(t.stateNode,t.type,e))}}function Ib(t){Vl?Ul?Ul.push(t):Ul=[t]:Vl=t}function Sb(){if(Vl){var t=Vl,e=Ul;if(Ul=Vl=null,Tv(t),e)for(t=0;t<e.length;t++)Tv(e[t])}}function Cb(t,e){return t(e)}function Nb(){}var Kp=!1;function kb(t,e,n){if(Kp)return t(e,n);Kp=!0;try{return Cb(t,e,n)}finally{Kp=!1,(Vl!==null||Ul!==null)&&(Nb(),Sb())}}function xu(t,e){var n=t.stateNode;if(n===null)return null;var r=Wf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var sg=!1;if(Vi)try{var Oc={};Object.defineProperty(Oc,"passive",{get:function(){sg=!0}}),window.addEventListener("test",Oc,Oc),window.removeEventListener("test",Oc,Oc)}catch{sg=!1}function GC(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var ru=!1,$d=null,zd=!1,ig=null,QC={onError:function(t){ru=!0,$d=t}};function YC(t,e,n,r,s,i,o,a,l){ru=!1,$d=null,GC.apply(QC,arguments)}function XC(t,e,n,r,s,i,o,a,l){if(YC.apply(this,arguments),ru){if(ru){var u=$d;ru=!1,$d=null}else throw Error(Y(198));zd||(zd=!0,ig=u)}}function Wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Rb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Av(t){if(Wa(t)!==t)throw Error(Y(188))}function JC(t){var e=t.alternate;if(!e){if(e=Wa(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Av(s),t;if(i===r)return Av(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function Pb(t){return t=JC(t),t!==null?Lb(t):null}function Lb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lb(t);if(e!==null)return e;t=t.sibling}return null}var Ob=Er.unstable_scheduleCallback,Iv=Er.unstable_cancelCallback,ZC=Er.unstable_shouldYield,eN=Er.unstable_requestPaint,Tt=Er.unstable_now,tN=Er.unstable_getCurrentPriorityLevel,H0=Er.unstable_ImmediatePriority,Db=Er.unstable_UserBlockingPriority,Hd=Er.unstable_NormalPriority,nN=Er.unstable_LowPriority,jb=Er.unstable_IdlePriority,qf=null,Ks=null;function rN(t){if(Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(qf,t,void 0,(t.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:oN,sN=Math.log,iN=Math.LN2;function oN(t){return t>>>=0,t===0?32:31-(sN(t)/iN|0)|0}var zh=64,Hh=4194304;function Kc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Kc(a):(i&=o,i!==0&&(r=Kc(i)))}else o=n&~s,o!==0?r=Kc(o):i!==0&&(r=Kc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gs(e),s=1<<n,r|=t[n],e&=~s;return r}function aN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-gs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=aN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function og(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mb(){var t=zh;return zh<<=1,!(zh&4194240)&&(zh=64),t}function Gp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gs(e),t[e]=n}function cN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-gs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function W0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ve=0;function Vb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ub,K0,Bb,Fb,qb,ag=!1,Wh=[],Ro=null,Po=null,Lo=null,Tu=new Map,Au=new Map,vo=[],uN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sv(t,e){switch(t){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(e.pointerId)}}function Dc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=lh(e),e!==null&&K0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hN(t,e,n,r,s){switch(e){case"focusin":return Ro=Dc(Ro,t,e,n,r,s),!0;case"dragenter":return Po=Dc(Po,t,e,n,r,s),!0;case"mouseover":return Lo=Dc(Lo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Tu.set(i,Dc(Tu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Au.set(i,Dc(Au.get(i)||null,t,e,n,r,s)),!0}return!1}function $b(t){var e=xa(t.target);if(e!==null){var n=Wa(e);if(n!==null){if(e=n.tag,e===13){if(e=Rb(n),e!==null){t.blockedOn=e,qb(t.priority,function(){Bb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ng=r,n.target.dispatchEvent(r),ng=null}else return e=lh(n),e!==null&&K0(e),t.blockedOn=n,!1;e.shift()}return!0}function Cv(t,e,n){_d(t)&&n.delete(e)}function dN(){ag=!1,Ro!==null&&_d(Ro)&&(Ro=null),Po!==null&&_d(Po)&&(Po=null),Lo!==null&&_d(Lo)&&(Lo=null),Tu.forEach(Cv),Au.forEach(Cv)}function jc(t,e){t.blockedOn===e&&(t.blockedOn=null,ag||(ag=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,dN)))}function Iu(t){function e(s){return jc(s,t)}if(0<Wh.length){jc(Wh[0],t);for(var n=1;n<Wh.length;n++){var r=Wh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ro!==null&&jc(Ro,t),Po!==null&&jc(Po,t),Lo!==null&&jc(Lo,t),Tu.forEach(e),Au.forEach(e),n=0;n<vo.length;n++)r=vo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vo.length&&(n=vo[0],n.blockedOn===null);)$b(n),n.blockedOn===null&&vo.shift()}var Bl=Qi.ReactCurrentBatchConfig,Kd=!0;function fN(t,e,n,r){var s=Ve,i=Bl.transition;Bl.transition=null;try{Ve=1,G0(t,e,n,r)}finally{Ve=s,Bl.transition=i}}function pN(t,e,n,r){var s=Ve,i=Bl.transition;Bl.transition=null;try{Ve=4,G0(t,e,n,r)}finally{Ve=s,Bl.transition=i}}function G0(t,e,n,r){if(Kd){var s=lg(t,e,n,r);if(s===null)sm(t,e,r,Gd,n),Sv(t,r);else if(hN(s,t,e,n,r))r.stopPropagation();else if(Sv(t,r),e&4&&-1<uN.indexOf(t)){for(;s!==null;){var i=lh(s);if(i!==null&&Ub(i),i=lg(t,e,n,r),i===null&&sm(t,e,r,Gd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sm(t,e,r,null,n)}}var Gd=null;function lg(t,e,n,r){if(Gd=null,t=z0(r),t=xa(t),t!==null)if(e=Wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Rb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gd=t,null}function zb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tN()){case H0:return 1;case Db:return 4;case Hd:case nN:return 16;case jb:return 536870912;default:return 16}default:return 16}}var Ao=null,Q0=null,Ed=null;function Hb(){if(Ed)return Ed;var t,e=Q0,n=e.length,r,s="value"in Ao?Ao.value:Ao.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ed=s.slice(t,1<r?1-r:void 0)}function bd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kh(){return!0}function Nv(){return!1}function xr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kh:Nv,this.isPropagationStopped=Nv,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kh)},persist:function(){},isPersistent:Kh}),e}var wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y0=xr(wc),ah=ht({},wc,{view:0,detail:0}),mN=xr(ah),Qp,Yp,Mc,$f=ht({},ah,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mc&&(Mc&&t.type==="mousemove"?(Qp=t.screenX-Mc.screenX,Yp=t.screenY-Mc.screenY):Yp=Qp=0,Mc=t),Qp)},movementY:function(t){return"movementY"in t?t.movementY:Yp}}),kv=xr($f),gN=ht({},$f,{dataTransfer:0}),yN=xr(gN),vN=ht({},ah,{relatedTarget:0}),Xp=xr(vN),wN=ht({},wc,{animationName:0,elapsedTime:0,pseudoElement:0}),_N=xr(wN),EN=ht({},wc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bN=xr(EN),xN=ht({},wc,{data:0}),Rv=xr(xN),TN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IN[t])?!!e[t]:!1}function X0(){return SN}var CN=ht({},ah,{key:function(t){if(t.key){var e=TN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X0,charCode:function(t){return t.type==="keypress"?bd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NN=xr(CN),kN=ht({},$f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pv=xr(kN),RN=ht({},ah,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X0}),PN=xr(RN),LN=ht({},wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),ON=xr(LN),DN=ht({},$f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jN=xr(DN),MN=[9,13,27,32],J0=Vi&&"CompositionEvent"in window,su=null;Vi&&"documentMode"in document&&(su=document.documentMode);var VN=Vi&&"TextEvent"in window&&!su,Wb=Vi&&(!J0||su&&8<su&&11>=su),Lv=" ",Ov=!1;function Kb(t,e){switch(t){case"keyup":return MN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Al=!1;function UN(t,e){switch(t){case"compositionend":return Gb(e);case"keypress":return e.which!==32?null:(Ov=!0,Lv);case"textInput":return t=e.data,t===Lv&&Ov?null:t;default:return null}}function BN(t,e){if(Al)return t==="compositionend"||!J0&&Kb(t,e)?(t=Hb(),Ed=Q0=Ao=null,Al=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wb&&e.locale!=="ko"?null:e.data;default:return null}}var FN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FN[t.type]:e==="textarea"}function Qb(t,e,n,r){Ib(r),e=Qd(e,"onChange"),0<e.length&&(n=new Y0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var iu=null,Su=null;function qN(t){o2(t,0)}function zf(t){var e=Cl(t);if(wb(e))return t}function $N(t,e){if(t==="change")return e}var Yb=!1;if(Vi){var Jp;if(Vi){var Zp="oninput"in document;if(!Zp){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),Zp=typeof jv.oninput=="function"}Jp=Zp}else Jp=!1;Yb=Jp&&(!document.documentMode||9<document.documentMode)}function Mv(){iu&&(iu.detachEvent("onpropertychange",Xb),Su=iu=null)}function Xb(t){if(t.propertyName==="value"&&zf(Su)){var e=[];Qb(e,Su,t,z0(t)),kb(qN,e)}}function zN(t,e,n){t==="focusin"?(Mv(),iu=e,Su=n,iu.attachEvent("onpropertychange",Xb)):t==="focusout"&&Mv()}function HN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zf(Su)}function WN(t,e){if(t==="click")return zf(e)}function KN(t,e){if(t==="input"||t==="change")return zf(e)}function GN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _s=typeof Object.is=="function"?Object.is:GN;function Cu(t,e){if(_s(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zm.call(e,s)||!_s(t[s],e[s]))return!1}return!0}function Vv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uv(t,e){var n=Vv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vv(n)}}function Jb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zb(){for(var t=window,e=qd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qd(t.document)}return e}function Z0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QN(t){var e=Zb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jb(n.ownerDocument.documentElement,n)){if(r!==null&&Z0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Uv(n,i);var o=Uv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YN=Vi&&"documentMode"in document&&11>=document.documentMode,Il=null,cg=null,ou=null,ug=!1;function Bv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ug||Il==null||Il!==qd(r)||(r=Il,"selectionStart"in r&&Z0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ou&&Cu(ou,r)||(ou=r,r=Qd(cg,"onSelect"),0<r.length&&(e=new Y0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Il)))}function Gh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sl={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionend:Gh("Transition","TransitionEnd")},em={},e2={};Vi&&(e2=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Hf(t){if(em[t])return em[t];if(!Sl[t])return t;var e=Sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in e2)return em[t]=e[n];return t}var t2=Hf("animationend"),n2=Hf("animationiteration"),r2=Hf("animationstart"),s2=Hf("transitionend"),i2=new Map,Fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zo(t,e){i2.set(t,e),Ha(e,[t])}for(var tm=0;tm<Fv.length;tm++){var nm=Fv[tm],XN=nm.toLowerCase(),JN=nm[0].toUpperCase()+nm.slice(1);Zo(XN,"on"+JN)}Zo(t2,"onAnimationEnd");Zo(n2,"onAnimationIteration");Zo(r2,"onAnimationStart");Zo("dblclick","onDoubleClick");Zo("focusin","onFocus");Zo("focusout","onBlur");Zo(s2,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gc));function qv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XC(r,e,void 0,t),t.currentTarget=null}function o2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;qv(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;qv(s,a,u),i=l}}}if(zd)throw t=ig,zd=!1,ig=null,t}function Ze(t,e){var n=e[mg];n===void 0&&(n=e[mg]=new Set);var r=t+"__bubble";n.has(r)||(a2(e,t,2,!1),n.add(r))}function rm(t,e,n){var r=0;e&&(r|=4),a2(n,t,r,e)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function Nu(t){if(!t[Qh]){t[Qh]=!0,pb.forEach(function(n){n!=="selectionchange"&&(ZN.has(n)||rm(n,!1,t),rm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qh]||(e[Qh]=!0,rm("selectionchange",!1,e))}}function a2(t,e,n,r){switch(zb(e)){case 1:var s=fN;break;case 4:s=pN;break;default:s=G0}n=s.bind(null,e,n,t),s=void 0,!sg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}kb(function(){var u=i,h=z0(n),g=[];e:{var y=i2.get(t);if(y!==void 0){var _=Y0,x=t;switch(t){case"keypress":if(bd(n)===0)break e;case"keydown":case"keyup":_=NN;break;case"focusin":x="focus",_=Xp;break;case"focusout":x="blur",_=Xp;break;case"beforeblur":case"afterblur":_=Xp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=kv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=yN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=PN;break;case t2:case n2:case r2:_=_N;break;case s2:_=ON;break;case"scroll":_=mN;break;case"wheel":_=jN;break;case"copy":case"cut":case"paste":_=bN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Pv}var C=(e&4)!==0,S=!C&&t==="scroll",b=C?y!==null?y+"Capture":null:y;C=[];for(var A=u,T;A!==null;){T=A;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,b!==null&&(P=xu(A,b),P!=null&&C.push(ku(A,P,T)))),S)break;A=A.return}0<C.length&&(y=new _(y,x,null,n,h),g.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==ng&&(x=n.relatedTarget||n.fromElement)&&(xa(x)||x[Ui]))break e;if((_||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=u,x=x?xa(x):null,x!==null&&(S=Wa(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=u),_!==x)){if(C=kv,P="onMouseLeave",b="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(C=Pv,P="onPointerLeave",b="onPointerEnter",A="pointer"),S=_==null?y:Cl(_),T=x==null?y:Cl(x),y=new C(P,A+"leave",_,n,h),y.target=S,y.relatedTarget=T,P=null,xa(h)===u&&(C=new C(b,A+"enter",x,n,h),C.target=T,C.relatedTarget=S,P=C),S=P,_&&x)t:{for(C=_,b=x,A=0,T=C;T;T=fl(T))A++;for(T=0,P=b;P;P=fl(P))T++;for(;0<A-T;)C=fl(C),A--;for(;0<T-A;)b=fl(b),T--;for(;A--;){if(C===b||b!==null&&C===b.alternate)break t;C=fl(C),b=fl(b)}C=null}else C=null;_!==null&&$v(g,y,_,C,!1),x!==null&&S!==null&&$v(g,S,x,C,!0)}}e:{if(y=u?Cl(u):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var V=$N;else if(Dv(y))if(Yb)V=KN;else{V=HN;var F=zN}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(V=WN);if(V&&(V=V(t,u))){Qb(g,V,n,h);break e}F&&F(t,y,u),t==="focusout"&&(F=y._wrapperState)&&F.controlled&&y.type==="number"&&Xm(y,"number",y.value)}switch(F=u?Cl(u):window,t){case"focusin":(Dv(F)||F.contentEditable==="true")&&(Il=F,cg=u,ou=null);break;case"focusout":ou=cg=Il=null;break;case"mousedown":ug=!0;break;case"contextmenu":case"mouseup":case"dragend":ug=!1,Bv(g,n,h);break;case"selectionchange":if(YN)break;case"keydown":case"keyup":Bv(g,n,h)}var k;if(J0)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Al?Kb(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Wb&&n.locale!=="ko"&&(Al||I!=="onCompositionStart"?I==="onCompositionEnd"&&Al&&(k=Hb()):(Ao=h,Q0="value"in Ao?Ao.value:Ao.textContent,Al=!0)),F=Qd(u,I),0<F.length&&(I=new Rv(I,t,null,n,h),g.push({event:I,listeners:F}),k?I.data=k:(k=Gb(n),k!==null&&(I.data=k)))),(k=VN?UN(t,n):BN(t,n))&&(u=Qd(u,"onBeforeInput"),0<u.length&&(h=new Rv("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:u}),h.data=k))}o2(g,e)})}function ku(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xu(t,n),i!=null&&r.unshift(ku(t,i,s)),i=xu(t,e),i!=null&&r.push(ku(t,i,s))),t=t.return}return r}function fl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $v(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=xu(n,i),l!=null&&o.unshift(ku(n,l,a))):s||(l=xu(n,i),l!=null&&o.push(ku(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(ek,`
`).replace(tk,"")}function Yh(t,e,n){if(e=zv(e),zv(t)!==e&&n)throw Error(Y(425))}function Yd(){}var hg=null,dg=null;function fg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pg=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(t){return Hv.resolve(null).then(t).catch(sk)}:pg;function sk(t){setTimeout(function(){throw t})}function im(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Iu(e)}function Oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _c=Math.random().toString(36).slice(2),Hs="__reactFiber$"+_c,Ru="__reactProps$"+_c,Ui="__reactContainer$"+_c,mg="__reactEvents$"+_c,ik="__reactListeners$"+_c,ok="__reactHandles$"+_c;function xa(t){var e=t[Hs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ui]||n[Hs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wv(t);t!==null;){if(n=t[Hs])return n;t=Wv(t)}return e}t=n,n=t.parentNode}return null}function lh(t){return t=t[Hs]||t[Ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Wf(t){return t[Ru]||null}var gg=[],Nl=-1;function ea(t){return{current:t}}function nt(t){0>Nl||(t.current=gg[Nl],gg[Nl]=null,Nl--)}function Ye(t,e){Nl++,gg[Nl]=t.current,t.current=e}var Wo={},Sn=ea(Wo),tr=ea(!1),Ra=Wo;function Xl(t,e){var n=t.type.contextTypes;if(!n)return Wo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function nr(t){return t=t.childContextTypes,t!=null}function Xd(){nt(tr),nt(Sn)}function Kv(t,e,n){if(Sn.current!==Wo)throw Error(Y(168));Ye(Sn,e),Ye(tr,n)}function l2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,zC(t)||"Unknown",s));return ht({},n,r)}function Jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wo,Ra=Sn.current,Ye(Sn,t),Ye(tr,tr.current),!0}function Gv(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=l2(t,e,Ra),r.__reactInternalMemoizedMergedChildContext=t,nt(tr),nt(Sn),Ye(Sn,t)):nt(tr),Ye(tr,n)}var Ci=null,Kf=!1,om=!1;function c2(t){Ci===null?Ci=[t]:Ci.push(t)}function ak(t){Kf=!0,c2(t)}function ta(){if(!om&&Ci!==null){om=!0;var t=0,e=Ve;try{var n=Ci;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ci=null,Kf=!1}catch(s){throw Ci!==null&&(Ci=Ci.slice(t+1)),Ob(H0,ta),s}finally{Ve=e,om=!1}}return null}var kl=[],Rl=0,Zd=null,ef=0,Dr=[],jr=0,Pa=null,Ni=1,ki="";function _a(t,e){kl[Rl++]=ef,kl[Rl++]=Zd,Zd=t,ef=e}function u2(t,e,n){Dr[jr++]=Ni,Dr[jr++]=ki,Dr[jr++]=Pa,Pa=t;var r=Ni;t=ki;var s=32-gs(r)-1;r&=~(1<<s),n+=1;var i=32-gs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ni=1<<32-gs(e)+s|n<<s|r,ki=i+t}else Ni=1<<i|n<<s|r,ki=t}function ey(t){t.return!==null&&(_a(t,1),u2(t,1,0))}function ty(t){for(;t===Zd;)Zd=kl[--Rl],kl[Rl]=null,ef=kl[--Rl],kl[Rl]=null;for(;t===Pa;)Pa=Dr[--jr],Dr[jr]=null,ki=Dr[--jr],Dr[jr]=null,Ni=Dr[--jr],Dr[jr]=null}var _r=null,pr=null,rt=!1,fs=null;function h2(t,e){var n=Br(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_r=t,pr=Oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_r=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pa!==null?{id:Ni,overflow:ki}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Br(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_r=t,pr=null,!0):!1;default:return!1}}function yg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vg(t){if(rt){var e=pr;if(e){var n=e;if(!Qv(t,e)){if(yg(t))throw Error(Y(418));e=Oo(n.nextSibling);var r=_r;e&&Qv(t,e)?h2(r,n):(t.flags=t.flags&-4097|2,rt=!1,_r=t)}}else{if(yg(t))throw Error(Y(418));t.flags=t.flags&-4097|2,rt=!1,_r=t}}}function Yv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_r=t}function Xh(t){if(t!==_r)return!1;if(!rt)return Yv(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fg(t.type,t.memoizedProps)),e&&(e=pr)){if(yg(t))throw d2(),Error(Y(418));for(;e;)h2(t,e),e=Oo(e.nextSibling)}if(Yv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=Oo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=_r?Oo(t.stateNode.nextSibling):null;return!0}function d2(){for(var t=pr;t;)t=Oo(t.nextSibling)}function Jl(){pr=_r=null,rt=!1}function ny(t){fs===null?fs=[t]:fs.push(t)}var lk=Qi.ReactCurrentBatchConfig;function Vc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Jh(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xv(t){var e=t._init;return e(t._payload)}function f2(t){function e(b,A){if(t){var T=b.deletions;T===null?(b.deletions=[A],b.flags|=16):T.push(A)}}function n(b,A){if(!t)return null;for(;A!==null;)e(b,A),A=A.sibling;return null}function r(b,A){for(b=new Map;A!==null;)A.key!==null?b.set(A.key,A):b.set(A.index,A),A=A.sibling;return b}function s(b,A){return b=Vo(b,A),b.index=0,b.sibling=null,b}function i(b,A,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<A?(b.flags|=2,A):T):(b.flags|=2,A)):(b.flags|=1048576,A)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,A,T,P){return A===null||A.tag!==6?(A=fm(T,b.mode,P),A.return=b,A):(A=s(A,T),A.return=b,A)}function l(b,A,T,P){var V=T.type;return V===Tl?h(b,A,T.props.children,P,T.key):A!==null&&(A.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===go&&Xv(V)===A.type)?(P=s(A,T.props),P.ref=Vc(b,A,T),P.return=b,P):(P=Nd(T.type,T.key,T.props,null,b.mode,P),P.ref=Vc(b,A,T),P.return=b,P)}function u(b,A,T,P){return A===null||A.tag!==4||A.stateNode.containerInfo!==T.containerInfo||A.stateNode.implementation!==T.implementation?(A=pm(T,b.mode,P),A.return=b,A):(A=s(A,T.children||[]),A.return=b,A)}function h(b,A,T,P,V){return A===null||A.tag!==7?(A=Ca(T,b.mode,P,V),A.return=b,A):(A=s(A,T),A.return=b,A)}function g(b,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return A=fm(""+A,b.mode,T),A.return=b,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Fh:return T=Nd(A.type,A.key,A.props,null,b.mode,T),T.ref=Vc(b,null,A),T.return=b,T;case xl:return A=pm(A,b.mode,T),A.return=b,A;case go:var P=A._init;return g(b,P(A._payload),T)}if(Wc(A)||Lc(A))return A=Ca(A,b.mode,T,null),A.return=b,A;Jh(b,A)}return null}function y(b,A,T,P){var V=A!==null?A.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:a(b,A,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fh:return T.key===V?l(b,A,T,P):null;case xl:return T.key===V?u(b,A,T,P):null;case go:return V=T._init,y(b,A,V(T._payload),P)}if(Wc(T)||Lc(T))return V!==null?null:h(b,A,T,P,null);Jh(b,T)}return null}function _(b,A,T,P,V){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(T)||null,a(A,b,""+P,V);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Fh:return b=b.get(P.key===null?T:P.key)||null,l(A,b,P,V);case xl:return b=b.get(P.key===null?T:P.key)||null,u(A,b,P,V);case go:var F=P._init;return _(b,A,T,F(P._payload),V)}if(Wc(P)||Lc(P))return b=b.get(T)||null,h(A,b,P,V,null);Jh(A,P)}return null}function x(b,A,T,P){for(var V=null,F=null,k=A,I=A=0,L=null;k!==null&&I<T.length;I++){k.index>I?(L=k,k=null):L=k.sibling;var D=y(b,k,T[I],P);if(D===null){k===null&&(k=L);break}t&&k&&D.alternate===null&&e(b,k),A=i(D,A,I),F===null?V=D:F.sibling=D,F=D,k=L}if(I===T.length)return n(b,k),rt&&_a(b,I),V;if(k===null){for(;I<T.length;I++)k=g(b,T[I],P),k!==null&&(A=i(k,A,I),F===null?V=k:F.sibling=k,F=k);return rt&&_a(b,I),V}for(k=r(b,k);I<T.length;I++)L=_(k,b,I,T[I],P),L!==null&&(t&&L.alternate!==null&&k.delete(L.key===null?I:L.key),A=i(L,A,I),F===null?V=L:F.sibling=L,F=L);return t&&k.forEach(function(U){return e(b,U)}),rt&&_a(b,I),V}function C(b,A,T,P){var V=Lc(T);if(typeof V!="function")throw Error(Y(150));if(T=V.call(T),T==null)throw Error(Y(151));for(var F=V=null,k=A,I=A=0,L=null,D=T.next();k!==null&&!D.done;I++,D=T.next()){k.index>I?(L=k,k=null):L=k.sibling;var U=y(b,k,D.value,P);if(U===null){k===null&&(k=L);break}t&&k&&U.alternate===null&&e(b,k),A=i(U,A,I),F===null?V=U:F.sibling=U,F=U,k=L}if(D.done)return n(b,k),rt&&_a(b,I),V;if(k===null){for(;!D.done;I++,D=T.next())D=g(b,D.value,P),D!==null&&(A=i(D,A,I),F===null?V=D:F.sibling=D,F=D);return rt&&_a(b,I),V}for(k=r(b,k);!D.done;I++,D=T.next())D=_(k,b,I,D.value,P),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?I:D.key),A=i(D,A,I),F===null?V=D:F.sibling=D,F=D);return t&&k.forEach(function(q){return e(b,q)}),rt&&_a(b,I),V}function S(b,A,T,P){if(typeof T=="object"&&T!==null&&T.type===Tl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Fh:e:{for(var V=T.key,F=A;F!==null;){if(F.key===V){if(V=T.type,V===Tl){if(F.tag===7){n(b,F.sibling),A=s(F,T.props.children),A.return=b,b=A;break e}}else if(F.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===go&&Xv(V)===F.type){n(b,F.sibling),A=s(F,T.props),A.ref=Vc(b,F,T),A.return=b,b=A;break e}n(b,F);break}else e(b,F);F=F.sibling}T.type===Tl?(A=Ca(T.props.children,b.mode,P,T.key),A.return=b,b=A):(P=Nd(T.type,T.key,T.props,null,b.mode,P),P.ref=Vc(b,A,T),P.return=b,b=P)}return o(b);case xl:e:{for(F=T.key;A!==null;){if(A.key===F)if(A.tag===4&&A.stateNode.containerInfo===T.containerInfo&&A.stateNode.implementation===T.implementation){n(b,A.sibling),A=s(A,T.children||[]),A.return=b,b=A;break e}else{n(b,A);break}else e(b,A);A=A.sibling}A=pm(T,b.mode,P),A.return=b,b=A}return o(b);case go:return F=T._init,S(b,A,F(T._payload),P)}if(Wc(T))return x(b,A,T,P);if(Lc(T))return C(b,A,T,P);Jh(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,A!==null&&A.tag===6?(n(b,A.sibling),A=s(A,T),A.return=b,b=A):(n(b,A),A=fm(T,b.mode,P),A.return=b,b=A),o(b)):n(b,A)}return S}var Zl=f2(!0),p2=f2(!1),tf=ea(null),nf=null,Pl=null,ry=null;function sy(){ry=Pl=nf=null}function iy(t){var e=tf.current;nt(tf),t._currentValue=e}function wg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fl(t,e){nf=t,ry=Pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(er=!0),t.firstContext=null)}function zr(t){var e=t._currentValue;if(ry!==t)if(t={context:t,memoizedValue:e,next:null},Pl===null){if(nf===null)throw Error(Y(308));Pl=t,nf.dependencies={lanes:0,firstContext:t}}else Pl=Pl.next=t;return e}var Ta=null;function oy(t){Ta===null?Ta=[t]:Ta.push(t)}function m2(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,oy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Bi(t,r)}function Bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yo=!1;function ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Bi(t,n)}return s=r.interleaved,s===null?(e.next=e,oy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Bi(t,n)}function xd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,W0(t,n)}}function Jv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rf(t,e,n,r){var s=t.updateQueue;yo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var g=s.baseState;o=0,h=u=l=null,a=i;do{var y=a.lane,_=a.eventTime;if((r&y)===y){h!==null&&(h=h.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,C=a;switch(y=e,_=n,C.tag){case 1:if(x=C.payload,typeof x=="function"){g=x.call(_,g,y);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=C.payload,y=typeof x=="function"?x.call(_,g,y):x,y==null)break e;g=ht({},g,y);break e;case 2:yo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[a]:y.push(a))}else _={eventTime:_,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=_,l=g):h=h.next=_,o|=y;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;y=a,a=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(h===null&&(l=g),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Oa|=o,t.lanes=o,t.memoizedState=g}}function Zv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var ch={},Gs=ea(ch),Pu=ea(ch),Lu=ea(ch);function Aa(t){if(t===ch)throw Error(Y(174));return t}function ly(t,e){switch(Ye(Lu,e),Ye(Pu,t),Ye(Gs,ch),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zm(e,t)}nt(Gs),Ye(Gs,e)}function ec(){nt(Gs),nt(Pu),nt(Lu)}function y2(t){Aa(Lu.current);var e=Aa(Gs.current),n=Zm(e,t.type);e!==n&&(Ye(Pu,t),Ye(Gs,n))}function cy(t){Pu.current===t&&(nt(Gs),nt(Pu))}var ct=ea(0);function sf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var am=[];function uy(){for(var t=0;t<am.length;t++)am[t]._workInProgressVersionPrimary=null;am.length=0}var Td=Qi.ReactCurrentDispatcher,lm=Qi.ReactCurrentBatchConfig,La=0,ut=null,Ut=null,Wt=null,of=!1,au=!1,Ou=0,ck=0;function vn(){throw Error(Y(321))}function hy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_s(t[n],e[n]))return!1;return!0}function dy(t,e,n,r,s,i){if(La=i,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?fk:pk,t=n(r,s),au){i=0;do{if(au=!1,Ou=0,25<=i)throw Error(Y(301));i+=1,Wt=Ut=null,e.updateQueue=null,Td.current=mk,t=n(r,s)}while(au)}if(Td.current=af,e=Ut!==null&&Ut.next!==null,La=0,Wt=Ut=ut=null,of=!1,e)throw Error(Y(300));return t}function fy(){var t=Ou!==0;return Ou=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?ut.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Hr(){if(Ut===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=Wt===null?ut.memoizedState:Wt.next;if(e!==null)Wt=e,Ut=t;else{if(t===null)throw Error(Y(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Wt===null?ut.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Du(t,e){return typeof e=="function"?e(t):e}function cm(t){var e=Hr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((La&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,ut.lanes|=h,Oa|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,_s(r,e.memoizedState)||(er=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ut.lanes|=i,Oa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function um(t){var e=Hr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_s(i,e.memoizedState)||(er=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function v2(){}function w2(t,e){var n=ut,r=Hr(),s=e(),i=!_s(r.memoizedState,s);if(i&&(r.memoizedState=s,er=!0),r=r.queue,py(b2.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,ju(9,E2.bind(null,n,r,s,e),void 0,null),Kt===null)throw Error(Y(349));La&30||_2(n,e,s)}return s}function _2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function E2(t,e,n,r){e.value=n,e.getSnapshot=r,x2(e)&&T2(t)}function b2(t,e,n){return n(function(){x2(e)&&T2(t)})}function x2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_s(t,n)}catch{return!0}}function T2(t){var e=Bi(t,1);e!==null&&ys(e,t,1,-1)}function ew(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=dk.bind(null,ut,t),[e.memoizedState,t]}function ju(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function A2(){return Hr().memoizedState}function Ad(t,e,n,r){var s=$s();ut.flags|=t,s.memoizedState=ju(1|e,n,void 0,r===void 0?null:r)}function Gf(t,e,n,r){var s=Hr();r=r===void 0?null:r;var i=void 0;if(Ut!==null){var o=Ut.memoizedState;if(i=o.destroy,r!==null&&hy(r,o.deps)){s.memoizedState=ju(e,n,i,r);return}}ut.flags|=t,s.memoizedState=ju(1|e,n,i,r)}function tw(t,e){return Ad(8390656,8,t,e)}function py(t,e){return Gf(2048,8,t,e)}function I2(t,e){return Gf(4,2,t,e)}function S2(t,e){return Gf(4,4,t,e)}function C2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function N2(t,e,n){return n=n!=null?n.concat([t]):null,Gf(4,4,C2.bind(null,e,t),n)}function my(){}function k2(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R2(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function P2(t,e,n){return La&21?(_s(n,e)||(n=Mb(),ut.lanes|=n,Oa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,er=!0),t.memoizedState=n)}function uk(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=lm.transition;lm.transition={};try{t(!1),e()}finally{Ve=n,lm.transition=r}}function L2(){return Hr().memoizedState}function hk(t,e,n){var r=Mo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O2(t))D2(e,n);else if(n=m2(t,e,n,r),n!==null){var s=Fn();ys(n,t,r,s),j2(n,e,r)}}function dk(t,e,n){var r=Mo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O2(t))D2(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,_s(a,o)){var l=e.interleaved;l===null?(s.next=s,oy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=m2(t,e,s,r),n!==null&&(s=Fn(),ys(n,t,r,s),j2(n,e,r))}}function O2(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function D2(t,e){au=of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,W0(t,n)}}var af={readContext:zr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},fk={readContext:zr,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:zr,useEffect:tw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ad(4194308,4,C2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ad(4,2,t,e)},useMemo:function(t,e){var n=$s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hk.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:ew,useDebugValue:my,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=ew(!1),e=t[0];return t=uk.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,s=$s();if(rt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Kt===null)throw Error(Y(349));La&30||_2(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,tw(b2.bind(null,r,i,t),[t]),r.flags|=2048,ju(9,E2.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=$s(),e=Kt.identifierPrefix;if(rt){var n=ki,r=Ni;n=(r&~(1<<32-gs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ck++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pk={readContext:zr,useCallback:k2,useContext:zr,useEffect:py,useImperativeHandle:N2,useInsertionEffect:I2,useLayoutEffect:S2,useMemo:R2,useReducer:cm,useRef:A2,useState:function(){return cm(Du)},useDebugValue:my,useDeferredValue:function(t){var e=Hr();return P2(e,Ut.memoizedState,t)},useTransition:function(){var t=cm(Du)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:v2,useSyncExternalStore:w2,useId:L2,unstable_isNewReconciler:!1},mk={readContext:zr,useCallback:k2,useContext:zr,useEffect:py,useImperativeHandle:N2,useInsertionEffect:I2,useLayoutEffect:S2,useMemo:R2,useReducer:um,useRef:A2,useState:function(){return um(Du)},useDebugValue:my,useDeferredValue:function(t){var e=Hr();return Ut===null?e.memoizedState=t:P2(e,Ut.memoizedState,t)},useTransition:function(){var t=um(Du)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:v2,useSyncExternalStore:w2,useId:L2,unstable_isNewReconciler:!1};function hs(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _g(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qf={isMounted:function(t){return(t=t._reactInternals)?Wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=Mo(t),i=ji(r,s);i.payload=e,n!=null&&(i.callback=n),e=Do(t,i,s),e!==null&&(ys(e,t,s,r),xd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=Mo(t),i=ji(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Do(t,i,s),e!==null&&(ys(e,t,s,r),xd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fn(),r=Mo(t),s=ji(n,r);s.tag=2,e!=null&&(s.callback=e),e=Do(t,s,r),e!==null&&(ys(e,t,r,n),xd(e,t,r))}};function nw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Cu(n,r)||!Cu(s,i):!0}function M2(t,e,n){var r=!1,s=Wo,i=e.contextType;return typeof i=="object"&&i!==null?i=zr(i):(s=nr(e)?Ra:Sn.current,r=e.contextTypes,i=(r=r!=null)?Xl(t,s):Wo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function rw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qf.enqueueReplaceState(e,e.state,null)}function Eg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ay(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=zr(i):(i=nr(e)?Ra:Sn.current,s.context=Xl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_g(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qf.enqueueReplaceState(s,s.state,null),rf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tc(t,e){try{var n="",r=e;do n+=$C(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gk=typeof WeakMap=="function"?WeakMap:Map;function V2(t,e,n){n=ji(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cf||(cf=!0,Pg=r),bg(t,e)},n}function U2(t,e,n){n=ji(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){bg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bg(t,e),typeof r!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=kk.bind(null,t,e,n),e.then(t,t))}function iw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ow(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ji(-1,1),e.tag=2,Do(n,e,1))),n.lanes|=1),t)}var yk=Qi.ReactCurrentOwner,er=!1;function Un(t,e,n,r){e.child=t===null?p2(e,null,n,r):Zl(e,t.child,n,r)}function aw(t,e,n,r,s){n=n.render;var i=e.ref;return Fl(e,s),r=dy(t,e,n,r,i,s),n=fy(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fi(t,e,s)):(rt&&n&&ey(e),e.flags|=1,Un(t,e,r,s),e.child)}function lw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!xy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,B2(t,e,i,r,s)):(t=Nd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Cu,n(o,r)&&t.ref===e.ref)return Fi(t,e,s)}return e.flags|=1,t=Vo(i,r),t.ref=e.ref,t.return=e,e.child=t}function B2(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Cu(i,r)&&t.ref===e.ref)if(er=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(er=!0);else return e.lanes=t.lanes,Fi(t,e,s)}return xg(t,e,n,r,s)}function F2(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ol,fr),fr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(Ol,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ye(Ol,fr),fr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ye(Ol,fr),fr|=r;return Un(t,e,s,n),e.child}function q2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xg(t,e,n,r,s){var i=nr(n)?Ra:Sn.current;return i=Xl(e,i),Fl(e,s),n=dy(t,e,n,r,i,s),r=fy(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fi(t,e,s)):(rt&&r&&ey(e),e.flags|=1,Un(t,e,n,s),e.child)}function cw(t,e,n,r,s){if(nr(n)){var i=!0;Jd(e)}else i=!1;if(Fl(e,s),e.stateNode===null)Id(t,e),M2(e,n,r),Eg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zr(u):(u=nr(n)?Ra:Sn.current,u=Xl(e,u));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&rw(e,o,r,u),yo=!1;var y=e.memoizedState;o.state=y,rf(e,r,o,s),l=e.memoizedState,a!==r||y!==l||tr.current||yo?(typeof h=="function"&&(_g(e,n,h,r),l=e.memoizedState),(a=yo||nw(e,n,a,r,y,l,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,g2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:hs(e.type,a),o.props=u,g=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zr(l):(l=nr(n)?Ra:Sn.current,l=Xl(e,l));var _=n.getDerivedStateFromProps;(h=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||y!==l)&&rw(e,o,r,l),yo=!1,y=e.memoizedState,o.state=y,rf(e,r,o,s);var x=e.memoizedState;a!==g||y!==x||tr.current||yo?(typeof _=="function"&&(_g(e,n,_,r),x=e.memoizedState),(u=yo||nw(e,n,u,r,y,x,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Tg(t,e,n,r,i,s)}function Tg(t,e,n,r,s,i){q2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Gv(e,n,!1),Fi(t,e,i);r=e.stateNode,yk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zl(e,t.child,null,i),e.child=Zl(e,null,a,i)):Un(t,e,a,i),e.memoizedState=r.state,s&&Gv(e,n,!0),e.child}function $2(t){var e=t.stateNode;e.pendingContext?Kv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kv(t,e.context,!1),ly(t,e.containerInfo)}function uw(t,e,n,r,s){return Jl(),ny(s),e.flags|=256,Un(t,e,n,r),e.child}var Ag={dehydrated:null,treeContext:null,retryLane:0};function Ig(t){return{baseLanes:t,cachePool:null,transitions:null}}function z2(t,e,n){var r=e.pendingProps,s=ct.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ye(ct,s&1),t===null)return vg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jf(o,r,0,null),t=Ca(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ig(n),e.memoizedState=Ag,t):gy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return vk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Vo(a,i):(i=Ca(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ig(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ag,r}return i=t.child,t=i.sibling,r=Vo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gy(t,e){return e=Jf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zh(t,e,n,r){return r!==null&&ny(r),Zl(e,t.child,null,n),t=gy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=hm(Error(Y(422))),Zh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Jf({mode:"visible",children:r.children},s,0,null),i=Ca(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Zl(e,t.child,null,o),e.child.memoizedState=Ig(o),e.memoizedState=Ag,i);if(!(e.mode&1))return Zh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=hm(i,r,void 0),Zh(t,e,o,r)}if(a=(o&t.childLanes)!==0,er||a){if(r=Kt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bi(t,s),ys(r,t,s,-1))}return by(),r=hm(Error(Y(421))),Zh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Rk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pr=Oo(s.nextSibling),_r=e,rt=!0,fs=null,t!==null&&(Dr[jr++]=Ni,Dr[jr++]=ki,Dr[jr++]=Pa,Ni=t.id,ki=t.overflow,Pa=e),e=gy(e,r.children),e.flags|=4096,e)}function hw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wg(t.return,e,n)}function dm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function H2(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Un(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hw(t,n,e);else if(t.tag===19)hw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(ct,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),dm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}dm(e,!0,n,null,i);break;case"together":dm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Vo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wk(t,e,n){switch(e.tag){case 3:$2(e),Jl();break;case 5:y2(e);break;case 1:nr(e.type)&&Jd(e);break;case 4:ly(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ye(tf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?z2(t,e,n):(Ye(ct,ct.current&1),t=Fi(t,e,n),t!==null?t.sibling:null);Ye(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return H2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ye(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,F2(t,e,n)}return Fi(t,e,n)}var W2,Sg,K2,G2;W2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sg=function(){};K2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Aa(Gs.current);var i=null;switch(n){case"input":s=Qm(t,s),r=Qm(t,r),i=[];break;case"select":s=ht({},s,{value:void 0}),r=ht({},r,{value:void 0}),i=[];break;case"textarea":s=Jm(t,s),r=Jm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yd)}eg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};G2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uc(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _k(t,e,n){var r=e.pendingProps;switch(ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(e),null;case 1:return nr(e.type)&&Xd(),wn(e),null;case 3:return r=e.stateNode,ec(),nt(tr),nt(Sn),uy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fs!==null&&(Dg(fs),fs=null))),Sg(t,e),wn(e),null;case 5:cy(e);var s=Aa(Lu.current);if(n=e.type,t!==null&&e.stateNode!=null)K2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return wn(e),null}if(t=Aa(Gs.current),Xh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Hs]=e,r[Ru]=i,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<Gc.length;s++)Ze(Gc[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":_v(r,i),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ze("invalid",r);break;case"textarea":bv(r,i),Ze("invalid",r)}eg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yh(r.textContent,a,t),s=["children",""+a]):Eu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ze("scroll",r)}switch(n){case"input":qh(r),Ev(r,i,!0);break;case"textarea":qh(r),xv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hs]=e,t[Ru]=r,W2(t,e,!1,!1),e.stateNode=t;e:{switch(o=tg(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),s=r;break;case"iframe":case"object":case"embed":Ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<Gc.length;s++)Ze(Gc[s],t);s=r;break;case"source":Ze("error",t),s=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),s=r;break;case"details":Ze("toggle",t),s=r;break;case"input":_v(t,r),s=Qm(t,r),Ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ht({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":bv(t,r),s=Jm(t,r),Ze("invalid",t);break;default:s=r}eg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ab(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xb(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bu(t,l):typeof l=="number"&&bu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ze("scroll",t):l!=null&&B0(t,i,l,o))}switch(n){case"input":qh(t),Ev(t,r,!1);break;case"textarea":qh(t),xv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ho(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ml(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ml(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wn(e),null;case 6:if(t&&e.stateNode!=null)G2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Aa(Lu.current),Aa(Gs.current),Xh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hs]=e,(i=r.nodeValue!==n)&&(t=_r,t!==null))switch(t.tag){case 3:Yh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hs]=e,e.stateNode=r}return wn(e),null;case 13:if(nt(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&pr!==null&&e.mode&1&&!(e.flags&128))d2(),Jl(),e.flags|=98560,i=!1;else if(i=Xh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Hs]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wn(e),i=!1}else fs!==null&&(Dg(fs),fs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Ft===0&&(Ft=3):by())),e.updateQueue!==null&&(e.flags|=4),wn(e),null);case 4:return ec(),Sg(t,e),t===null&&Nu(e.stateNode.containerInfo),wn(e),null;case 10:return iy(e.type._context),wn(e),null;case 17:return nr(e.type)&&Xd(),wn(e),null;case 19:if(nt(ct),i=e.memoizedState,i===null)return wn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Uc(i,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sf(t),o!==null){for(e.flags|=128,Uc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(ct,ct.current&1|2),e.child}t=t.sibling}i.tail!==null&&Tt()>nc&&(e.flags|=128,r=!0,Uc(i,!1),e.lanes=4194304)}else{if(!r)if(t=sf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rt)return wn(e),null}else 2*Tt()-i.renderingStartTime>nc&&n!==1073741824&&(e.flags|=128,r=!0,Uc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Tt(),e.sibling=null,n=ct.current,Ye(ct,r?n&1|2:n&1),e):(wn(e),null);case 22:case 23:return Ey(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fr&1073741824&&(wn(e),e.subtreeFlags&6&&(e.flags|=8192)):wn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function Ek(t,e){switch(ty(e),e.tag){case 1:return nr(e.type)&&Xd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ec(),nt(tr),nt(Sn),uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cy(e),null;case 13:if(nt(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(ct),null;case 4:return ec(),null;case 10:return iy(e.type._context),null;case 22:case 23:return Ey(),null;case 24:return null;default:return null}}var ed=!1,xn=!1,bk=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ll(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Cg(t,e,n){try{n()}catch(r){gt(t,e,r)}}var dw=!1;function xk(t,e){if(hg=Kd,t=Zb(),Z0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,g=t,y=null;t:for(;;){for(var _;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==i||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(_=g.firstChild)!==null;)y=g,g=_;for(;;){if(g===t)break t;if(y===n&&++u===s&&(a=o),y===i&&++h===r&&(l=o),(_=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dg={focusedElem:t,selectionRange:n},Kd=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var C=x.memoizedProps,S=x.memoizedState,b=e.stateNode,A=b.getSnapshotBeforeUpdate(e.elementType===e.type?C:hs(e.type,C),S);b.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(P){gt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return x=dw,dw=!1,x}function lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cg(e,n,i)}s=s.next}while(s!==r)}}function Yf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Q2(t){var e=t.alternate;e!==null&&(t.alternate=null,Q2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hs],delete e[Ru],delete e[mg],delete e[ik],delete e[ok])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Y2(t){return t.tag===5||t.tag===3||t.tag===4}function fw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yd));else if(r!==4&&(t=t.child,t!==null))for(kg(t,e,n),t=t.sibling;t!==null;)kg(t,e,n),t=t.sibling}function Rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rg(t,e,n),t=t.sibling;t!==null;)Rg(t,e,n),t=t.sibling}var Zt=null,ds=!1;function fo(t,e,n){for(n=n.child;n!==null;)X2(t,e,n),n=n.sibling}function X2(t,e,n){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(qf,n)}catch{}switch(n.tag){case 5:xn||Ll(n,e);case 6:var r=Zt,s=ds;Zt=null,fo(t,e,n),Zt=r,ds=s,Zt!==null&&(ds?(t=Zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zt.removeChild(n.stateNode));break;case 18:Zt!==null&&(ds?(t=Zt,n=n.stateNode,t.nodeType===8?im(t.parentNode,n):t.nodeType===1&&im(t,n),Iu(t)):im(Zt,n.stateNode));break;case 4:r=Zt,s=ds,Zt=n.stateNode.containerInfo,ds=!0,fo(t,e,n),Zt=r,ds=s;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cg(n,e,o),s=s.next}while(s!==r)}fo(t,e,n);break;case 1:if(!xn&&(Ll(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}fo(t,e,n);break;case 21:fo(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,fo(t,e,n),xn=r):fo(t,e,n);break;default:fo(t,e,n)}}function pw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bk),e.forEach(function(r){var s=Pk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ls(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zt=a.stateNode,ds=!1;break e;case 3:Zt=a.stateNode.containerInfo,ds=!0;break e;case 4:Zt=a.stateNode.containerInfo,ds=!0;break e}a=a.return}if(Zt===null)throw Error(Y(160));X2(i,o,s),Zt=null,ds=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){gt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)J2(e,t),e=e.sibling}function J2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ls(e,t),qs(t),r&4){try{lu(3,t,t.return),Yf(3,t)}catch(C){gt(t,t.return,C)}try{lu(5,t,t.return)}catch(C){gt(t,t.return,C)}}break;case 1:ls(e,t),qs(t),r&512&&n!==null&&Ll(n,n.return);break;case 5:if(ls(e,t),qs(t),r&512&&n!==null&&Ll(n,n.return),t.flags&32){var s=t.stateNode;try{bu(s,"")}catch(C){gt(t,t.return,C)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&_b(s,i),tg(a,o);var u=tg(a,i);for(o=0;o<l.length;o+=2){var h=l[o],g=l[o+1];h==="style"?Ab(s,g):h==="dangerouslySetInnerHTML"?xb(s,g):h==="children"?bu(s,g):B0(s,h,g,u)}switch(a){case"input":Ym(s,i);break;case"textarea":Eb(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Ml(s,!!i.multiple,_,!1):y!==!!i.multiple&&(i.defaultValue!=null?Ml(s,!!i.multiple,i.defaultValue,!0):Ml(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ru]=i}catch(C){gt(t,t.return,C)}}break;case 6:if(ls(e,t),qs(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(C){gt(t,t.return,C)}}break;case 3:if(ls(e,t),qs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(C){gt(t,t.return,C)}break;case 4:ls(e,t),qs(t);break;case 13:ls(e,t),qs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wy=Tt())),r&4&&pw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(u=xn)||h,ls(e,t),xn=u):ls(e,t),qs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(g=ne=h;ne!==null;){switch(y=ne,_=y.child,y.tag){case 0:case 11:case 14:case 15:lu(4,y,y.return);break;case 1:Ll(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(C){gt(r,n,C)}}break;case 5:Ll(y,y.return);break;case 22:if(y.memoizedState!==null){gw(g);continue}}_!==null?(_.return=y,ne=_):gw(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{s=g.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tb("display",o))}catch(C){gt(t,t.return,C)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(C){gt(t,t.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ls(e,t),qs(t),r&4&&pw(t);break;case 21:break;default:ls(e,t),qs(t)}}function qs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Y2(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bu(s,""),r.flags&=-33);var i=fw(t);Rg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fw(t);kg(t,a,o);break;default:throw Error(Y(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tk(t,e,n){ne=t,Z2(t)}function Z2(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ed;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||xn;a=ed;var u=xn;if(ed=o,(xn=l)&&!u)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?yw(s):l!==null?(l.return=o,ne=l):yw(s);for(;i!==null;)ne=i,Z2(i),i=i.sibling;ne=s,ed=a,xn=u}mw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):mw(t)}}function mw(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||Yf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:hs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&Iu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}xn||e.flags&512&&Ng(e)}catch(y){gt(e,e.return,y)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function gw(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function yw(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yf(4,e)}catch(l){gt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){gt(e,s,l)}}var i=e.return;try{Ng(e)}catch(l){gt(e,i,l)}break;case 5:var o=e.return;try{Ng(e)}catch(l){gt(e,o,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var Ak=Math.ceil,lf=Qi.ReactCurrentDispatcher,yy=Qi.ReactCurrentOwner,qr=Qi.ReactCurrentBatchConfig,ke=0,Kt=null,Pt=null,nn=0,fr=0,Ol=ea(0),Ft=0,Mu=null,Oa=0,Xf=0,vy=0,cu=null,Jn=null,wy=0,nc=1/0,Si=null,cf=!1,Pg=null,jo=null,td=!1,Io=null,uf=0,uu=0,Lg=null,Sd=-1,Cd=0;function Fn(){return ke&6?Tt():Sd!==-1?Sd:Sd=Tt()}function Mo(t){return t.mode&1?ke&2&&nn!==0?nn&-nn:lk.transition!==null?(Cd===0&&(Cd=Mb()),Cd):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:zb(t.type)),t):1}function ys(t,e,n,r){if(50<uu)throw uu=0,Lg=null,Error(Y(185));oh(t,n,r),(!(ke&2)||t!==Kt)&&(t===Kt&&(!(ke&2)&&(Xf|=n),Ft===4&&wo(t,nn)),rr(t,r),n===1&&ke===0&&!(e.mode&1)&&(nc=Tt()+500,Kf&&ta()))}function rr(t,e){var n=t.callbackNode;lN(t,e);var r=Wd(t,t===Kt?nn:0);if(r===0)n!==null&&Iv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Iv(n),e===1)t.tag===0?ak(vw.bind(null,t)):c2(vw.bind(null,t)),rk(function(){!(ke&6)&&ta()}),n=null;else{switch(Vb(r)){case 1:n=H0;break;case 4:n=Db;break;case 16:n=Hd;break;case 536870912:n=jb;break;default:n=Hd}n=ax(n,ex.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ex(t,e){if(Sd=-1,Cd=0,ke&6)throw Error(Y(327));var n=t.callbackNode;if(ql()&&t.callbackNode!==n)return null;var r=Wd(t,t===Kt?nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hf(t,r);else{e=r;var s=ke;ke|=2;var i=nx();(Kt!==t||nn!==e)&&(Si=null,nc=Tt()+500,Sa(t,e));do try{Ck();break}catch(a){tx(t,a)}while(!0);sy(),lf.current=i,ke=s,Pt!==null?e=0:(Kt=null,nn=0,e=Ft)}if(e!==0){if(e===2&&(s=og(t),s!==0&&(r=s,e=Og(t,s))),e===1)throw n=Mu,Sa(t,0),wo(t,r),rr(t,Tt()),n;if(e===6)wo(t,r);else{if(s=t.current.alternate,!(r&30)&&!Ik(s)&&(e=hf(t,r),e===2&&(i=og(t),i!==0&&(r=i,e=Og(t,i))),e===1))throw n=Mu,Sa(t,0),wo(t,r),rr(t,Tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Ea(t,Jn,Si);break;case 3:if(wo(t,r),(r&130023424)===r&&(e=wy+500-Tt(),10<e)){if(Wd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=pg(Ea.bind(null,t,Jn,Si),e);break}Ea(t,Jn,Si);break;case 4:if(wo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-gs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ak(r/1960))-r,10<r){t.timeoutHandle=pg(Ea.bind(null,t,Jn,Si),r);break}Ea(t,Jn,Si);break;case 5:Ea(t,Jn,Si);break;default:throw Error(Y(329))}}}return rr(t,Tt()),t.callbackNode===n?ex.bind(null,t):null}function Og(t,e){var n=cu;return t.current.memoizedState.isDehydrated&&(Sa(t,e).flags|=256),t=hf(t,e),t!==2&&(e=Jn,Jn=n,e!==null&&Dg(e)),t}function Dg(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function Ik(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_s(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wo(t,e){for(e&=~vy,e&=~Xf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gs(e),r=1<<n;t[n]=-1,e&=~r}}function vw(t){if(ke&6)throw Error(Y(327));ql();var e=Wd(t,0);if(!(e&1))return rr(t,Tt()),null;var n=hf(t,e);if(t.tag!==0&&n===2){var r=og(t);r!==0&&(e=r,n=Og(t,r))}if(n===1)throw n=Mu,Sa(t,0),wo(t,e),rr(t,Tt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ea(t,Jn,Si),rr(t,Tt()),null}function _y(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(nc=Tt()+500,Kf&&ta())}}function Da(t){Io!==null&&Io.tag===0&&!(ke&6)&&ql();var e=ke;ke|=1;var n=qr.transition,r=Ve;try{if(qr.transition=null,Ve=1,t)return t()}finally{Ve=r,qr.transition=n,ke=e,!(ke&6)&&ta()}}function Ey(){fr=Ol.current,nt(Ol)}function Sa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nk(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xd();break;case 3:ec(),nt(tr),nt(Sn),uy();break;case 5:cy(r);break;case 4:ec();break;case 13:nt(ct);break;case 19:nt(ct);break;case 10:iy(r.type._context);break;case 22:case 23:Ey()}n=n.return}if(Kt=t,Pt=t=Vo(t.current,null),nn=fr=e,Ft=0,Mu=null,vy=Xf=Oa=0,Jn=cu=null,Ta!==null){for(e=0;e<Ta.length;e++)if(n=Ta[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ta=null}return t}function tx(t,e){do{var n=Pt;try{if(sy(),Td.current=af,of){for(var r=ut.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}of=!1}if(La=0,Wt=Ut=ut=null,au=!1,Ou=0,yy.current=null,n===null||n.return===null){Ft=1,Mu=e,Pt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=nn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var _=iw(o);if(_!==null){_.flags&=-257,ow(_,o,a,i,e),_.mode&1&&sw(i,u,e),e=_,l=u;var x=e.updateQueue;if(x===null){var C=new Set;C.add(l),e.updateQueue=C}else x.add(l);break e}else{if(!(e&1)){sw(i,u,e),by();break e}l=Error(Y(426))}}else if(rt&&a.mode&1){var S=iw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ow(S,o,a,i,e),ny(tc(l,a));break e}}i=l=tc(l,a),Ft!==4&&(Ft=2),cu===null?cu=[i]:cu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=V2(i,l,e);Jv(i,b);break e;case 1:a=l;var A=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof A.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(jo===null||!jo.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=U2(i,a,e);Jv(i,P);break e}}i=i.return}while(i!==null)}sx(n)}catch(V){e=V,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function nx(){var t=lf.current;return lf.current=af,t===null?af:t}function by(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Kt===null||!(Oa&268435455)&&!(Xf&268435455)||wo(Kt,nn)}function hf(t,e){var n=ke;ke|=2;var r=nx();(Kt!==t||nn!==e)&&(Si=null,Sa(t,e));do try{Sk();break}catch(s){tx(t,s)}while(!0);if(sy(),ke=n,lf.current=r,Pt!==null)throw Error(Y(261));return Kt=null,nn=0,Ft}function Sk(){for(;Pt!==null;)rx(Pt)}function Ck(){for(;Pt!==null&&!ZC();)rx(Pt)}function rx(t){var e=ox(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?sx(t):Pt=e,yy.current=null}function sx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ek(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Pt=null;return}}else if(n=_k(n,e,fr),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Ft===0&&(Ft=5)}function Ea(t,e,n){var r=Ve,s=qr.transition;try{qr.transition=null,Ve=1,Nk(t,e,n,r)}finally{qr.transition=s,Ve=r}return null}function Nk(t,e,n,r){do ql();while(Io!==null);if(ke&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(cN(t,i),t===Kt&&(Pt=Kt=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||td||(td=!0,ax(Hd,function(){return ql(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qr.transition,qr.transition=null;var o=Ve;Ve=1;var a=ke;ke|=4,yy.current=null,xk(t,n),J2(n,t),QN(dg),Kd=!!hg,dg=hg=null,t.current=n,Tk(n),eN(),ke=a,Ve=o,qr.transition=i}else t.current=n;if(td&&(td=!1,Io=t,uf=s),i=t.pendingLanes,i===0&&(jo=null),rN(n.stateNode),rr(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(cf)throw cf=!1,t=Pg,Pg=null,t;return uf&1&&t.tag!==0&&ql(),i=t.pendingLanes,i&1?t===Lg?uu++:(uu=0,Lg=t):uu=0,ta(),null}function ql(){if(Io!==null){var t=Vb(uf),e=qr.transition,n=Ve;try{if(qr.transition=null,Ve=16>t?16:t,Io===null)var r=!1;else{if(t=Io,Io=null,uf=0,ke&6)throw Error(Y(331));var s=ke;for(ke|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:lu(8,h,i)}var g=h.child;if(g!==null)g.return=h,ne=g;else for(;ne!==null;){h=ne;var y=h.sibling,_=h.return;if(Q2(h),h===u){ne=null;break}if(y!==null){y.return=_,ne=y;break}ne=_}}}var x=i.alternate;if(x!==null){var C=x.child;if(C!==null){x.child=null;do{var S=C.sibling;C.sibling=null,C=S}while(C!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lu(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ne=b;break e}ne=i.return}}var A=t.current;for(ne=A;ne!==null;){o=ne;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ne=T;else e:for(o=A;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yf(9,a)}}catch(V){gt(a,a.return,V)}if(a===o){ne=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ne=P;break e}ne=a.return}}if(ke=s,ta(),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(qf,t)}catch{}r=!0}return r}finally{Ve=n,qr.transition=e}}return!1}function ww(t,e,n){e=tc(n,e),e=V2(t,e,1),t=Do(t,e,1),e=Fn(),t!==null&&(oh(t,1,e),rr(t,e))}function gt(t,e,n){if(t.tag===3)ww(t,t,n);else for(;e!==null;){if(e.tag===3){ww(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jo===null||!jo.has(r))){t=tc(n,t),t=U2(e,t,1),e=Do(e,t,1),t=Fn(),e!==null&&(oh(e,1,t),rr(e,t));break}}e=e.return}}function kk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(nn&n)===n&&(Ft===4||Ft===3&&(nn&130023424)===nn&&500>Tt()-wy?Sa(t,0):vy|=n),rr(t,e)}function ix(t,e){e===0&&(t.mode&1?(e=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):e=1);var n=Fn();t=Bi(t,e),t!==null&&(oh(t,e,n),rr(t,n))}function Rk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ix(t,n)}function Pk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),ix(t,n)}var ox;ox=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tr.current)er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return er=!1,wk(t,e,n);er=!!(t.flags&131072)}else er=!1,rt&&e.flags&1048576&&u2(e,ef,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Id(t,e),t=e.pendingProps;var s=Xl(e,Sn.current);Fl(e,n),s=dy(null,e,r,t,s,n);var i=fy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(r)?(i=!0,Jd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ay(e),s.updater=Qf,e.stateNode=s,s._reactInternals=e,Eg(e,r,t,n),e=Tg(null,e,r,!0,i,n)):(e.tag=0,rt&&i&&ey(e),Un(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ok(r),t=hs(r,t),s){case 0:e=xg(null,e,r,t,n);break e;case 1:e=cw(null,e,r,t,n);break e;case 11:e=aw(null,e,r,t,n);break e;case 14:e=lw(null,e,r,hs(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hs(r,s),xg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hs(r,s),cw(t,e,r,s,n);case 3:e:{if($2(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,g2(t,e),rf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=tc(Error(Y(423)),e),e=uw(t,e,r,n,s);break e}else if(r!==s){s=tc(Error(Y(424)),e),e=uw(t,e,r,n,s);break e}else for(pr=Oo(e.stateNode.containerInfo.firstChild),_r=e,rt=!0,fs=null,n=p2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jl(),r===s){e=Fi(t,e,n);break e}Un(t,e,r,n)}e=e.child}return e;case 5:return y2(e),t===null&&vg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,fg(r,s)?o=null:i!==null&&fg(r,i)&&(e.flags|=32),q2(t,e),Un(t,e,o,n),e.child;case 6:return t===null&&vg(e),null;case 13:return z2(t,e,n);case 4:return ly(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zl(e,null,r,n):Un(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hs(r,s),aw(t,e,r,s,n);case 7:return Un(t,e,e.pendingProps,n),e.child;case 8:return Un(t,e,e.pendingProps.children,n),e.child;case 12:return Un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ye(tf,r._currentValue),r._currentValue=o,i!==null)if(_s(i.value,o)){if(i.children===s.children&&!tr.current){e=Fi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ji(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Un(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fl(e,n),s=zr(s),r=r(s),e.flags|=1,Un(t,e,r,n),e.child;case 14:return r=e.type,s=hs(r,e.pendingProps),s=hs(r.type,s),lw(t,e,r,s,n);case 15:return B2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hs(r,s),Id(t,e),e.tag=1,nr(r)?(t=!0,Jd(e)):t=!1,Fl(e,n),M2(e,r,s),Eg(e,r,s,n),Tg(null,e,r,!0,t,n);case 19:return H2(t,e,n);case 22:return F2(t,e,n)}throw Error(Y(156,e.tag))};function ax(t,e){return Ob(t,e)}function Lk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(t,e,n,r){return new Lk(t,e,n,r)}function xy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ok(t){if(typeof t=="function")return xy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q0)return 11;if(t===$0)return 14}return 2}function Vo(t,e){var n=t.alternate;return n===null?(n=Br(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")xy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Tl:return Ca(n.children,s,i,e);case F0:o=8,s|=8;break;case Hm:return t=Br(12,n,e,s|2),t.elementType=Hm,t.lanes=i,t;case Wm:return t=Br(13,n,e,s),t.elementType=Wm,t.lanes=i,t;case Km:return t=Br(19,n,e,s),t.elementType=Km,t.lanes=i,t;case yb:return Jf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mb:o=10;break e;case gb:o=9;break e;case q0:o=11;break e;case $0:o=14;break e;case go:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Br(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ca(t,e,n,r){return t=Br(7,t,r,e),t.lanes=n,t}function Jf(t,e,n,r){return t=Br(22,t,r,e),t.elementType=yb,t.lanes=n,t.stateNode={isHidden:!1},t}function fm(t,e,n){return t=Br(6,t,null,e),t.lanes=n,t}function pm(t,e,n){return e=Br(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gp(0),this.expirationTimes=Gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ty(t,e,n,r,s,i,o,a,l){return t=new Dk(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Br(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(i),t}function jk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lx(t){if(!t)return Wo;t=t._reactInternals;e:{if(Wa(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(nr(n))return l2(t,n,e)}return e}function cx(t,e,n,r,s,i,o,a,l){return t=Ty(n,r,!0,t,s,i,o,a,l),t.context=lx(null),n=t.current,r=Fn(),s=Mo(n),i=ji(r,s),i.callback=e??null,Do(n,i,s),t.current.lanes=s,oh(t,s,r),rr(t,r),t}function Zf(t,e,n,r){var s=e.current,i=Fn(),o=Mo(s);return n=lx(n),e.context===null?e.context=n:e.pendingContext=n,e=ji(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Do(s,e,o),t!==null&&(ys(t,s,o,i),xd(t,s,o)),o}function df(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _w(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ay(t,e){_w(t,e),(t=t.alternate)&&_w(t,e)}function Mk(){return null}var ux=typeof reportError=="function"?reportError:function(t){console.error(t)};function Iy(t){this._internalRoot=t}ep.prototype.render=Iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Zf(t,e,null,null)};ep.prototype.unmount=Iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Da(function(){Zf(null,t,null,null)}),e[Ui]=null}};function ep(t){this._internalRoot=t}ep.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vo.length&&e!==0&&e<vo[n].priority;n++);vo.splice(n,0,t),n===0&&$b(t)}};function Sy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ew(){}function Vk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=df(o);i.call(u)}}var o=cx(e,r,t,0,null,!1,!1,"",Ew);return t._reactRootContainer=o,t[Ui]=o.current,Nu(t.nodeType===8?t.parentNode:t),Da(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=df(l);a.call(u)}}var l=Ty(t,0,!1,null,null,!1,!1,"",Ew);return t._reactRootContainer=l,t[Ui]=l.current,Nu(t.nodeType===8?t.parentNode:t),Da(function(){Zf(e,l,n,r)}),l}function np(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=df(o);a.call(l)}}Zf(e,o,t,s)}else o=Vk(n,e,t,s,r);return df(o)}Ub=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kc(e.pendingLanes);n!==0&&(W0(e,n|1),rr(e,Tt()),!(ke&6)&&(nc=Tt()+500,ta()))}break;case 13:Da(function(){var r=Bi(t,1);if(r!==null){var s=Fn();ys(r,t,1,s)}}),Ay(t,1)}};K0=function(t){if(t.tag===13){var e=Bi(t,134217728);if(e!==null){var n=Fn();ys(e,t,134217728,n)}Ay(t,134217728)}};Bb=function(t){if(t.tag===13){var e=Mo(t),n=Bi(t,e);if(n!==null){var r=Fn();ys(n,t,e,r)}Ay(t,e)}};Fb=function(){return Ve};qb=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};rg=function(t,e,n){switch(e){case"input":if(Ym(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wf(r);if(!s)throw Error(Y(90));wb(r),Ym(r,s)}}}break;case"textarea":Eb(t,n);break;case"select":e=n.value,e!=null&&Ml(t,!!n.multiple,e,!1)}};Cb=_y;Nb=Da;var Uk={usingClientEntryPoint:!1,Events:[lh,Cl,Wf,Ib,Sb,_y]},Bc={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bk={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pb(t),t===null?null:t.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||Mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{qf=nd.inject(Bk),Ks=nd}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uk;br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sy(e))throw Error(Y(200));return jk(t,e,null,n)};br.createRoot=function(t,e){if(!Sy(t))throw Error(Y(299));var n=!1,r="",s=ux;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ty(t,1,!1,null,null,n,!1,r,s),t[Ui]=e.current,Nu(t.nodeType===8?t.parentNode:t),new Iy(e)};br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=Pb(e),t=t===null?null:t.stateNode,t};br.flushSync=function(t){return Da(t)};br.hydrate=function(t,e,n){if(!tp(e))throw Error(Y(200));return np(null,t,e,!0,n)};br.hydrateRoot=function(t,e,n){if(!Sy(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ux;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cx(e,null,t,1,n??null,s,!1,i,o),t[Ui]=e.current,Nu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ep(e)};br.render=function(t,e,n){if(!tp(e))throw Error(Y(200));return np(null,t,e,!1,n)};br.unmountComponentAtNode=function(t){if(!tp(t))throw Error(Y(40));return t._reactRootContainer?(Da(function(){np(null,null,t,!1,function(){t._reactRootContainer=null,t[Ui]=null})}),!0):!1};br.unstable_batchedUpdates=_y;br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tp(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return np(t,e,n,!1,r)};br.version="18.3.1-next-f1338f8080-20240426";function hx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hx)}catch(t){console.error(t)}}hx(),hb.exports=br;var Fk=hb.exports,bw=Fk;$m.createRoot=bw.createRoot,$m.hydrateRoot=bw.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}var So;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(So||(So={}));const xw="popstate";function qk(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return jg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ff(s)}return zk(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $k(){return Math.random().toString(36).substr(2,8)}function Tw(t,e){return{usr:t.state,key:t.key,idx:e}}function jg(t,e,n,r){return n===void 0&&(n=null),Vu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ec(e):e,{state:n,key:e&&e.key||r||$k()})}function ff(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ec(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=So.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Vu({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function g(){a=So.Pop;let S=h(),b=S==null?null:S-u;u=S,l&&l({action:a,location:C.location,delta:b})}function y(S,b){a=So.Push;let A=jg(C.location,S,b);u=h()+1;let T=Tw(A,u),P=C.createHref(A);try{o.pushState(T,"",P)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(P)}i&&l&&l({action:a,location:C.location,delta:1})}function _(S,b){a=So.Replace;let A=jg(C.location,S,b);u=h();let T=Tw(A,u),P=C.createHref(A);o.replaceState(T,"",P),i&&l&&l({action:a,location:C.location,delta:0})}function x(S){let b=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof S=="string"?S:ff(S);return A=A.replace(/ $/,"%20"),yt(b,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,b)}let C={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(xw,g),l=S,()=>{s.removeEventListener(xw,g),l=null}},createHref(S){return e(s,S)},createURL:x,encodeLocation(S){let b=x(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:_,go(S){return o.go(S)}};return C}var Aw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Aw||(Aw={}));function Hk(t,e,n){return n===void 0&&(n="/"),Wk(t,e,n,!1)}function Wk(t,e,n,r){let s=typeof e=="string"?Ec(e):e,i=rc(s.pathname||"/",n);if(i==null)return null;let o=fx(t);Kk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=sR(i);a=nR(o[l],u,r)}return a}function fx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(yt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Uo([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(yt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fx(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:eR(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of px(i.path))s(i,o,l)}),e}function px(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=px(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Kk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Gk=/^:[\w-]+$/,Qk=3,Yk=2,Xk=1,Jk=10,Zk=-2,Iw=t=>t==="*";function eR(t,e){let n=t.split("/"),r=n.length;return n.some(Iw)&&(r+=Zk),e&&(r+=Yk),n.filter(s=>!Iw(s)).reduce((s,i)=>s+(Gk.test(i)?Qk:i===""?Xk:Jk),r)}function tR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function nR(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",g=pf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),y=l.route;if(!g&&u&&n&&!r[r.length-1].route.index&&(g=pf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Uo([i,g.pathname]),pathnameBase:lR(Uo([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Uo([i,g.pathnameBase]))}return o}function pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,g)=>{let{paramName:y,isOptional:_}=h;if(y==="*"){let C=a[g]||"";o=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const x=a[g];return _&&!x?u[y]=void 0:u[y]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function rR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function sR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ec(t):t;return{pathname:n?n.startsWith("/")?n:oR(n,e):e,search:cR(r),hash:uR(s)}}function oR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mx(t,e){let n=aR(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ec(t):(s=Vu({},t),yt(!s.pathname||!s.pathname.includes("?"),mm("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),mm("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),mm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}a=g>=0?e[g]:"/"}let l=iR(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Uo=t=>t.join("/").replace(/\/\/+/g,"/"),lR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yx=["post","put","patch","delete"];new Set(yx);const dR=["get",...yx];new Set(dR);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(this,arguments)}const rp=B.createContext(null),vx=B.createContext(null),na=B.createContext(null),sp=B.createContext(null),Yi=B.createContext({outlet:null,matches:[],isDataRoute:!1}),wx=B.createContext(null);function fR(t,e){let{relative:n}=e===void 0?{}:e;uh()||yt(!1);let{basename:r,navigator:s}=B.useContext(na),{hash:i,pathname:o,search:a}=ip(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Uo([r,o])),s.createHref({pathname:l,search:a,hash:i})}function uh(){return B.useContext(sp)!=null}function bc(){return uh()||yt(!1),B.useContext(sp).location}function _x(t){B.useContext(na).static||B.useLayoutEffect(t)}function We(){let{isDataRoute:t}=B.useContext(Yi);return t?CR():pR()}function pR(){uh()||yt(!1);let t=B.useContext(rp),{basename:e,future:n,navigator:r}=B.useContext(na),{matches:s}=B.useContext(Yi),{pathname:i}=bc(),o=JSON.stringify(mx(s,n.v7_relativeSplatPath)),a=B.useRef(!1);return _x(()=>{a.current=!0}),B.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let g=gx(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Uo([e,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[e,r,o,i,t])}const mR=B.createContext(null);function gR(t){let e=B.useContext(Yi).outlet;return e&&B.createElement(mR.Provider,{value:t},e)}function ra(){let{matches:t}=B.useContext(Yi),e=t[t.length-1];return e?e.params:{}}function ip(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(na),{matches:s}=B.useContext(Yi),{pathname:i}=bc(),o=JSON.stringify(mx(s,r.v7_relativeSplatPath));return B.useMemo(()=>gx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function yR(t,e){return vR(t,e)}function vR(t,e,n,r){uh()||yt(!1);let{navigator:s}=B.useContext(na),{matches:i}=B.useContext(Yi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=bc(),h;if(e){var g;let S=typeof e=="string"?Ec(e):e;l==="/"||(g=S.pathname)!=null&&g.startsWith(l)||yt(!1),h=S}else h=u;let y=h.pathname||"/",_=y;if(l!=="/"){let S=l.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=Hk(t,{pathname:_}),C=xR(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Uo([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Uo([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&C?B.createElement(sp.Provider,{value:{location:Uu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:So.Pop}},C):C}function wR(){let t=SR(),e=hR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:s},n):null,null)}const _R=B.createElement(wR,null);class ER extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(Yi.Provider,{value:this.props.routeContext},B.createElement(wx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bR(t){let{routeContext:e,match:n,children:r}=t,s=B.useContext(rp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Yi.Provider,{value:e},r)}function xR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);h>=0||yt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let g=o[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=h),g.route.id){let{loaderData:y,errors:_}=n,x=g.route.loader&&y[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,g,y)=>{let _,x=!1,C=null,S=null;n&&(_=a&&g.route.id?a[g.route.id]:void 0,C=g.route.errorElement||_R,l&&(u<0&&y===0?(x=!0,S=null):u===y&&(x=!0,S=g.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,y+1)),A=()=>{let T;return _?T=C:x?T=S:g.route.Component?T=B.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=h,B.createElement(bR,{match:g,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?B.createElement(ER,{location:n.location,revalidation:n.revalidation,component:C,error:_,children:A(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):A()},null)}var Ex=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ex||{}),mf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mf||{});function TR(t){let e=B.useContext(rp);return e||yt(!1),e}function AR(t){let e=B.useContext(vx);return e||yt(!1),e}function IR(t){let e=B.useContext(Yi);return e||yt(!1),e}function bx(t){let e=IR(),n=e.matches[e.matches.length-1];return n.route.id||yt(!1),n.route.id}function SR(){var t;let e=B.useContext(wx),n=AR(mf.UseRouteError),r=bx(mf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function CR(){let{router:t}=TR(Ex.UseNavigateStable),e=bx(mf.UseNavigateStable),n=B.useRef(!1);return _x(()=>{n.current=!0}),B.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Uu({fromRouteId:e},i)))},[t,e])}function xx(t){return gR(t.context)}function Pe(t){yt(!1)}function NR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=So.Pop,navigator:i,static:o=!1,future:a}=t;uh()&&yt(!1);let l=e.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:l,navigator:i,static:o,future:Uu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ec(r));let{pathname:h="/",search:g="",hash:y="",state:_=null,key:x="default"}=r,C=B.useMemo(()=>{let S=rc(h,l);return S==null?null:{location:{pathname:S,search:g,hash:y,state:_,key:x},navigationType:s}},[l,h,g,y,_,x,s]);return C==null?null:B.createElement(na.Provider,{value:u},B.createElement(sp.Provider,{children:n,value:C}))}function kR(t){let{children:e,location:n}=t;return yR(Mg(e),n)}new Promise(()=>{});function Mg(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,s)=>{if(!B.isValidElement(r))return;let i=[...e,s];if(r.type===B.Fragment){n.push.apply(n,Mg(r.props.children,i));return}r.type!==Pe&&yt(!1),!r.props.index||!r.props.children||yt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}function Tx(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function RR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PR(t,e){return t.button===0&&(!e||e==="_self")&&!RR(t)}const LR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],OR=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],DR="6";try{window.__reactRouterVersion=DR}catch{}const jR=B.createContext({isTransitioning:!1}),MR="startTransition",Sw=kC[MR];function VR(t){let{basename:e,children:n,future:r,window:s}=t,i=B.useRef();i.current==null&&(i.current=qk({window:s,v5Compat:!0}));let o=i.current,[a,l]=B.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=B.useCallback(g=>{u&&Sw?Sw(()=>l(g)):l(g)},[l,u]);return B.useLayoutEffect(()=>o.listen(h),[o,h]),B.createElement(NR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const UR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hh=B.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,unstable_viewTransition:g}=e,y=Tx(e,LR),{basename:_}=B.useContext(na),x,C=!1;if(typeof u=="string"&&BR.test(u)&&(x=u,UR))try{let T=new URL(window.location.href),P=u.startsWith("//")?new URL(T.protocol+u):new URL(u),V=rc(P.pathname,_);P.origin===T.origin&&V!=null?u=V+P.search+P.hash:C=!0}catch{}let S=fR(u,{relative:s}),b=qR(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,unstable_viewTransition:g});function A(T){r&&r(T),T.defaultPrevented||b(T)}return B.createElement("a",gf({},y,{href:x||S,onClick:C||i?r:A,ref:n,target:l}))}),sc=B.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:h}=e,g=Tx(e,OR),y=ip(l,{relative:g.relative}),_=bc(),x=B.useContext(vx),{navigator:C,basename:S}=B.useContext(na),b=x!=null&&$R(y)&&u===!0,A=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,T=_.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(T=T.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&S&&(P=rc(P,S)||P);const V=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let F=T===A||!o&&T.startsWith(A)&&T.charAt(V)==="/",k=P!=null&&(P===A||!o&&P.startsWith(A)&&P.charAt(A.length)==="/"),I={isActive:F,isPending:k,isTransitioning:b},L=F?r:void 0,D;typeof i=="function"?D=i(I):D=[i,F?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(I):a;return B.createElement(hh,gf({},g,{"aria-current":L,className:D,ref:n,style:U,to:l,unstable_viewTransition:u}),typeof h=="function"?h(I):h)});var Vg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vg||(Vg={}));var Cw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cw||(Cw={}));function FR(t){let e=B.useContext(rp);return e||yt(!1),e}function qR(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=We(),u=bc(),h=ip(t,{relative:o});return B.useCallback(g=>{if(PR(g,n)){g.preventDefault();let y=r!==void 0?r:ff(u)===ff(h);l(t,{replace:y,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[u,l,h,r,s,n,t,i,o,a])}function $R(t,e){e===void 0&&(e={});let n=B.useContext(jR);n==null&&yt(!1);let{basename:r}=FR(Vg.useViewTransitionState),s=ip(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=rc(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=rc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pf(s.pathname,o)!=null||pf(s.pathname,i)!=null}var Nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,g=(i&3)<<4|a>>4;let y=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(y=64)),r.push(n[h],n[g],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ax(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||g==null)throw new HR;const y=i<<2|a>>4;if(r.push(y),u!==64){const _=a<<4&240|u>>2;if(r.push(_),g!==64){const x=u<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WR=function(t){const e=Ax(t);return Ix.encodeByteArray(e,!0)},yf=function(t){return WR(t).replace(/\./g,"")},Sx=function(t){try{return Ix.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=()=>KR().__FIREBASE_DEFAULTS__,QR=()=>{if(typeof process>"u"||typeof Nw>"u")return;const t=Nw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sx(t[1]);return e&&JSON.parse(e)},op=()=>{try{return GR()||QR()||YR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cx=t=>{var e,n;return(n=(e=op())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nx=t=>{const e=Cx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kx=()=>{var t;return(t=op())===null||t===void 0?void 0:t.config},Rx=t=>{var e;return(e=op())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yf(JSON.stringify(n)),yf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function ZR(){var t;const e=(t=op())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n4(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r4(){return!ZR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s4(){try{return typeof indexedDB=="object"}catch{return!1}}function i4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="FirebaseError";class ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o4,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dh.prototype.create)}}class dh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?a4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ii(s,a,r)}}function a4(t,e){return t.replace(l4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const l4=/\{\$([^}]+)}/g;function c4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(kw(i)&&kw(o)){if(!vf(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Yc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u4(t,e){const n=new h4(t,e);return n.subscribe.bind(n)}class h4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=gm),s.error===void 0&&(s.error=gm),s.complete===void 0&&(s.complete=gm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class Ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m4(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p4(t){return t===ba?void 0:t}function m4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const y4={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},v4=Ce.INFO,w4={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},_4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=w4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cy{constructor(e){this.name=e,this._logLevel=v4,this._logHandler=_4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const E4=(t,e)=>e.some(n=>t instanceof n);let Rw,Pw;function b4(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x4(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lx=new WeakMap,Ug=new WeakMap,Ox=new WeakMap,ym=new WeakMap,Ny=new WeakMap;function T4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Bo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Lx.set(n,t)}).catch(()=>{}),Ny.set(e,t),e}function A4(t){if(Ug.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ug.set(t,e)}let Bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ox.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I4(t){Bg=t(Bg)}function S4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vm(this),e,...n);return Ox.set(r,e.sort?e.sort():[e]),Bo(r)}:x4().includes(t)?function(...e){return t.apply(vm(this),e),Bo(Lx.get(this))}:function(...e){return Bo(t.apply(vm(this),e))}}function C4(t){return typeof t=="function"?S4(t):(t instanceof IDBTransaction&&A4(t),E4(t,b4())?new Proxy(t,Bg):t)}function Bo(t){if(t instanceof IDBRequest)return T4(t);if(ym.has(t))return ym.get(t);const e=C4(t);return e!==t&&(ym.set(t,e),Ny.set(e,t)),e}const vm=t=>Ny.get(t);function N4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Bo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bo(o.result),l.oldVersion,l.newVersion,Bo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const k4=["get","getKey","getAll","getAllKeys","count"],R4=["put","add","delete","clear"],wm=new Map;function Lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=R4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||k4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return wm.set(e,i),i}I4(t=>({...t,get:(e,n,r)=>Lw(e,n)||t.get(e,n,r),has:(e,n)=>!!Lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function L4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fg="@firebase/app",Ow="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Cy("@firebase/app"),O4="@firebase/app-compat",D4="@firebase/analytics-compat",j4="@firebase/analytics",M4="@firebase/app-check-compat",V4="@firebase/app-check",U4="@firebase/auth",B4="@firebase/auth-compat",F4="@firebase/database",q4="@firebase/database-compat",$4="@firebase/functions",z4="@firebase/functions-compat",H4="@firebase/installations",W4="@firebase/installations-compat",K4="@firebase/messaging",G4="@firebase/messaging-compat",Q4="@firebase/performance",Y4="@firebase/performance-compat",X4="@firebase/remote-config",J4="@firebase/remote-config-compat",Z4="@firebase/storage",eP="@firebase/storage-compat",tP="@firebase/firestore",nP="@firebase/vertexai-preview",rP="@firebase/firestore-compat",sP="firebase",iP="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",oP={[Fg]:"fire-core",[O4]:"fire-core-compat",[j4]:"fire-analytics",[D4]:"fire-analytics-compat",[V4]:"fire-app-check",[M4]:"fire-app-check-compat",[U4]:"fire-auth",[B4]:"fire-auth-compat",[F4]:"fire-rtdb",[q4]:"fire-rtdb-compat",[$4]:"fire-fn",[z4]:"fire-fn-compat",[H4]:"fire-iid",[W4]:"fire-iid-compat",[K4]:"fire-fcm",[G4]:"fire-fcm-compat",[Q4]:"fire-perf",[Y4]:"fire-perf-compat",[X4]:"fire-rc",[J4]:"fire-rc-compat",[Z4]:"fire-gcs",[eP]:"fire-gcs-compat",[tP]:"fire-fst",[rP]:"fire-fst-compat",[nP]:"fire-vertex","fire-js":"fire-js",[sP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,aP=new Map,$g=new Map;function Dw(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ja(t){const e=t.name;if($g.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,t);for(const n of wf.values())Dw(n,t);for(const n of aP.values())Dw(n,t);return!0}function ap(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ri(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new dh("app","Firebase",lP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=iP;function Dx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Fo.create("bad-app-name",{appName:String(s)});if(n||(n=kx()),!n)throw Fo.create("no-options");const i=wf.get(s);if(i){if(vf(n,i.options)&&vf(r,i.config))return i;throw Fo.create("duplicate-app",{appName:s})}const o=new g4(s);for(const l of $g.values())o.addComponent(l);const a=new cP(n,r,o);return wf.set(s,a),a}function ky(t=qg){const e=wf.get(t);if(!e&&t===qg&&kx())return Dx();if(!e)throw Fo.create("no-app",{appName:t});return e}function Qs(t,e,n){var r;let s=(r=oP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(a.join(" "));return}ja(new Ko(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="firebase-heartbeat-database",hP=1,Bu="firebase-heartbeat-store";let _m=null;function jx(){return _m||(_m=N4(uP,hP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fo.create("idb-open",{originalErrorMessage:t.message})})),_m}async function dP(t){try{const n=(await jx()).transaction(Bu),r=await n.objectStore(Bu).get(Mx(t));return await n.done,r}catch(e){if(e instanceof ii)qi.warn(e.message);else{const n=Fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function jw(t,e){try{const r=(await jx()).transaction(Bu,"readwrite");await r.objectStore(Bu).put(e,Mx(t)),await r.done}catch(n){if(n instanceof ii)qi.warn(n.message);else{const r=Fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function Mx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1024,pP=30*24*60*60*1e3;class mP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Mw();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=pP}),this._storage.overwrite(this._heartbeatsCache))}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mw(),{heartbeatsToSend:r,unsentEntries:s}=gP(this._heartbeatsCache.heartbeats),i=yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qi.warn(n),""}}}function Mw(){return new Date().toISOString().substring(0,10)}function gP(t,e=fP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Vw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s4()?i4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vw(t){return yf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){ja(new Ko("platform-logger",e=>new P4(e),"PRIVATE")),ja(new Ko("heartbeat",e=>new mP(e),"PRIVATE")),Qs(Fg,Ow,t),Qs(Fg,Ow,"esm2017"),Qs("fire-js","")}vP("");var wP="firebase",_P="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(wP,_P,"app");function Ry(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Vx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EP=Vx,Ux=new dh("auth","Firebase",Vx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new Cy("@firebase/auth");function bP(t,...e){_f.logLevel<=Ce.WARN&&_f.warn(`Auth (${Ka}): ${t}`,...e)}function kd(t,...e){_f.logLevel<=Ce.ERROR&&_f.error(`Auth (${Ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,...e){throw Py(t,...e)}function Ys(t,...e){return Py(t,...e)}function Bx(t,e,n){const r=Object.assign(Object.assign({},EP()),{[e]:n});return new dh("auth","Firebase",r).create(e,{appName:t.name})}function qo(t){return Bx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Py(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ux.create(t,...e)}function de(t,e,...n){if(!t)throw Py(e,...n)}function Pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function $i(t,e){t||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xP(){return Uw()==="http:"||Uw()==="https:"}function Uw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xP()||e4()||"connection"in navigator)?navigator.onLine:!0}function AP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=JR()||t4()}get(){return TP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new ph(3e4,6e4);function Ga(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sa(t,e,n,r,s={}){return qx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Fx.fetch()($x(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function qx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},IP),e);try{const s=new NP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw rd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw rd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw rd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Bx(t,h,u);Es(t,h)}}catch(s){if(s instanceof ii)throw s;Es(t,"network-request-failed",{message:String(s)})}}async function lp(t,e,n,r,s={}){const i=await sa(t,e,n,r,s);return"mfaPendingCredential"in i&&Es(t,"multi-factor-auth-required",{_serverResponse:i}),i}function $x(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ly(t.config,s):`${t.config.apiScheme}://${s}`}function CP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ys(this.auth,"network-request-failed")),SP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ys(t,e,r);return s.customData._tokenResponse=n,s}function Bw(t){return t!==void 0&&t.enterprise!==void 0}class kP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function RP(t,e){return sa(t,"GET","/v2/recaptchaConfig",Ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e){return sa(t,"POST","/v1/accounts:delete",e)}async function zx(t,e){return sa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LP(t,e=!1){const n=it(t),r=await n.getIdToken(e),s=Oy(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:hu(Em(s.auth_time)),issuedAtTime:hu(Em(s.iat)),expirationTime:hu(Em(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Em(t){return Number(t)*1e3}function Oy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Sx(n);return s?JSON.parse(s):(kd("Failed to decode base64 JWT payload"),null)}catch(s){return kd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Fw(t){const e=Oy(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ii&&OP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Fu(t,zx(n,{idToken:r}));de(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Hx(i.providerUserInfo):[],a=MP(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Hg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function jP(t){const e=it(t);await Ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Hx(t){return t.map(e=>{var{providerId:n}=e,r=Ry(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){const n=await qx(t,{},async()=>{const r=fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=$x(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UP(t,e){return sa(t,"POST","/v2/accounts:revokeToken",Ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=Fw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await VP(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $l;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ry(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fu(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LP(this,e)}reload(){return jP(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ef(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(qo(this.auth));const e=await this.getIdToken();return await Fu(this,PP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,_=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:P,isAnonymous:V,providerData:F,stsTokenManager:k}=n;de(T&&k,e,"internal-error");const I=$l.fromJSON(this.name,k);de(typeof T=="string",e,"internal-error"),po(g,e.name),po(y,e.name),de(typeof P=="boolean",e,"internal-error"),de(typeof V=="boolean",e,"internal-error"),po(_,e.name),po(x,e.name),po(C,e.name),po(S,e.name),po(b,e.name),po(A,e.name);const L=new Li({uid:T,auth:e,email:y,emailVerified:P,displayName:g,isAnonymous:V,photoURL:x,phoneNumber:_,tenantId:C,stsTokenManager:I,createdAt:b,lastLoginAt:A});return F&&Array.isArray(F)&&(L.providerData=F.map(D=>Object.assign({},D))),S&&(L._redirectEventId=S),L}static async _fromIdTokenResponse(e,n,r=!1){const s=new $l;s.updateFromServerResponse(n);const i=new Li({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ef(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Hx(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new $l;a.updateFromIdToken(r);const l=new Li({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Hg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function Oi(t){$i(t instanceof Function,"Expected a class definition");let e=qw.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Wx.type="NONE";const $w=Wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){return`firebase:${t}:${e}:${n}`}class zl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Rd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Rd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zl(Oi($w),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Oi($w);const o=Rd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const g=Li._fromJSON(e,h);u!==i&&(a=g),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new zl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new zl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jx(e))return"Blackberry";if(Zx(e))return"Webos";if(Gx(e))return"Safari";if((e.includes("chrome/")||Qx(e))&&!e.includes("edge/"))return"Chrome";if(Xx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kx(t=Cn()){return/firefox\//i.test(t)}function Gx(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qx(t=Cn()){return/crios\//i.test(t)}function Yx(t=Cn()){return/iemobile/i.test(t)}function Xx(t=Cn()){return/android/i.test(t)}function Jx(t=Cn()){return/blackberry/i.test(t)}function Zx(t=Cn()){return/webos/i.test(t)}function Dy(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BP(t=Cn()){var e;return Dy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FP(){return n4()&&document.documentMode===10}function eT(t=Cn()){return Dy(t)||Xx(t)||Zx(t)||Jx(t)||/windows phone/i.test(t)||Yx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e=[]){let n;switch(t){case"Browser":n=zw(Cn());break;case"Worker":n=`${zw(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(t,e={}){return sa(t,"GET","/v2/passwordPolicy",Ga(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=6;class HP{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new qP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zx(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ri(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ef(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(qo(this));const n=e?it(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $P(this),n=new HP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xc(t){return it(t)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=u4(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KP(t){cp=t}function nT(t){return cp.loadJS(t)}function GP(){return cp.recaptchaEnterpriseScript}function QP(){return cp.gapiScript}function YP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const XP="recaptcha-enterprise",JP="NO_RECAPTCHA";class ZP{constructor(e){this.type=XP,this.auth=xc(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{RP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new kP(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Bw(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(JP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Bw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=GP();l.length!==0&&(l+=a),nT(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Ww(t,e,n,r=!1){const s=new ZP(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Kw(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ww(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ww(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t,e){const n=ap(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(vf(i,e??{}))return s;Es(s,"already-initialized")}return n.initialize({options:e})}function t5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n5(t,e,n){const r=xc(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=rT(e),{host:o,port:a}=r5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s5()}function rT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r5(t){const e=rT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Gw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Gw(o)}}}function Gw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,n){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function i5(t,e){return sa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e){return lp(t,"POST","/v1/accounts:signInWithPassword",Ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e){return lp(t,"POST","/v1/accounts:signInWithEmailLink",Ga(t,e))}async function l5(t,e){return lp(t,"POST","/v1/accounts:signInWithEmailLink",Ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends jy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new qu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kw(e,n,"signInWithPassword",o5);case"emailLink":return a5(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kw(e,r,"signUpPassword",i5);case"emailLink":return l5(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t,e){return lp(t,"POST","/v1/accounts:signInWithIdp",Ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="http://localhost";class Ma extends jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ry(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ma(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hl(e,n)}buildRequest(){const e={requestUri:c5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h5(t){const e=Qc(Yc(t)).link,n=e?Qc(Yc(e)).deep_link_id:null,r=Qc(Yc(t)).deep_link_id;return(r?Qc(Yc(r)).link:null)||r||n||e||t}class My{constructor(e){var n,r,s,i,o,a;const l=Qc(Yc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,g=u5((s=l.mode)!==null&&s!==void 0?s:null);de(u&&h&&g,"argument-error"),this.apiKey=u,this.operation=g,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=h5(e);try{return new My(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.providerId=Tc.PROVIDER_ID}static credential(e,n){return qu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=My.parseLink(n);return de(r,"argument-error"),qu._fromEmailAndCode(e,r.code,r.tenantId)}}Tc.PROVIDER_ID="password";Tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends sT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends mh{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.FACEBOOK_SIGN_IN_METHOD="facebook.com";_o.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ma._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Eo.credential(n,r)}catch{return null}}}Eo.GOOGLE_SIGN_IN_METHOD="google.com";Eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends mh{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bo.credential(e.oauthAccessToken)}catch{return null}}}bo.GITHUB_SIGN_IN_METHOD="github.com";bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends mh{constructor(){super("twitter.com")}static credential(e,n){return Ma._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.TWITTER_SIGN_IN_METHOD="twitter.com";xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Li._fromIdTokenResponse(e,r,s),o=Qw(r);return new ic({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Qw(r);return new ic({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends ii{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bf(e,n,r,s)}}function iT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(t,i,e,r):i})}async function d5(t,e,n=!1){const r=await Fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ic._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t,e,n=!1){const{auth:r}=t;if(Ri(r.app))return Promise.reject(qo(r));const s="reauthenticate";try{const i=await Fu(t,iT(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=Oy(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),ic._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Es(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(t,e,n=!1){if(Ri(t.app))return Promise.reject(qo(t));const r="signIn",s=await iT(t,r,e),i=await ic._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function p5(t,e){return oT(xc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t){const e=xc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function g5(t,e,n){return Ri(t.app)?Promise.reject(qo(t)):p5(it(t),Tc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&m5(t),r})}function y5(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function v5(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function aT(t,e,n,r){return it(t).onAuthStateChanged(e,n,r)}function w5(t){return it(t).signOut()}const xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xf,"1"),this.storage.removeItem(xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=1e3,E5=10;class cT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);FP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,E5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cT.type="LOCAL";const b5=cT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uT.type="SESSION";const hT=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new up(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await x5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Vy("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(y.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(){return window}function A5(t){Xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){return typeof Xs().WorkerGlobalScope<"u"&&typeof Xs().importScripts=="function"}async function I5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function C5(){return dT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firebaseLocalStorageDb",N5=1,Tf="firebaseLocalStorage",pT="fbase_key";class gh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hp(t,e){return t.transaction([Tf],e?"readwrite":"readonly").objectStore(Tf)}function k5(){const t=indexedDB.deleteDatabase(fT);return new gh(t).toPromise()}function Wg(){const t=indexedDB.open(fT,N5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tf,{keyPath:pT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tf)?e(r):(r.close(),await k5(),e(await Wg()))})})}async function Yw(t,e,n){const r=hp(t,!0).put({[pT]:e,value:n});return new gh(r).toPromise()}async function R5(t,e){const n=hp(t,!1).get(e),r=await new gh(n).toPromise();return r===void 0?null:r.value}function Xw(t,e){const n=hp(t,!0).delete(e);return new gh(n).toPromise()}const P5=800,L5=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>L5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=up._getInstance(C5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await I5(),!this.activeServiceWorker)return;this.sender=new T5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await Yw(e,xf,"1"),await Xw(e,xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hp(s,!1).getAll();return new gh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const O5=mT;new ph(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t,e){return e?Oi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j5(t){return oT(t.auth,new Uy(t),t.bypassAuthState)}function M5(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),f5(n,new Uy(t),t.bypassAuthState)}async function V5(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),d5(n,new Uy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j5;case"linkViaPopup":case"linkViaRedirect":return V5;case"reauthViaPopup":case"reauthViaRedirect":return M5;default:Es(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new ph(2e3,1e4);class Dl extends gT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U5.get())};e()}}Dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="pendingRedirect",Pd=new Map;class F5 extends gT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const r=await q5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q5(t,e){const n=H5(e),r=z5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $5(t,e){Pd.set(t._key(),e)}function z5(t){return Oi(t._redirectPersistence)}function H5(t){return Rd(B5,t.config.apiKey,t.name)}async function W5(t,e,n=!1){if(Ri(t.app))return Promise.reject(qo(t));const r=xc(t),s=D5(r,e),o=await new F5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=10*60*1e3;class G5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ys(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jw(e))}saveEventToCache(e){this.cachedEventUids.add(Jw(e)),this.lastProcessedEventTime=Date.now()}}function Jw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e={}){return sa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J5=/^https?/;async function Z5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Y5(t);for(const n of e)try{if(eL(n))return}catch{}Es(t,"unauthorized-domain")}function eL(t){const e=zg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!J5.test(n))return!1;if(X5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new ph(3e4,6e4);function Zw(){const t=Xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nL(t){return new Promise((e,n)=>{var r,s,i;function o(){Zw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zw(),n(Ys(t,"network-request-failed"))},timeout:tL.get()})}if(!((s=(r=Xs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Xs().gapi)===null||i===void 0)&&i.load)o();else{const a=YP("iframefcb");return Xs()[a]=()=>{gapi.load?o():n(Ys(t,"network-request-failed"))},nT(`${QP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function rL(t){return Ld=Ld||nL(t),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new ph(5e3,15e3),iL="__/auth/iframe",oL="emulator/auth/iframe",aL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cL(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ly(e,oL):`https://${t.config.authDomain}/${iL}`,r={apiKey:e.apiKey,appName:t.name,v:Ka},s=lL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fh(r).slice(1)}`}async function uL(t){const e=await rL(t),n=Xs().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:cL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ys(t,"network-request-failed"),a=Xs().setTimeout(()=>{i(o)},sL.get());function l(){Xs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dL=500,fL=600,pL="_blank",mL="http://localhost";class e_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gL(t,e,n,r=dL,s=fL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hL),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Cn().toLowerCase();n&&(a=Qx(u)?pL:n),Kx(u)&&(e=e||mL,l.scrollbars="yes");const h=Object.entries(l).reduce((y,[_,x])=>`${y}${_}=${x},`,"");if(BP(u)&&a!=="_self")return yL(e||"",a),new e_(null);const g=window.open(e||"",a,h);de(g,t,"popup-blocked");try{g.focus()}catch{}return new e_(g)}function yL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="__/auth/handler",wL="emulator/auth/handler",_L=encodeURIComponent("fac");async function t_(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ka,eventId:s};if(e instanceof sT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",c4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,g]of Object.entries({}))o[h]=g}if(e instanceof mh){const h=e.getScopes().filter(g=>g!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${_L}=${encodeURIComponent(l)}`:"";return`${EL(t)}?${fh(a).slice(1)}${u}`}function EL({config:t}){return t.emulator?Ly(t,wL):`https://${t.authDomain}/${vL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class bL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hT,this._completeRedirectFn=W5,this._overrideRedirectResult=$5}async _openPopup(e,n,r,s){var i;$i((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await t_(e,n,r,zg(),s);return gL(e,o,Vy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await t_(e,n,r,zg(),s);return A5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($i(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uL(e),r=new G5(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[bm];o!==void 0&&n(!!o),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eT()||Gx()||Dy()}}const xL=bL;var n_="@firebase/auth",r_="1.7.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IL(t){ja(new Ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(t)},u=new WP(r,s,i,l);return t5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ja(new Ko("auth-internal",e=>{const n=xc(e.getProvider("auth").getImmediate());return(r=>new TL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(n_,r_,AL(t)),Qs(n_,r_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=5*60,CL=Rx("authIdTokenMaxAge")||SL;let s_=null;const NL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CL)return;const s=n==null?void 0:n.token;s_!==s&&(s_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kL(t=ky()){const e=ap(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e5(t,{popupRedirectResolver:xL,persistence:[O5,b5,hT]}),r=Rx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=NL(i.toString());v5(n,o,()=>o(n.currentUser)),y5(n,a=>o(a))}}const s=Cx("auth");return s&&n5(n,`http://${s}`),n}function RL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ys("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",RL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IL("Browser");var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Na,vT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function L(){}L.prototype=I.prototype,k.D=I.prototype,k.prototype=new L,k.prototype.constructor=k,k.C=function(D,U,q){for(var M=Array(arguments.length-2),De=2;De<arguments.length;De++)M[De-2]=arguments[De];return I.prototype[U].apply(D,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,I,L){L||(L=0);var D=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)D[U]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(U=0;16>U;++U)D[U]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=k.g[0],L=k.g[1],U=k.g[2];var q=k.g[3],M=I+(q^L&(U^q))+D[0]+3614090360&4294967295;I=L+(M<<7&4294967295|M>>>25),M=q+(U^I&(L^U))+D[1]+3905402710&4294967295,q=I+(M<<12&4294967295|M>>>20),M=U+(L^q&(I^L))+D[2]+606105819&4294967295,U=q+(M<<17&4294967295|M>>>15),M=L+(I^U&(q^I))+D[3]+3250441966&4294967295,L=U+(M<<22&4294967295|M>>>10),M=I+(q^L&(U^q))+D[4]+4118548399&4294967295,I=L+(M<<7&4294967295|M>>>25),M=q+(U^I&(L^U))+D[5]+1200080426&4294967295,q=I+(M<<12&4294967295|M>>>20),M=U+(L^q&(I^L))+D[6]+2821735955&4294967295,U=q+(M<<17&4294967295|M>>>15),M=L+(I^U&(q^I))+D[7]+4249261313&4294967295,L=U+(M<<22&4294967295|M>>>10),M=I+(q^L&(U^q))+D[8]+1770035416&4294967295,I=L+(M<<7&4294967295|M>>>25),M=q+(U^I&(L^U))+D[9]+2336552879&4294967295,q=I+(M<<12&4294967295|M>>>20),M=U+(L^q&(I^L))+D[10]+4294925233&4294967295,U=q+(M<<17&4294967295|M>>>15),M=L+(I^U&(q^I))+D[11]+2304563134&4294967295,L=U+(M<<22&4294967295|M>>>10),M=I+(q^L&(U^q))+D[12]+1804603682&4294967295,I=L+(M<<7&4294967295|M>>>25),M=q+(U^I&(L^U))+D[13]+4254626195&4294967295,q=I+(M<<12&4294967295|M>>>20),M=U+(L^q&(I^L))+D[14]+2792965006&4294967295,U=q+(M<<17&4294967295|M>>>15),M=L+(I^U&(q^I))+D[15]+1236535329&4294967295,L=U+(M<<22&4294967295|M>>>10),M=I+(U^q&(L^U))+D[1]+4129170786&4294967295,I=L+(M<<5&4294967295|M>>>27),M=q+(L^U&(I^L))+D[6]+3225465664&4294967295,q=I+(M<<9&4294967295|M>>>23),M=U+(I^L&(q^I))+D[11]+643717713&4294967295,U=q+(M<<14&4294967295|M>>>18),M=L+(q^I&(U^q))+D[0]+3921069994&4294967295,L=U+(M<<20&4294967295|M>>>12),M=I+(U^q&(L^U))+D[5]+3593408605&4294967295,I=L+(M<<5&4294967295|M>>>27),M=q+(L^U&(I^L))+D[10]+38016083&4294967295,q=I+(M<<9&4294967295|M>>>23),M=U+(I^L&(q^I))+D[15]+3634488961&4294967295,U=q+(M<<14&4294967295|M>>>18),M=L+(q^I&(U^q))+D[4]+3889429448&4294967295,L=U+(M<<20&4294967295|M>>>12),M=I+(U^q&(L^U))+D[9]+568446438&4294967295,I=L+(M<<5&4294967295|M>>>27),M=q+(L^U&(I^L))+D[14]+3275163606&4294967295,q=I+(M<<9&4294967295|M>>>23),M=U+(I^L&(q^I))+D[3]+4107603335&4294967295,U=q+(M<<14&4294967295|M>>>18),M=L+(q^I&(U^q))+D[8]+1163531501&4294967295,L=U+(M<<20&4294967295|M>>>12),M=I+(U^q&(L^U))+D[13]+2850285829&4294967295,I=L+(M<<5&4294967295|M>>>27),M=q+(L^U&(I^L))+D[2]+4243563512&4294967295,q=I+(M<<9&4294967295|M>>>23),M=U+(I^L&(q^I))+D[7]+1735328473&4294967295,U=q+(M<<14&4294967295|M>>>18),M=L+(q^I&(U^q))+D[12]+2368359562&4294967295,L=U+(M<<20&4294967295|M>>>12),M=I+(L^U^q)+D[5]+4294588738&4294967295,I=L+(M<<4&4294967295|M>>>28),M=q+(I^L^U)+D[8]+2272392833&4294967295,q=I+(M<<11&4294967295|M>>>21),M=U+(q^I^L)+D[11]+1839030562&4294967295,U=q+(M<<16&4294967295|M>>>16),M=L+(U^q^I)+D[14]+4259657740&4294967295,L=U+(M<<23&4294967295|M>>>9),M=I+(L^U^q)+D[1]+2763975236&4294967295,I=L+(M<<4&4294967295|M>>>28),M=q+(I^L^U)+D[4]+1272893353&4294967295,q=I+(M<<11&4294967295|M>>>21),M=U+(q^I^L)+D[7]+4139469664&4294967295,U=q+(M<<16&4294967295|M>>>16),M=L+(U^q^I)+D[10]+3200236656&4294967295,L=U+(M<<23&4294967295|M>>>9),M=I+(L^U^q)+D[13]+681279174&4294967295,I=L+(M<<4&4294967295|M>>>28),M=q+(I^L^U)+D[0]+3936430074&4294967295,q=I+(M<<11&4294967295|M>>>21),M=U+(q^I^L)+D[3]+3572445317&4294967295,U=q+(M<<16&4294967295|M>>>16),M=L+(U^q^I)+D[6]+76029189&4294967295,L=U+(M<<23&4294967295|M>>>9),M=I+(L^U^q)+D[9]+3654602809&4294967295,I=L+(M<<4&4294967295|M>>>28),M=q+(I^L^U)+D[12]+3873151461&4294967295,q=I+(M<<11&4294967295|M>>>21),M=U+(q^I^L)+D[15]+530742520&4294967295,U=q+(M<<16&4294967295|M>>>16),M=L+(U^q^I)+D[2]+3299628645&4294967295,L=U+(M<<23&4294967295|M>>>9),M=I+(U^(L|~q))+D[0]+4096336452&4294967295,I=L+(M<<6&4294967295|M>>>26),M=q+(L^(I|~U))+D[7]+1126891415&4294967295,q=I+(M<<10&4294967295|M>>>22),M=U+(I^(q|~L))+D[14]+2878612391&4294967295,U=q+(M<<15&4294967295|M>>>17),M=L+(q^(U|~I))+D[5]+4237533241&4294967295,L=U+(M<<21&4294967295|M>>>11),M=I+(U^(L|~q))+D[12]+1700485571&4294967295,I=L+(M<<6&4294967295|M>>>26),M=q+(L^(I|~U))+D[3]+2399980690&4294967295,q=I+(M<<10&4294967295|M>>>22),M=U+(I^(q|~L))+D[10]+4293915773&4294967295,U=q+(M<<15&4294967295|M>>>17),M=L+(q^(U|~I))+D[1]+2240044497&4294967295,L=U+(M<<21&4294967295|M>>>11),M=I+(U^(L|~q))+D[8]+1873313359&4294967295,I=L+(M<<6&4294967295|M>>>26),M=q+(L^(I|~U))+D[15]+4264355552&4294967295,q=I+(M<<10&4294967295|M>>>22),M=U+(I^(q|~L))+D[6]+2734768916&4294967295,U=q+(M<<15&4294967295|M>>>17),M=L+(q^(U|~I))+D[13]+1309151649&4294967295,L=U+(M<<21&4294967295|M>>>11),M=I+(U^(L|~q))+D[4]+4149444226&4294967295,I=L+(M<<6&4294967295|M>>>26),M=q+(L^(I|~U))+D[11]+3174756917&4294967295,q=I+(M<<10&4294967295|M>>>22),M=U+(I^(q|~L))+D[2]+718787259&4294967295,U=q+(M<<15&4294967295|M>>>17),M=L+(q^(U|~I))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+q&4294967295}r.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var L=I-this.blockSize,D=this.B,U=this.h,q=0;q<I;){if(U==0)for(;q<=L;)s(this,k,q),q+=this.blockSize;if(typeof k=="string"){for(;q<I;)if(D[U++]=k.charCodeAt(q++),U==this.blockSize){s(this,D),U=0;break}}else for(;q<I;)if(D[U++]=k[q++],U==this.blockSize){s(this,D),U=0;break}}this.h=U,this.o+=I},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var L=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=L&255,L/=256;for(this.u(k),k=Array(16),I=L=0;4>I;++I)for(var D=0;32>D;D+=8)k[L++]=this.g[I]>>>D&255;return k};function i(k,I){var L=a;return Object.prototype.hasOwnProperty.call(L,k)?L[k]:L[k]=I(k)}function o(k,I){this.h=I;for(var L=[],D=!0,U=k.length-1;0<=U;U--){var q=k[U]|0;D&&q==I||(L[U]=q,D=!1)}this.g=L}var a={};function l(k){return-128<=k&&128>k?i(k,function(I){return new o([I|0],0>I?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return g;if(0>k)return S(u(-k));for(var I=[],L=1,D=0;k>=L;D++)I[D]=k/L|0,L*=4294967296;return new o(I,0)}function h(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return S(h(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=u(Math.pow(I,8)),D=g,U=0;U<k.length;U+=8){var q=Math.min(8,k.length-U),M=parseInt(k.substring(U,U+q),I);8>q?(q=u(Math.pow(I,q)),D=D.j(q).add(u(M))):(D=D.j(L),D=D.add(u(M)))}return D}var g=l(0),y=l(1),_=l(16777216);t=o.prototype,t.m=function(){if(C(this))return-S(this).m();for(var k=0,I=1,L=0;L<this.g.length;L++){var D=this.i(L);k+=(0<=D?D:4294967296+D)*I,I*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(C(this))return"-"+S(this).toString(k);for(var I=u(Math.pow(k,6)),L=this,D="";;){var U=P(L,I).g;L=b(L,U.j(I));var q=((0<L.g.length?L.g[0]:L.h)>>>0).toString(k);if(L=U,x(L))return q+D;for(;6>q.length;)q="0"+q;D=q+D}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function C(k){return k.h==-1}t.l=function(k){return k=b(this,k),C(k)?-1:x(k)?0:1};function S(k){for(var I=k.g.length,L=[],D=0;D<I;D++)L[D]=~k.g[D];return new o(L,~k.h).add(y)}t.abs=function(){return C(this)?S(this):this},t.add=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],D=0,U=0;U<=I;U++){var q=D+(this.i(U)&65535)+(k.i(U)&65535),M=(q>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);D=M>>>16,q&=65535,M&=65535,L[U]=M<<16|q}return new o(L,L[L.length-1]&-2147483648?-1:0)};function b(k,I){return k.add(S(I))}t.j=function(k){if(x(this)||x(k))return g;if(C(this))return C(k)?S(this).j(S(k)):S(S(this).j(k));if(C(k))return S(this.j(S(k)));if(0>this.l(_)&&0>k.l(_))return u(this.m()*k.m());for(var I=this.g.length+k.g.length,L=[],D=0;D<2*I;D++)L[D]=0;for(D=0;D<this.g.length;D++)for(var U=0;U<k.g.length;U++){var q=this.i(D)>>>16,M=this.i(D)&65535,De=k.i(U)>>>16,_t=k.i(U)&65535;L[2*D+2*U]+=M*_t,A(L,2*D+2*U),L[2*D+2*U+1]+=q*_t,A(L,2*D+2*U+1),L[2*D+2*U+1]+=M*De,A(L,2*D+2*U+1),L[2*D+2*U+2]+=q*De,A(L,2*D+2*U+2)}for(D=0;D<I;D++)L[D]=L[2*D+1]<<16|L[2*D];for(D=I;D<2*I;D++)L[D]=0;return new o(L,0)};function A(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function T(k,I){this.g=k,this.h=I}function P(k,I){if(x(I))throw Error("division by zero");if(x(k))return new T(g,g);if(C(k))return I=P(S(k),I),new T(S(I.g),S(I.h));if(C(I))return I=P(k,S(I)),new T(S(I.g),I.h);if(30<k.g.length){if(C(k)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var L=y,D=I;0>=D.l(k);)L=V(L),D=V(D);var U=F(L,1),q=F(D,1);for(D=F(D,2),L=F(L,2);!x(D);){var M=q.add(D);0>=M.l(k)&&(U=U.add(L),q=M),D=F(D,1),L=F(L,1)}return I=b(k,U.j(I)),new T(U,I)}for(U=g;0<=k.l(I);){for(L=Math.max(1,Math.floor(k.m()/I.m())),D=Math.ceil(Math.log(L)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),q=u(L),M=q.j(I);C(M)||0<M.l(k);)L-=D,q=u(L),M=q.j(I);x(q)&&(q=y),U=U.add(q),k=b(k,M)}return new T(U,k)}t.A=function(k){return P(this,k).h},t.and=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],D=0;D<I;D++)L[D]=this.i(D)&k.i(D);return new o(L,this.h&k.h)},t.or=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],D=0;D<I;D++)L[D]=this.i(D)|k.i(D);return new o(L,this.h|k.h)},t.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],D=0;D<I;D++)L[D]=this.i(D)^k.i(D);return new o(L,this.h^k.h)};function V(k){for(var I=k.g.length+1,L=[],D=0;D<I;D++)L[D]=k.i(D)<<1|k.i(D-1)>>>31;return new o(L,k.h)}function F(k,I){var L=I>>5;I%=32;for(var D=k.g.length-L,U=[],q=0;q<D;q++)U[q]=0<I?k.i(q+L)>>>I|k.i(q+L+1)<<32-I:k.i(q+L);return new o(U,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Na=o}).apply(typeof i_<"u"?i_:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,_T,Xc,ET,Od,Kg,bT,xT,TT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,w){return c==Array.prototype||c==Object.prototype||(c[m]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var m=0;m<c.length;++m){var w=c[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var w=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var $=c[R];if(!($ in w))break e;w=w[$]}c=c[c.length-1],R=w[c],m=m(R),m!=R&&m!=null&&e(w,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var w=0,R=!1,$={next:function(){if(!R&&w<c.length){var z=w++;return{value:m(z,c[z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,w){return c.call.apply(c.bind,arguments)}function g(c,m,w){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),c.apply(m,$)}}return function(){return c.apply(m,arguments)}}function y(c,m,w){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,y.apply(null,arguments)}function _(c,m){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function x(c,m){function w(){}w.prototype=m.prototype,c.aa=m.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(R,$,z){for(var X=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)X[Me-2]=arguments[Me];return m.prototype[$].apply(R,X)}}function C(c){const m=c.length;if(0<m){const w=Array(m);for(let R=0;R<m;R++)w[R]=c[R];return w}return[]}function S(c,m){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(l(R)){const $=c.length||0,z=R.length||0;c.length=$+z;for(let X=0;X<z;X++)c[$+X]=R[X]}else c.push(R)}}class b{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function A(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var V=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function F(c,m,w){for(const R in c)m.call(w,c[R],R,c)}function k(c,m){for(const w in c)m.call(void 0,c[w],w,c)}function I(c){const m={};for(const w in c)m[w]=c[w];return m}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,m){let w,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(w in R)c[w]=R[w];for(let z=0;z<L.length;z++)w=L[z],Object.prototype.hasOwnProperty.call(R,w)&&(c[w]=R[w])}}function U(c){var m=1;c=c.split(":");const w=[];for(;0<m&&c.length;)w.push(c.shift()),m--;return c.length&&w.push(c.join(":")),w}function q(c){a.setTimeout(()=>{throw c},0)}function M(){var c=ce;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class De{constructor(){this.h=this.g=null}add(m,w){const R=_t.get();R.set(m,w),this.h?this.h.next=R:this.g=R,this.h=R}}var _t=new b(()=>new Qr,c=>c.reset());class Qr{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let At,J=!1,ce=new De,Z=()=>{const c=a.Promise.resolve(void 0);At=()=>{c.then(Re)}};var Re=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(w){q(w)}var m=_t;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}J=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return c}();function ve(c,m){if(Ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(V){e:{try{P(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else w=="mouseover"?m=c.fromElement:w=="mouseout"&&(m=c.toElement);this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ot[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ve.aa.h.call(this)}}x(ve,Ae);var Ot={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nn="closure_listenable_"+(1e6*Math.random()|0),It=0;function St(c,m,w,R,$){this.listener=c,this.proxy=null,this.src=m,this.type=w,this.capture=!!R,this.ha=$,this.key=++It,this.da=this.fa=!1}function Dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ar(c){this.src=c,this.g={},this.h=0}Ar.prototype.add=function(c,m,w,R,$){var z=c.toString();c=this.g[z],c||(c=this.g[z]=[],this.h++);var X=Ir(c,m,R,$);return-1<X?(m=c[X],w||(m.fa=!1)):(m=new St(m,this.src,z,!!R,$),m.fa=w,c.push(m)),m};function ft(c,m){var w=m.type;if(w in c.g){var R=c.g[w],$=Array.prototype.indexOf.call(R,m,void 0),z;(z=0<=$)&&Array.prototype.splice.call(R,$,1),z&&(Dt(m),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Ir(c,m,w,R){for(var $=0;$<c.length;++$){var z=c[$];if(!z.da&&z.listener==m&&z.capture==!!w&&z.ha==R)return $}return-1}var Sr="closure_lm_"+(1e6*Math.random()|0),Yr={};function ye(c,m,w,R,$){if(Array.isArray(m)){for(var z=0;z<m.length;z++)ye(c,m[z],w,R,$);return null}return w=Xr(w),c&&c[Nn]?c.K(m,w,u(R)?!!R.capture:!!R,$):Gt(c,m,w,!1,R,$)}function Gt(c,m,w,R,$,z){if(!m)throw Error("Invalid event type");var X=u($)?!!$.capture:!!$,Me=ir(c);if(Me||(c[Sr]=Me=new Ar(c)),w=Me.add(m,w,R,X,z),w.proxy)return w;if(R=Wn(),w.proxy=R,R.src=c,R.listener=w,c.addEventListener)$t||($=X),$===void 0&&($=!1),c.addEventListener(m.toString(),R,$);else if(c.attachEvent)c.attachEvent(Je(m.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Wn(){function c(w){return m.call(c.src,c.listener,w)}const m=li;return c}function sr(c,m,w,R,$){if(Array.isArray(m))for(var z=0;z<m.length;z++)sr(c,m[z],w,R,$);else R=u(R)?!!R.capture:!!R,w=Xr(w),c&&c[Nn]?(c=c.i,m=String(m).toString(),m in c.g&&(z=c.g[m],w=Ir(z,w,R,$),-1<w&&(Dt(z[w]),Array.prototype.splice.call(z,w,1),z.length==0&&(delete c.g[m],c.h--)))):c&&(c=ir(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ir(m,w,R,$)),(w=-1<c?m[c]:null)&&Be(w))}function Be(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Nn])ft(m.i,c);else{var w=c.type,R=c.proxy;m.removeEventListener?m.removeEventListener(w,R,c.capture):m.detachEvent?m.detachEvent(Je(w),R):m.addListener&&m.removeListener&&m.removeListener(R),(w=ir(m))?(ft(w,c),w.h==0&&(w.src=null,m[Sr]=null)):Dt(c)}}}function Je(c){return c in Yr?Yr[c]:Yr[c]="on"+c}function li(c,m){if(c.da)c=!0;else{m=new ve(m,this);var w=c.listener,R=c.ha||c.src;c.fa&&Be(c),c=w.call(R,m)}return c}function ir(c){return c=c[Sr],c instanceof Ar?c:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xr(c){return typeof c=="function"?c:(c[Fe]||(c[Fe]=function(m){return c.handleEvent(m)}),c[Fe])}function ot(){Te.call(this),this.i=new Ar(this),this.M=this,this.F=null}x(ot,Te),ot.prototype[Nn]=!0,ot.prototype.removeEventListener=function(c,m,w,R){sr(this,c,m,w,R)};function Ke(c,m){var w,R=c.F;if(R)for(w=[];R;R=R.F)w.push(R);if(c=c.M,R=m.type||m,typeof m=="string")m=new Ae(m,c);else if(m instanceof Ae)m.target=m.target||c;else{var $=m;m=new Ae(R,c),D(m,$)}if($=!0,w)for(var z=w.length-1;0<=z;z--){var X=m.g=w[z];$=kn(X,R,!0,m)&&$}if(X=m.g=c,$=kn(X,R,!0,m)&&$,$=kn(X,R,!1,m)&&$,w)for(z=0;z<w.length;z++)X=m.g=w[z],$=kn(X,R,!1,m)&&$}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var w=c.g[m],R=0;R<w.length;R++)Dt(w[R]);delete c.g[m],c.h--}}this.F=null},ot.prototype.K=function(c,m,w,R){return this.i.add(String(c),m,!1,w,R)},ot.prototype.L=function(c,m,w,R){return this.i.add(String(c),m,!0,w,R)};function kn(c,m,w,R){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,z=0;z<m.length;++z){var X=m[z];if(X&&!X.da&&X.capture==w){var Me=X.listener,Et=X.ha||X.src;X.fa&&ft(c.i,X),$=Me.call(Et,R)!==!1&&$}}return $&&!R.defaultPrevented}function Ss(c,m,w){if(typeof c=="function")w&&(c=y(c,w));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Qt(c){c.g=Ss(()=>{c.g=null,c.i&&(c.i=!1,Qt(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class pe extends Te{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(c){Te.call(this),this.h=c,this.g={}}x(Cr,Te);var Zi=[];function Jr(c){F(c.g,function(m,w){this.g.hasOwnProperty(w)&&Be(m)},c),c.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Jr(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nr=a.JSON.stringify,eo=a.JSON.parse,un=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function or(){}or.prototype.h=null;function hn(c){return c.h||(c.h=c.i())}function Zr(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){Ae.call(this,"d")}x(lr,Ae);function cr(){Ae.call(this,"c")}x(cr,Ae);var Yt={},Cs=null;function dn(){return Cs=Cs||new ot}Yt.La="serverreachability";function Ns(c){Ae.call(this,Yt.La,c)}x(Ns,Ae);function fn(c){const m=dn();Ke(m,new Ns(m))}Yt.STAT_EVENT="statevent";function ci(c,m){Ae.call(this,Yt.STAT_EVENT,c),this.stat=m}x(ci,Ae);function $e(c){const m=dn();Ke(m,new ci(m,c))}Yt.Ma="timingevent";function ks(c,m){Ae.call(this,Yt.Ma,c),this.size=m}x(ks,Ae);function es(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function to(c,m,w,R,$,z){c.info(function(){if(c.g)if(z)for(var X="",Me=z.split("&"),Et=0;Et<Me.length;Et++){var Se=Me[Et].split("=");if(1<Se.length){var Vt=Se[0];Se=Se[1];var kt=Vt.split("_");X=2<=kt.length&&kt[1]=="type"?X+(Vt+"="+Se+"&"):X+(Vt+"=redacted&")}}else X=null;else X=z;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+m+`
`+w+`
`+X})}function ui(c,m,w,R,$,z,X){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+m+`
`+w+`
`+z+" "+X})}function Ge(c,m,w,R){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+da(c,w)+(R?" "+R:"")})}function ha(c,m){c.info(function(){return"TIMEOUT: "+m})}ts.prototype.info=function(){};function da(c,m){if(!c.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var R=w[c];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var z=$[0];if(z!="noop"&&z!="stop"&&z!="close")for(var X=1;X<$.length;X++)$[X]=""}}}}return Nr(w)}catch{return m}}var Rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},no={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function at(){}x(at,or),at.prototype.g=function(){return new XMLHttpRequest},at.prototype.i=function(){return{}},hi=new at;function pn(c,m,w,R){this.j=c,this.i=m,this.l=w,this.R=R||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kr}function kr(){this.i=null,this.g="",this.h=!1}var di={},Rr={};function pt(c,m,w){c.L=1,c.v=mn(Ln(m)),c.m=w,c.P=!0,jt(c,null)}function jt(c,m){c.F=Date.now(),ns(c),c.A=Ln(c.v);var w=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),_i(w.i,"t",R),c.C=0,w=c.j.J,c.h=new kr,c.g=Dh(c.j,w?m:null,!c.m),0<c.O&&(c.M=new pe(y(c.Y,c,c.g),c.O)),m=c.U,w=c.g,R=c.ca;var $="readystatechange";Array.isArray($)||($&&(Zi[0]=$.toString()),$=Zi);for(var z=0;z<$.length;z++){var X=ye(w,$[z],R||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),fn(),to(c.i,c.u,c.A,c.l,c.R,c.m)}pn.prototype.ca=function(c){c=c.target;const m=this.M;m&&qe(c)==3?m.j():this.Y(c)},pn.prototype.Y=function(c){try{if(c==this.g)e:{const kt=qe(this.g);var m=this.g.Ba();const uo=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Mt(this.g)))){this.J||kt!=4||m==7||(m==8||0>=uo?fn(3):fn(2)),fi(this);var w=this.g.Z();this.X=w;t:if(ro(this)){var R=Mt(this.g);c="";var $=R.length,z=qe(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Kn(this);var X="";break t}this.h.i=new a.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,c+=this.h.i.decode(R[m],{stream:!(z&&m==$-1)});R.length=0,this.h.g+=c,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=w==200,ui(this.i,this.u,this.A,this.l,this.R,kt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Et=this.g;if((Me=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Me)){var Se=Me;break t}}Se=null}if(w=Se)Ge(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,w);else{this.o=!1,this.s=3,$e(12),Rn(this),Kn(this);break e}}if(this.P){w=!0;let dr;for(;!this.J&&this.C<X.length;)if(dr=fa(this,X),dr==Rr){kt==4&&(this.s=4,$e(14),w=!1),Ge(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==di){this.s=4,$e(15),Ge(this.i,this.l,X,"[Invalid Chunk]"),w=!1;break}else Ge(this.i,this.l,dr,null),Pr(this,dr);if(ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||X.length!=0||this.h.h||(this.s=1,$e(16),w=!1),this.o=this.o&&w,!w)Ge(this.i,this.l,X,"[Invalid Chunked Response]"),Rn(this),Kn(this);else if(0<X.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Rc(Vt),Vt.M=!0,$e(11))}}else Ge(this.i,this.l,X,null),Pr(this,X);kt==4&&Rn(this),this.o&&!this.J&&(kt==4?Pc(this.j,this):(this.o=!1,ns(this)))}else lt(this.g),w==400&&0<X.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),Rn(this),Kn(this)}}}catch{}finally{}};function ro(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fa(c,m){var w=c.C,R=m.indexOf(`
`,w);return R==-1?Rr:(w=Number(m.substring(w,R)),isNaN(w)?di:(R+=1,R+w>m.length?Rr:(m=m.slice(R,R+w),c.C=R+w,m)))}pn.prototype.cancel=function(){this.J=!0,Rn(this)};function ns(c){c.S=Date.now()+c.I,so(c,c.I)}function so(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=es(y(c.ba,c),m)}function fi(c){c.B&&(a.clearTimeout(c.B),c.B=null)}pn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ha(this.i,this.A),this.L!=2&&(fn(),$e(17)),Rn(this),this.s=2,Kn(this)):so(this,this.S-c)};function Kn(c){c.j.G==0||c.J||Pc(c.j,c)}function Rn(c){fi(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Jr(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Pr(c,m){try{var w=c.j;if(w.G!=0&&(w.g==c||pi(w.h,c))){if(!c.K&&pi(w.h,c)&&w.G==3){try{var R=w.Da.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)al(w),yn(w);else break e;kc(w),$e(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=es(y(w.Za,w),6e3));if(1>=oo(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Us(w,11)}else if((c.K||w.g==c)&&al(w),!A(m))for($=w.Da.g.parse(m),m=0;m<$.length;m++){let Se=$[m];if(w.T=Se[0],Se=Se[1],w.G==2)if(Se[0]=="c"){w.K=Se[1],w.ia=Se[2];const Vt=Se[3];Vt!=null&&(w.la=Vt,w.j.info("VER="+w.la));const kt=Se[4];kt!=null&&(w.Aa=kt,w.j.info("SVER="+w.Aa));const uo=Se[5];uo!=null&&typeof uo=="number"&&0<uo&&(R=1.5*uo,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const dr=c.g;if(dr){const ul=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var z=R.h;z.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(mi(z,z.h),z.h=null))}if(R.D){const ho=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(R.ya=ho,Oe(R.I,R.D,ho))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var X=c;if(R.qa=Oh(R,R.J?R.ia:null,R.W),X.K){ao(R.h,X);var Me=X,Et=R.L;Et&&(Me.I=Et),Me.B&&(fi(Me),ns(Me)),R.g=X}else Ph(R);0<w.i.length&&Ms(w)}else Se[0]!="stop"&&Se[0]!="close"||Us(w,7);else w.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Us(w,7):Xn(w):Se[0]!="noop"&&w.l&&w.l.ta(Se),w.v=0)}}fn(4)}catch{}}var Pn=class{constructor(c,m){this.g=c,this.map=m}};function Ps(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oo(c){return c.h?1:c.g?c.g.size:0}function pi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function mi(c,m){c.g?c.g.add(m):c.h=m}function ao(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ps.prototype.cancel=function(){if(this.i=rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rs(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const w of c.g.values())m=m.concat(w.D);return m}return C(c.i)}function Ls(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],w=c.length,R=0;R<w;R++)m.push(c[R]);return m}m=[],w=0;for(R in c)m[w++]=c[R];return m}function Lr(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var w=0;w<c;w++)m.push(w);return m}m=[],w=0;for(const R in c)m[w++]=R;return m}}}function gi(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var w=Lr(c),R=Ls(c),$=R.length,z=0;z<$;z++)m.call(void 0,R[z],w&&w[z],c)}var yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,m){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var R=c[w].indexOf("="),$=null;if(0<=R){var z=c[w].substring(0,R);$=c[w].substring(R+1)}else z=c[w];m(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Gn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gn){this.h=c.h,Os(this,c.j),this.o=c.o,this.g=c.g,Xt(this,c.s),this.l=c.l;var m=c.i,w=new is;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),vi(this,w),this.m=c.m}else c&&(m=String(c).match(yi))?(this.h=!1,Os(this,m[1]||"",!0),this.o=Ct(m[2]||""),this.g=Ct(m[3]||"",!0),Xt(this,m[4]),this.l=Ct(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=Ct(m[7]||"")):(this.h=!1,this.i=new is(null,this.h))}Gn.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Jt(m,lo,!0),":");var w=this.g;return(w||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Jt(m,lo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Jt(w,w.charAt(0)=="/"?ma:Qn,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Jt(w,ss)),c.join("")};function Ln(c){return new Gn(c)}function Os(c,m,w){c.j=w?Ct(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Xt(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function vi(c,m,w){m instanceof is?(c.i=m,Ei(c.i,c.h)):(w||(m=Jt(m,ga)),c.i=new is(m,c.h))}function Oe(c,m,w){c.i.set(m,w)}function mn(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ct(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Jt(c,m,w){return typeof c=="string"?(c=encodeURI(c).replace(m,ur),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ur(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lo=/[#\/\?@]/g,Qn=/[#\?:]/g,ma=/[#\?]/g,ga=/[#\?@]/g,ss=/#/g;function is(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function gn(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(m,w){c.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=is.prototype,t.add=function(c,m){gn(this),this.i=null,c=On(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(m),this.h+=1,this};function Nt(c,m){gn(c),m=On(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function wi(c,m){return gn(c),m=On(c,m),c.g.has(m)}t.forEach=function(c,m){gn(this),this.g.forEach(function(w,R){w.forEach(function($){c.call(m,$,R,this)},this)},this)},t.na=function(){gn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let R=0;R<m.length;R++){const $=c[R];for(let z=0;z<$.length;z++)w.push(m[R])}return w},t.V=function(c){gn(this);let m=[];if(typeof c=="string")wi(this,c)&&(m=m.concat(this.g.get(On(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)m=m.concat(c[w])}return m},t.set=function(c,m){return gn(this),this.i=null,c=On(this,c),wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function _i(c,m,w){Nt(c,m),0<w.length&&(c.i=null,c.g.set(On(c,m),C(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var R=m[w];const z=encodeURIComponent(String(R)),X=this.V(R);for(R=0;R<X.length;R++){var $=z;X[R]!==""&&($+="="+encodeURIComponent(String(X[R]))),c.push($)}}return this.i=c.join("&")};function On(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Ei(c,m){m&&!c.j&&(gn(c),c.i=null,c.g.forEach(function(w,R){var $=R.toLowerCase();R!=$&&(Nt(this,R),_i(this,$,w))},c)),c.j=m}function Ds(c,m){const w=new ts;if(a.Image){const R=new Image;R.onload=_(Dn,w,"TestLoadImage: loaded",!0,m,R),R.onerror=_(Dn,w,"TestLoadImage: error",!1,m,R),R.onabort=_(Dn,w,"TestLoadImage: abort",!1,m,R),R.ontimeout=_(Dn,w,"TestLoadImage: timeout",!1,m,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else m(!1)}function ya(c,m){const w=new ts,R=new AbortController,$=setTimeout(()=>{R.abort(),Dn(w,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:R.signal}).then(z=>{clearTimeout($),z.ok?Dn(w,"TestPingServer: ok",!0,m):Dn(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),Dn(w,"TestPingServer: error",!1,m)})}function Dn(c,m,w,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(w)}catch{}}function bi(){this.g=new un}function xi(c,m,w){const R=w||"";try{gi(c,function($,z){let X=$;u($)&&(X=Nr($)),m.push(R+z+"="+encodeURIComponent(X))})}catch($){throw m.push(R+"type="+encodeURIComponent("_badmap")),$}}function zt(c){this.l=c.Ub||null,this.j=c.eb||!1}x(zt,or),zt.prototype.g=function(){return new Yn(this.l,this.j)},zt.prototype.i=function(c){return function(){return c}}({});function Yn(c,m){ot.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Yn,ot),t=Yn.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,as(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;js(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function js(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?os(this):as(this),this.readyState==3&&js(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,os(this))},t.Qa=function(c){this.g&&(this.response=c,os(this))},t.ga=function(){this.g&&os(this)};function os(c){c.readyState=4,c.l=null,c.j=null,c.v=null,as(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=m.next();return c.join(`\r
`)};function as(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function v(c){let m="";return F(c,function(w,R){m+=R,m+=":",m+=w,m+=`\r
`}),m}function N(c,m,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=v(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Oe(c,m,w))}function j(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(j,ot);var H=/^https?$/i,he=["POST","PUT"];t=j.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?hn(this.o):hn(hi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(z){ie(this,z);return}if(c=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)w.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const z of R.keys())w.set(z,R.get(z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(z=>z.toLowerCase()=="content-type"),$=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(he,m,void 0))||R||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,X]of w)this.g.setRequestHeader(z,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ie(this),this.u=!0,this.g.send(c),this.u=!1}catch(z){ie(this,z)}};function ie(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,_e(c),ze(c)}function _e(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),ze(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ze(this,!0)),j.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ee(this):this.bb())},t.bb=function(){Ee(this)};function Ee(c){if(c.h&&typeof o<"u"&&(!c.v[1]||qe(c)!=4||c.Z()!=2)){if(c.u&&qe(c)==4)Ss(c.Ea,0,c);else if(Ke(c,"readystatechange"),qe(c)==4){c.h=!1;try{const X=c.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var R;if(R=X===0){var $=String(c.D).match(yi)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),R=!H.test($?$.toLowerCase():"")}w=R}if(w)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var z=2<qe(c)?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.Z()+"]",_e(c)}}finally{ze(c)}}}}function ze(c,m){if(c.g){Ie(c);const w=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ke(c,"ready");try{w.onreadystatechange=R}catch{}}}function Ie(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qe(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qe(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),eo(m)}};function Mt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lt(c){const m={};c=(c.g&&2<=qe(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(A(c[R]))continue;var w=U(c[R]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const z=m[$]||[];m[$]=z,z.push(w)}k(m,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function je(c,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||m}function mt(c){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=je("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=je("baseRetryDelayMs",5e3,c),this.cb=je("retryDelaySeedMs",1e4,c),this.Wa=je("forwardChannelMaxRetries",2,c),this.wa=je("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ps(c&&c.concurrentRequestLimit),this.Da=new bi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mt.prototype,t.la=8,t.G=1,t.connect=function(c,m,w,R){$e(0),this.W=c,this.H=m||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=Oh(this,null,this.W),Ms(this)};function Xn(c){if(hr(c),c.G==3){var m=c.U++,w=Ln(c.I);if(Oe(w,"SID",c.K),Oe(w,"RID",m),Oe(w,"TYPE","terminate"),va(c,w),m=new pn(c,c.j,m),m.L=2,m.v=mn(Ln(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=Dh(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ns(m)}Ai(c)}function yn(c){c.g&&(Rc(c),c.g.cancel(),c.g=null)}function hr(c){yn(c),c.u&&(a.clearTimeout(c.u),c.u=null),al(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ms(c){if(!io(c.h)&&!c.s){c.s=!0;var m=c.Ga;At||Z(),J||(At(),J=!0),ce.add(m,c),c.B=0}}function Vs(c,m){return oo(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=es(y(c.Ga,c,m),ll(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new pn(this,this.j,c);let z=this.o;if(this.S&&(z?(z=I(z),D(z,this.S)):z=this.S),this.m!==null||this.O||($.H=z,z=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=Rh(this,$,m),w=Ln(this.I),Oe(w,"RID",c),Oe(w,"CVER",22),this.D&&Oe(w,"X-HTTP-Session-Id",this.D),va(this,w),z&&(this.O?m="headers="+encodeURIComponent(String(v(z)))+"&"+m:this.m&&N(w,this.m,z)),mi(this.h,$),this.Ua&&Oe(w,"TYPE","init"),this.P?(Oe(w,"$req",m),Oe(w,"SID","null"),$.T=!0,pt($,w,null)):pt($,w,m),this.G=2}}else this.G==3&&(c?Ti(this,c):this.i.length==0||io(this.h)||Ti(this))};function Ti(c,m){var w;m?w=m.l:w=c.U++;const R=Ln(c.I);Oe(R,"SID",c.K),Oe(R,"RID",w),Oe(R,"AID",c.T),va(c,R),c.m&&c.o&&N(R,c.m,c.o),w=new pn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Rh(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mi(c.h,w),pt(w,R,m)}function va(c,m){c.H&&F(c.H,function(w,R){Oe(m,R,w)}),c.l&&gi({},function(w,R){Oe(m,R,w)})}function Rh(c,m,w){w=Math.min(c.i.length,w);var R=c.l?y(c.l.Na,c.l,c):null;e:{var $=c.i;let z=-1;for(;;){const X=["count="+w];z==-1?0<w?(z=$[0].g,X.push("ofs="+z)):z=0:X.push("ofs="+z);let Me=!0;for(let Et=0;Et<w;Et++){let Se=$[Et].g;const Vt=$[Et].map;if(Se-=z,0>Se)z=Math.max(0,$[Et].g-100),Me=!1;else try{xi(Vt,X,"req"+Se+"_")}catch{R&&R(Vt)}}if(Me){R=X.join("&");break e}}}return c=c.i.splice(0,w),m.D=c,R}function Ph(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;At||Z(),J||(At(),J=!0),ce.add(m,c),c.v=0}}function kc(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=es(y(c.Fa,c),ll(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Lh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=es(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),yn(this),Lh(this))};function Rc(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Lh(c){c.g=new pn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Ln(c.qa);Oe(m,"RID","rpc"),Oe(m,"SID",c.K),Oe(m,"AID",c.T),Oe(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(m,"TO",c.ja),Oe(m,"TYPE","xmlhttp"),va(c,m),c.m&&c.o&&N(m,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=mn(Ln(m)),w.m=null,w.P=!0,jt(w,c)}t.Za=function(){this.C!=null&&(this.C=null,yn(this),kc(this),$e(19))};function al(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Pc(c,m){var w=null;if(c.g==m){al(c),Rc(c),c.g=null;var R=2}else if(pi(c.h,m))w=m.D,ao(c.h,m),R=1;else return;if(c.G!=0){if(m.o)if(R==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var $=c.B;R=dn(),Ke(R,new ks(R,w)),Ms(c)}else Ph(c);else if($=m.s,$==3||$==0&&0<m.X||!(R==1&&Vs(c,m)||R==2&&kc(c)))switch(w&&0<w.length&&(m=c.h,m.i=m.i.concat(w)),$){case 1:Us(c,5);break;case 4:Us(c,10);break;case 3:Us(c,6);break;default:Us(c,2)}}}function ll(c,m){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*m}function Us(c,m){if(c.j.info("Error code "+m),m==2){var w=y(c.fb,c),R=c.Xa;const $=!R;R=new Gn(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Os(R,"https"),mn(R),$?Ds(R.toString(),w):ya(R.toString(),w)}else $e(2);c.G=0,c.l&&c.l.sa(m),Ai(c),hr(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function Ai(c){if(c.G=0,c.ka=[],c.l){const m=rs(c.h);(m.length!=0||c.i.length!=0)&&(S(c.ka,m),S(c.ka,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.ra()}}function Oh(c,m,w){var R=w instanceof Gn?Ln(w):new Gn(w);if(R.g!="")m&&(R.g=m+"."+R.g),Xt(R,R.s);else{var $=a.location;R=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var z=new Gn(null);R&&Os(z,R),m&&(z.g=m),$&&Xt(z,$),w&&(z.l=w),R=z}return w=c.D,m=c.ya,w&&m&&Oe(R,w,m),Oe(R,"VER",c.la),va(c,R),R}function Dh(c,m,w){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new j(new zt({eb:w})):new j(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jh(){}t=jh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cl(){}cl.prototype.g=function(c,m){return new jn(c,m)};function jn(c,m){ot.call(this),this.g=new mt(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!A(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new co(this)}x(jn,ot),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Xn(this.g)},jn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Nr(c),c=w);m.i.push(new Pn(m.Ya++,c)),m.G==3&&Ms(m)},jn.prototype.N=function(){this.g.l=null,delete this.j,Xn(this.g),delete this.g,jn.aa.N.call(this)};function Mh(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const w in m){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}x(Mh,lr);function Vh(){cr.call(this),this.status=1}x(Vh,cr);function co(c){this.g=c}x(co,jh),co.prototype.ua=function(){Ke(this.g,"a")},co.prototype.ta=function(c){Ke(this.g,new Mh(c))},co.prototype.sa=function(c){Ke(this.g,new Vh)},co.prototype.ra=function(){Ke(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,TT=function(){return new cl},xT=function(){return dn()},bT=Yt,Kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,Od=Rs,no.COMPLETE="complete",ET=no,Zr.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Xc=Zr,_T=zt,j.prototype.listenOnce=j.prototype.L,j.prototype.getLastError=j.prototype.Ka,j.prototype.getLastErrorCode=j.prototype.Ba,j.prototype.getStatus=j.prototype.Z,j.prototype.getResponseJson=j.prototype.Oa,j.prototype.getResponseText=j.prototype.oa,j.prototype.send=j.prototype.ea,j.prototype.setWithCredentials=j.prototype.Ha,wT=j}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Cy("@firebase/firestore");function Fc(){return Va.logLevel}function oe(t,...e){if(Va.logLevel<=Ce.DEBUG){const n=e.map(By);Va.debug(`Firestore (${Ac}): ${t}`,...n)}}function zi(t,...e){if(Va.logLevel<=Ce.ERROR){const n=e.map(By);Va.error(`Firestore (${Ac}): ${t}`,...n)}}function oc(t,...e){if(Va.logLevel<=Ce.WARN){const n=e.map(By);Va.warn(`Firestore (${Ac}): ${t}`,...n)}}function By(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: `+t;throw zi(e),new Error(e)}function He(t,e){t||fe()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class LL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OL{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new AT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new bn(e)}}class DL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ML{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new ML(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=UL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function ac(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new qt(0,0))}static max(){return new me(new qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $u.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $u?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends $u{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const BL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends $u{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return BL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(tt.fromString(e))}static fromName(e){return new ue(tt.fromString(e).popFirst(5))}static empty(){return new ue(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new tt(e.slice()))}}function FL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=me.fromTimestamp(r===1e9?new qt(n+1,0):new qt(n,r));return new Go(s,ue.empty(),e)}function qL(t){return new Go(t.readTime,t.key,-1)}class Go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Go(me.min(),ue.empty(),-1)}static max(){return new Go(me.max(),ue.empty(),-1)}}function $L(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==zL)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function WL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fy.oe=-1;function dp(t){return t==null}function Af(t){return t===0&&1/t==-1/0}function KL(t){return typeof t=="number"&&Number.isInteger(t)&&!Af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ST(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??en.RED,this.left=s??en.EMPTY,this.right=i??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new en(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(e){return new l_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class l_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new rn(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new CT("Invalid base64 string: "+i):i}}(e);return new an(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const GL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(t){if(He(!!t),typeof t=="string"){let e=0;const n=GL.exec(t);if(He(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ua(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $y(t){const e=t.mapValue.fields.__previous_value__;return qy(e)?$y(e):e}function zu(t){const e=Qo(t.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qy(t)?4:XL(t)?9007199254740991:YL(t)?10:11:fe()}function ni(t,e){if(t===e)return!0;const n=Ba(t);if(n!==Ba(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Qo(s.timestampValue),a=Qo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ua(s.bytesValue).isEqual(Ua(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return xt(s.geoPointValue.latitude)===xt(i.geoPointValue.latitude)&&xt(s.geoPointValue.longitude)===xt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return xt(s.integerValue)===xt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=xt(s.doubleValue),a=xt(i.doubleValue);return o===a?Af(o)===Af(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ac(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(a_(o)!==a_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ni(o[l],a[l])))return!1;return!0}(t,e);default:return fe()}}function Wu(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function lc(t,e){if(t===e)return 0;const n=Ba(t),r=Ba(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=xt(i.integerValue||i.doubleValue),l=xt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return c_(t.timestampValue,e.timestampValue);case 4:return c_(zu(t),zu(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ua(i),l=Ua(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Le(a[u],l[u]);if(h!==0)return h}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Le(xt(i.latitude),xt(o.latitude));return a!==0?a:Le(xt(i.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return u_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const g=i.fields||{},y=o.fields||{},_=(a=g.value)===null||a===void 0?void 0:a.arrayValue,x=(l=y.value)===null||l===void 0?void 0:l.arrayValue,C=Le(((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:u_(_,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===od.mapValue&&o===od.mapValue)return 0;if(i===od.mapValue)return 1;if(o===od.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let g=0;g<l.length&&g<h.length;++g){const y=Le(l[g],h[g]);if(y!==0)return y;const _=lc(a[l[g]],u[h[g]]);if(_!==0)return _}return Le(l.length,h.length)}(t.mapValue,e.mapValue);default:throw fe()}}function c_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Qo(t),r=Qo(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function u_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=lc(n[s],r[s]);if(i)return i}return Le(n.length,r.length)}function cc(t){return Gg(t)}function Gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Gg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Gg(n.fields[o])}`;return s+"}"}(t.mapValue):fe()}function h_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qg(t){return!!t&&"integerValue"in t}function zy(t){return!!t&&"arrayValue"in t}function d_(t){return!!t&&"nullValue"in t}function f_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dd(t){return!!t&&"mapValue"in t}function YL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=tn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=du(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Dd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Zn(du(this.value))}}function NT(t){const e=[];return Qa(t.fields,(n,r)=>{const s=new tn([n]);if(Dd(r)){const i=NT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tn(e,0,me.min(),me.min(),me.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,s){return new Tn(e,1,n,me.min(),r,s,0)}static newNoDocument(e,n){return new Tn(e,2,n,me.min(),me.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,me.min(),me.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.position=e,this.inclusive=n}}function p_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=lc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function m_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function JL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{}class Lt extends kT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eO(e,n,r):n==="array-contains"?new rO(e,r):n==="in"?new sO(e,r):n==="not-in"?new iO(e,r):n==="array-contains-any"?new oO(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tO(e,r):new nO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lc(n,this.value)):n!==null&&Ba(this.value)===Ba(n)&&this.matchesComparison(lc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends kT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new bs(e,n)}matches(e){return RT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function RT(t){return t.op==="and"}function PT(t){return ZL(t)&&RT(t)}function ZL(t){for(const e of t.filters)if(e instanceof bs)return!1;return!0}function Yg(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+cc(t.value);if(PT(t))return t.filters.map(e=>Yg(e)).join(",");{const e=t.filters.map(n=>Yg(n)).join(",");return`${t.op}(${e})`}}function LT(t,e){return t instanceof Lt?function(r,s){return s instanceof Lt&&r.op===s.op&&r.field.isEqual(s.field)&&ni(r.value,s.value)}(t,e):t instanceof bs?function(r,s){return s instanceof bs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&LT(o,s.filters[a]),!0):!1}(t,e):void fe()}function OT(t){return t instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${cc(n.value)}`}(t):t instanceof bs?function(n){return n.op.toString()+" {"+n.getFilters().map(OT).join(" ,")+"}"}(t):"Filter"}class eO extends Lt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class tO extends Lt{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nO extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class rO extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zy(n)&&Wu(n.arrayValue,this.value)}}class sO extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class iO extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wu(this.value.arrayValue,n)}}class oO extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function g_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new aO(t,e,n,r,s,i,o)}function Hy(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cc(r)).join(",")),e.ue=n}return e.ue}function Wy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m_(t.startAt,e.startAt)&&m_(t.endAt,e.endAt)}function Xg(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lO(t,e,n,r,s,i,o,a){return new Ic(t,e,n,r,s,i,o,a)}function fp(t){return new Ic(t)}function y_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jT(t){return t.collectionGroup!==null}function fu(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rn(tn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ku(i,r))}),n.has(tn.keyField().canonicalString())||e.ce.push(new Ku(tn.keyField(),r))}return e.ce}function Js(t){const e=ge(t);return e.le||(e.le=cO(e,fu(t))),e.le}function cO(t,e){if(t.limitType==="F")return g_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ku(s.field,i)});const n=t.endAt?new If(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new If(t.startAt.position,t.startAt.inclusive):null;return g_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jg(t,e){const n=t.filters.concat([e]);return new Ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zg(t,e,n){return new Ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pp(t,e){return Wy(Js(t),Js(e))&&t.limitType===e.limitType}function MT(t){return`${Hy(Js(t))}|lt:${t.limitType}`}function pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>OT(s)).join(", ")}]`),dp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>cc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>cc(s)).join(",")),`Target(${r})`}(Js(t))}; limitType=${t.limitType})`}function mp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ue.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of fu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=p_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,fu(r),s)||r.endAt&&!function(o,a,l){const u=p_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,fu(r),s))}(t,e)}function uO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VT(t){return(e,n)=>{let r=!1;for(const s of fu(t)){const i=hO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function hO(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?lc(l,u):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new dt(ue.comparator);function Hi(){return dO}const UT=new dt(ue.comparator);function Jc(...t){let e=UT;for(const n of t)e=e.insert(n.key,n);return e}function BT(t){let e=UT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ia(){return pu()}function FT(){return pu()}function pu(){return new Sc(t=>t.toString(),(t,e)=>t.isEqual(e))}const fO=new dt(ue.comparator),pO=new rn(ue.comparator);function xe(...t){let e=pO;for(const n of t)e=e.add(n);return e}const mO=new rn(Le);function gO(){return mO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function qT(t){return{integerValue:""+t}}function yO(t,e){return KL(e)?qT(e):Ky(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this._=void 0}}function vO(t,e,n){return t instanceof Gu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&qy(i)&&(i=$y(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Qu?zT(t,e):t instanceof Yu?HT(t,e):function(s,i){const o=$T(s,i),a=v_(o)+v_(s.Pe);return Qg(o)&&Qg(s.Pe)?qT(a):Ky(s.serializer,a)}(t,e)}function wO(t,e,n){return t instanceof Qu?zT(t,e):t instanceof Yu?HT(t,e):n}function $T(t,e){return t instanceof Sf?function(r){return Qg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Gu extends gp{}class Qu extends gp{constructor(e){super(),this.elements=e}}function zT(t,e){const n=WT(e);for(const r of t.elements)n.some(s=>ni(s,r))||n.push(r);return{arrayValue:{values:n}}}class Yu extends gp{constructor(e){super(),this.elements=e}}function HT(t,e){let n=WT(e);for(const r of t.elements)n=n.filter(s=>!ni(s,r));return{arrayValue:{values:n}}}class Sf extends gp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function v_(t){return xt(t.integerValue||t.doubleValue)}function WT(t){return zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.field=e,this.transform=n}}function EO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Qu&&s instanceof Qu||r instanceof Yu&&s instanceof Yu?ac(r.elements,s.elements,ni):r instanceof Sf&&s instanceof Sf?ni(r.Pe,s.Pe):r instanceof Gu&&s instanceof Gu}(t.transform,e.transform)}class bO{constructor(e,n){this.version=e,this.transformResults=n}}class vs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yp{}function KT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gy(t.key,vs.none()):new wh(t.key,t.data,vs.none());{const n=t.data,r=Zn.empty();let s=new rn(tn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ia(t.key,r,new mr(s.toArray()),vs.none())}}function xO(t,e,n){t instanceof wh?function(s,i,o){const a=s.value.clone(),l=__(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ia?function(s,i,o){if(!jd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=__(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(GT(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mu(t,e,n,r){return t instanceof wh?function(i,o,a,l){if(!jd(i.precondition,o))return a;const u=i.value.clone(),h=E_(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ia?function(i,o,a,l){if(!jd(i.precondition,o))return a;const u=E_(i.fieldTransforms,l,o),h=o.data;return h.setAll(GT(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,o,a){return jd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function TO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=$T(r.transform,s||null);i!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,i))}return n||null}function w_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ac(r,s,(i,o)=>EO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wh extends yp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ia extends yp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function GT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function __(t,e,n){const r=new Map;He(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,wO(o,a,n[s]))}return r}function E_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,vO(i,o,e))}return r}class Gy extends yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AO extends yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&xO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=KT(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,(n,r)=>w_(n,r))&&ac(this.baseMutations,e.baseMutations,(n,r)=>w_(n,r))}}class Qy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){He(e.mutations.length===r.length);let s=function(){return fO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Qy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ne;function NO(t){switch(t){default:return fe();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function QT(t){if(t===void 0)return zi("GRPC error has no .code"),G.UNKNOWN;switch(t){case Rt.OK:return G.OK;case Rt.CANCELLED:return G.CANCELLED;case Rt.UNKNOWN:return G.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return G.INTERNAL;case Rt.UNAVAILABLE:return G.UNAVAILABLE;case Rt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Rt.NOT_FOUND:return G.NOT_FOUND;case Rt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Rt.ABORTED:return G.ABORTED;case Rt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Rt.DATA_LOSS:return G.DATA_LOSS;default:return fe()}}(Ne=Rt||(Rt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new Na([4294967295,4294967295],0);function b_(t){const e=kO().encode(t),n=new vT;return n.update(e),new Uint8Array(n.digest())}function x_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Na([n,r],0),new Na([s,i],0)]}class Yy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zc(`Invalid padding: ${n}`);if(r<0)throw new Zc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Na.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Na.fromNumber(r)));return s.compare(RO)===1&&(s=new Na([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=b_(e),[r,s]=x_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Yy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=b_(e),[r,s]=x_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vp(me.min(),s,new dt(Le),Hi(),xe())}}class _h{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _h(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class YT{constructor(e,n){this.targetId=e,this.me=n}}class XT{constructor(e,n,r=an.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class T_{constructor(){this.fe=0,this.ge=I_(),this.pe=an.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new _h(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=I_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PO{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hi(),this.qe=A_(),this.Qe=new dt(Le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Xg(i))if(r===0){const o=new ue(i.path);this.Ue(n,o,Tn.newNoDocument(o,me.min()))}else He(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ua(r).toUint8Array()}catch(l){if(l instanceof CT)return oc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yy(o,s,i)}catch(l){return oc(l instanceof Zc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Xg(a.target)){const l=new ue(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Tn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=xe();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new vp(e,n,this.Qe,this.ke,r);return this.ke=Hi(),this.qe=A_(),this.Qe=new dt(Le),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new T_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rn(Le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new T_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function A_(){return new dt(ue.comparator)}function I_(){return new dt(ue.comparator)}const LO={asc:"ASCENDING",desc:"DESCENDING"},OO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DO={and:"AND",or:"OR"};class jO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function e0(t,e){return t.useProto3Json||dp(e)?e:{value:e}}function Cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MO(t,e){return Cf(t,e.toTimestamp())}function Zs(t){return He(!!t),me.fromTimestamp(function(n){const r=Qo(n);return new qt(r.seconds,r.nanos)}(t))}function Xy(t,e){return t0(t,e).canonicalString()}function t0(t,e){const n=function(s){return new tt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZT(t){const e=tt.fromString(t);return He(sA(e)),e}function n0(t,e){return Xy(t.databaseId,e.path)}function xm(t,e){const n=ZT(e);if(n.get(1)!==t.databaseId.projectId)throw new te(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(tA(n))}function eA(t,e){return Xy(t.databaseId,e)}function VO(t){const e=ZT(t);return e.length===4?tt.emptyPath():tA(e)}function r0(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tA(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S_(t,e,n){return{name:n0(t,e),fields:n.value.mapValue.fields}}function UO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(He(h===void 0||typeof h=="string"),an.fromBase64String(h||"")):(He(h===void 0||h instanceof Buffer||h instanceof Uint8Array),an.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?G.UNKNOWN:QT(u.code);return new te(h,u.message||"")}(o);n=new XT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xm(t,r.document.name),i=Zs(r.document.updateTime),o=r.document.createTime?Zs(r.document.createTime):me.min(),a=new Zn({mapValue:{fields:r.document.fields}}),l=Tn.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Md(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xm(t,r.document),i=r.readTime?Zs(r.readTime):me.min(),o=Tn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Md([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xm(t,r.document),i=r.removedTargetIds||[];n=new Md([],i,s,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new CO(s,i),a=r.targetId;n=new YT(a,o)}}return n}function BO(t,e){let n;if(e instanceof wh)n={update:S_(t,e.key,e.value)};else if(e instanceof Gy)n={delete:n0(t,e.key)};else if(e instanceof ia)n={update:S_(t,e.key,e.data),updateMask:QO(e.fieldMask)};else{if(!(e instanceof AO))return fe();n={verify:n0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:MO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function FO(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Zs(s.updateTime):Zs(i);return o.isEqual(me.min())&&(o=Zs(i)),new bO(o,s.transformResults||[])}(n,e))):[]}function qO(t,e){return{documents:[eA(t,e.path)]}}function $O(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eA(t,s);const i=function(u){if(u.length!==0)return rA(bs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(y){return{field:ml(y.field),direction:WO(y.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=e0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function zO(t){let e=VO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){He(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(g){const y=nA(g);return y instanceof bs&&PT(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(x){return new Ku(gl(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(g){let y;return y=typeof g=="object"?g.value:g,dp(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(g){const y=!!g.before,_=g.values||[];return new If(_,y)}(n.startAt));let u=null;return n.endAt&&(u=function(g){const y=!g.before,_=g.values||[];return new If(_,y)}(n.endAt)),lO(e,s,o,i,a,"F",l,u)}function HO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gl(n.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gl(n.unaryFilter.field);return Lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gl(n.unaryFilter.field);return Lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gl(n.unaryFilter.field);return Lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return Lt.create(gl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bs.create(n.compositeFilter.filters.map(r=>nA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function WO(t){return LO[t]}function KO(t){return OO[t]}function GO(t){return DO[t]}function ml(t){return{fieldPath:t.canonicalString()}}function gl(t){return tn.fromServerFormat(t.fieldPath)}function rA(t){return t instanceof Lt?function(n){if(n.op==="=="){if(f_(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NAN"}};if(d_(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f_(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NAN"}};if(d_(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(n.field),op:KO(n.op),value:n.value}}}(t):t instanceof bs?function(n){const r=n.getFilters().map(s=>rA(s));return r.length===1?r[0]:{compositeFilter:{op:GO(n.op),filters:r}}}(t):fe()}function QO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r,s,i=me.min(),o=me.min(),a=an.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.ct=e}}function XO(t){const e=zO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.un=new ZO}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Go.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class ZO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new rn(tt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rn(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new uc(0)}static kn(){return new uc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.changes=new Sc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&mu(r.mutation,s,mr.empty(),qt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Ia();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Jc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ia();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Hi();const o=pu(),a=function(){return pu()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof ia)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),mu(h.mutation,u,h.mutation.getFieldMask(),qt.now())):o.set(u.key,mr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var g;return a.set(u,new t3(h,(g=o.get(u))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pu();let s=new dt((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||mr.empty();h=a.applyToLocalView(u,h),r.set(l,h);const g=(s.get(a.batchId)||xe()).add(l);s=s.insert(a.batchId,g)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,g=FT();h.forEach(y=>{if(!i.has(y)){const _=KT(n.get(y),r.get(y));_!==null&&g.set(y,_),i=i.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,g))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Ia());let a=-1,l=i;return o.next(u=>Q.forEach(u,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),i.get(h)?Q.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{l=l.insert(h,y)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,xe())).next(h=>({batchId:a,changes:BT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let s=Jc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Jc();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const u=function(g,y){return new Ic(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Tn.newInvalidDocument(h)))});let a=Jc();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&mu(h.mutation,u,mr.empty(),qt.now()),mp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Zs(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:XO(s.bundledQuery),readTime:Zs(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.overlays=new dt(ue.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ia();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ia(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new dt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Ia(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ia(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SO(n,r));let i=this.Ir.get(n);i===void 0&&(i=xe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.Tr=new rn(Ht.Er),this.dr=new rn(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ue(new tt([])),r=new Ht(n,e),s=new Ht(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ue(new tt([])),r=new Ht(n,e),s=new Ht(n,e+1);let i=xe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ue.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rn(Ht.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Ht(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),s=new Ht(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(Le);return n.forEach(s=>{const i=new Ht(s,0),o=new Ht(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ue.isDocumentKey(i)||(i=i.child(""));const o=new Ht(new ue(i),0);let a=new rn(Le);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){He(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new Ht(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ht(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.Mr=e,this.docs=function(){return new dt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=Hi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tn.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hi();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$L(qL(h),r)<=0||(s.has(h.key)||mp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new l3(this)}getSize(e){return Q.resolve(this.size)}}class l3 extends e3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.persistence=e,this.Nr=new Sc(n=>Hy(n),Wy),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jy,this.targetCount=0,this.kr=uc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Fy(0),this.Kr=!1,this.Kr=!0,this.$r=new i3,this.referenceDelegate=e(this),this.Ur=new c3(this),this.indexManager=new JO,this.remoteDocumentCache=function(s){return new a3(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YO(n),this.Gr=new r3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new s3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new o3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const s=new h3(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class h3 extends HL{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Jr=new Jy,this.Yr=null}static Zr(e){return new Zy(e)}get Xr(){if(this.Yr)return this.Yr;throw fe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=ue.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new e1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return r4()?8:WL(Cn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new d3;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Fc()<=Ce.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Fc()<=Ce.DEBUG&&oe("QueryEngine","Query:",pl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Fc()<=Ce.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(n))):Q.resolve())}Yi(e,n){if(y_(n))return Q.resolve(null);let r=Js(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zg(n,null,"F"),r=Js(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Zg(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return y_(n)||s.isEqual(me.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(Fc()<=Ce.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pl(n)),this.rs(e,o,n,FL(s,-1)).next(a=>a))})}ts(e,n){let r=new rn(VT(e));return n.forEach((s,i)=>{mp(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Fc()<=Ce.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",pl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Go.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new dt(Le),this._s=new Sc(i=>Hy(i),Wy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function m3(t,e,n,r){return new p3(t,e,n,r)}async function iA(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=xe();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function g3(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const g=u.batch,y=g.keys();let _=Q.resolve();return y.forEach(x=>{_=_.next(()=>h.getEntry(l,x)).next(C=>{const S=u.docVersions.get(x);He(S!==null),C.version.compareTo(S)<0&&(g.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),h.addEntry(C)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function oA(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function y3(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,g)=>{const y=s.get(g);if(!y)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,g)));let _=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(an.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),s=s.insert(g,_),function(C,S,b){return C.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(y,_,h)&&a.push(n.Ur.updateTargetData(i,_))});let l=Hi(),u=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(v3(i,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(me.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(g=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.os=s,i))}function v3(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Hi();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function w3(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _3(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Co(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function s0(t,e,n){const r=ge(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!vh(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function C_(t,e,n){const r=ge(t);let s=me.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const g=ge(l),y=g._s.get(h);return y!==void 0?Q.resolve(g.os.get(y)):g.Ur.getTargetData(u,h)}(r,o,Js(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:me.min(),n?i:xe())).next(a=>(E3(r,uO(e),a),{documents:a,Ts:i})))}function E3(t,e,n){let r=t.us.get(e)||me.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class N_{constructor(){this.activeTargetIds=gO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b3{constructor(){this.so=new N_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new N_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad=null;function Tm(){return ad===null?ad=function(){return 268435456+Math.round(2147483648*Math.random())}():ad++,"0x"+ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class I3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Tm(),l=this.xo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,l,u,s).then(h=>(oe("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw oc("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ac}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=T3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Tm();return new Promise((o,a)=>{const l=new wT;l.setWithCredentials(!0),l.listenOnce(ET.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Od.NO_ERROR:const h=l.getResponseJson();oe(_n,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Od.TIMEOUT:oe(_n,`RPC '${e}' ${i} timed out`),a(new te(G.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const g=l.getStatus();if(oe(_n,`RPC '${e}' ${i} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const x=function(S){const b=S.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(b)>=0?b:G.UNKNOWN}(_.status);a(new te(x,_.message))}else a(new te(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(G.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{oe(_n,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);oe(_n,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Tm(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TT(),a=xT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new _T({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");oe(_n,`Creating RPC '${e}' stream ${s}: ${h}`,l);const g=o.createWebChannel(h,l);let y=!1,_=!1;const x=new A3({Io:S=>{_?oe(_n,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(y||(oe(_n,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),oe(_n,`RPC '${e}' stream ${s} sending:`,S),g.send(S))},To:()=>g.close()}),C=(S,b,A)=>{S.listen(b,T=>{try{A(T)}catch(P){setTimeout(()=>{throw P},0)}})};return C(g,Xc.EventType.OPEN,()=>{_||(oe(_n,`RPC '${e}' stream ${s} transport opened.`),x.yo())}),C(g,Xc.EventType.CLOSE,()=>{_||(_=!0,oe(_n,`RPC '${e}' stream ${s} transport closed`),x.So())}),C(g,Xc.EventType.ERROR,S=>{_||(_=!0,oc(_n,`RPC '${e}' stream ${s} transport errored:`,S),x.So(new te(G.UNAVAILABLE,"The operation could not be completed")))}),C(g,Xc.EventType.MESSAGE,S=>{var b;if(!_){const A=S.data[0];He(!!A);const T=A,P=T.error||((b=T[0])===null||b===void 0?void 0:b.error);if(P){oe(_n,`RPC '${e}' stream ${s} received error:`,P);const V=P.status;let F=function(L){const D=Rt[L];if(D!==void 0)return QT(D)}(V),k=P.message;F===void 0&&(F=G.INTERNAL,k="Unknown error status: "+V+" with message "+P.message),_=!0,x.So(new te(F,k)),g.close()}else oe(_n,`RPC '${e}' stream ${s} received:`,A),x.bo(A)}}),C(a,bT.STAT_EVENT,S=>{S.stat===Kg.PROXY?oe(_n,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Kg.NOPROXY&&oe(_n,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){return new jO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new aA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new te(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S3 extends lA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=UO(this.serializer,e),r=function(i){if(!("targetChange"in i))return me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?Zs(o.readTime):me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=r0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Xg(l)?{documents:qO(i,l)}:{query:$O(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JT(i,o.resumeToken);const u=e0(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=Cf(i,o.snapshotVersion.toTimestamp());const u=e0(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=HO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=r0(this.serializer),n.removeTarget=e,this.a_(n)}}class C3 extends lA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=FO(e.writeResults,e.commitTime),r=Zs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=r0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BO(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new te(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,t0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(G.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,t0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(G.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class k3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zi(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ya(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ge(l);u.L_.add(4),await Eh(u),u.q_.set("Unknown"),u.L_.delete(4),await _p(u)}(this))})}),this.q_=new k3(r,s)}}async function _p(t){if(Ya(t))for(const e of t.B_)await e(!0)}async function Eh(t){for(const e of t.B_)await e(!1)}function cA(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),s1(n)?r1(n):Cc(n).r_()&&n1(n,e))}function t1(t,e){const n=ge(t),r=Cc(n);n.N_.delete(e),r.r_()&&uA(n,e),n.N_.size===0&&(r.r_()?r.o_():Ya(n)&&n.q_.set("Unknown"))}function n1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cc(t).A_(e)}function uA(t,e){t.Q_.xe(e),Cc(t).R_(e)}function r1(t){t.Q_=new PO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Cc(t).start(),t.q_.v_()}function s1(t){return Ya(t)&&!Cc(t).n_()&&t.N_.size>0}function Ya(t){return ge(t).L_.size===0}function hA(t){t.Q_=void 0}async function P3(t){t.q_.set("Online")}async function L3(t){t.N_.forEach((e,n)=>{n1(t,e)})}async function O3(t,e){hA(t),s1(t)?(t.q_.M_(e),r1(t)):t.q_.set("Unknown")}async function D3(t,e,n){if(t.q_.set("Online"),e instanceof XT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nf(t,r)}else if(e instanceof Md?t.Q_.Ke(e):e instanceof YT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(me.min()))try{const r=await oA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(an.EMPTY_BYTE_STRING,h.snapshotVersion)),uA(i,l);const g=new Co(h.target,l,u,h.sequenceNumber);n1(i,g)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await Nf(t,r)}}async function Nf(t,e,n){if(!vh(e))throw e;t.L_.add(1),await Eh(t),t.q_.set("Offline"),n||(n=()=>oA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await _p(t)})}function dA(t,e){return e().catch(n=>Nf(t,n,e))}async function Ep(t){const e=ge(t),n=Yo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;j3(e);)try{const s=await w3(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,M3(e,s)}catch(s){await Nf(e,s)}fA(e)&&pA(e)}function j3(t){return Ya(t)&&t.O_.length<10}function M3(t,e){t.O_.push(e);const n=Yo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function fA(t){return Ya(t)&&!Yo(t).n_()&&t.O_.length>0}function pA(t){Yo(t).start()}async function V3(t){Yo(t).p_()}async function U3(t){const e=Yo(t);for(const n of t.O_)e.m_(n.mutations)}async function B3(t,e,n){const r=t.O_.shift(),s=Qy.from(r,e,n);await dA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ep(t)}async function F3(t,e){e&&Yo(t).V_&&await async function(r,s){if(function(o){return NO(o)&&o!==G.ABORTED}(s.code)){const i=r.O_.shift();Yo(r).s_(),await dA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ep(r)}}(t,e),fA(t)&&pA(t)}async function R_(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=Ya(n);n.L_.add(3),await Eh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await _p(n)}async function q3(t,e){const n=ge(t);e?(n.L_.delete(2),await _p(n)):e||(n.L_.add(2),await Eh(n),n.q_.set("Unknown"))}function Cc(t){return t.K_||(t.K_=function(n,r,s){const i=ge(n);return i.w_(),new S3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:P3.bind(null,t),Ro:L3.bind(null,t),mo:O3.bind(null,t),d_:D3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),s1(t)?r1(t):t.q_.set("Unknown")):(await t.K_.stop(),hA(t))})),t.K_}function Yo(t){return t.U_||(t.U_=function(n,r,s){const i=ge(n);return i.w_(),new C3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:V3.bind(null,t),mo:F3.bind(null,t),f_:U3.bind(null,t),g_:B3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ep(t)):(await t.U_.stop(),t.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new i1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o1(t,e){if(zi("AsyncQueue",`${e}: ${t}`),vh(t))return new te(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Jc(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new Wl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.W_=new dt(ue.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):fe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hc{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hc(e,n,Wl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class z3{constructor(){this.queries=L_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ge(n),i=s.queries;s.queries=L_(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new te(G.ABORTED,"Firestore shutting down"))}}function L_(){return new Sc(t=>MT(t),pp)}async function a1(t,e){const n=ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new $3,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=o1(o,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&c1(n)}async function l1(t,e){const n=ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function H3(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&c1(n)}function W3(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function c1(t){t.Y_.forEach(e=>{e.next()})}var i0,O_;(O_=i0||(i0={})).ea="default",O_.Cache="cache";class u1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==i0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.key=e}}class gA{constructor(e){this.key=e}}class K3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=VT(e),this.Ra=new Wl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new P_,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,g)=>{const y=s.get(h),_=mp(this.query,g)?g:null,x=!!y&&this.mutatedKeys.has(y.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;y&&_?y.data.isEqual(_.data)?x!==C&&(r.track({type:3,doc:_}),S=!0):this.ga(y,_)||(r.track({type:2,doc:_}),S=!0,(l&&this.Aa(_,l)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!y&&_?(r.track({type:0,doc:_}),S=!0):y&&!_&&(r.track({type:1,doc:y}),S=!0,(l||u)&&(a=!0)),S&&(_?(o=o.add(_),i=C?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,g)=>function(_,x){const C=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return C(_)-C(x)}(h.type,g.type)||this.Aa(h.doc,g.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new hc(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new P_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new mA(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class G3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Q3{constructor(e){this.key=e,this.va=!1}}class Y3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Sc(a=>MT(a),pp),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(ue.comparator),this.Na=new Map,this.La=new Jy,this.Ba={},this.ka=new Map,this.qa=uc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function X3(t,e,n=!0){const r=bA(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await yA(r,e,n,!0),s}async function J3(t,e){const n=bA(t);await yA(n,e,!0,!1)}async function yA(t,e,n,r){const s=await _3(t.localStore,Js(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await Z3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&cA(t.remoteStore,s),a}async function Z3(t,e,n,r,s){t.Ka=(g,y,_)=>async function(C,S,b,A){let T=S.view.ma(b);T.ns&&(T=await C_(C.localStore,S.query,!1).then(({documents:k})=>S.view.ma(k,T)));const P=A&&A.targetChanges.get(S.targetId),V=A&&A.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(T,C.isPrimaryClient,P,V);return j_(C,S.targetId,F.wa),F.snapshot}(t,g,y,_);const i=await C_(t.localStore,e,!0),o=new K3(e,i.Ts),a=o.ma(i.documents),l=_h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);j_(t,n,u.wa);const h=new G3(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function e6(t,e,n){const r=ge(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!pp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await s0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&t1(r.remoteStore,s.targetId),o0(r,s.targetId)}).catch(yh)):(o0(r,s.targetId),await s0(r.localStore,s.targetId,!0))}async function t6(t,e){const n=ge(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),t1(n.remoteStore,r.targetId))}async function n6(t,e,n){const r=c6(t);try{const s=await function(o,a){const l=ge(o),u=qt.now(),h=a.reduce((_,x)=>_.add(x.key),xe());let g,y;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=Hi(),C=xe();return l.cs.getEntries(_,h).next(S=>{x=S,x.forEach((b,A)=>{A.isValidDocument()||(C=C.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,x)).next(S=>{g=S;const b=[];for(const A of a){const T=TO(A,g.get(A.key).overlayedDocument);T!=null&&b.push(new ia(A.key,T,NT(T.value.mapValue),vs.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,b,a)}).next(S=>{y=S;const b=S.applyToLocalDocumentSet(g,C);return l.documentOverlayCache.saveOverlays(_,S.batchId,b)})}).then(()=>({batchId:y.batchId,changes:BT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new dt(Le)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await bh(r,s.changes),await Ep(r.remoteStore)}catch(s){const i=o1(s,"Failed to persist write");n.reject(i)}}async function vA(t,e){const n=ge(t);try{const r=await y3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?He(o.va):s.removedDocuments.size>0&&(He(o.va),o.va=!1))}),await bh(n,r,e)}catch(r){await yh(r)}}function D_(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ge(o);l.onlineState=a;let u=!1;l.queries.forEach((h,g)=>{for(const y of g.j_)y.Z_(a)&&(u=!0)}),u&&c1(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r6(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new dt(ue.comparator);o=o.insert(i,Tn.newNoDocument(i,me.min()));const a=xe().add(i),l=new vp(me.min(),new Map,new dt(Le),o,a);await vA(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),h1(r)}else await s0(r.localStore,e,!1).then(()=>o0(r,e,n)).catch(yh)}async function s6(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await g3(n.localStore,e);_A(n,r,null),wA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bh(n,s)}catch(s){await yh(s)}}async function i6(t,e,n){const r=ge(t);try{const s=await function(o,a){const l=ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(He(g!==null),h=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);_A(r,e,n),wA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bh(r,s)}catch(s){await yh(s)}}function wA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function _A(t,e,n){const r=ge(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function o0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||EA(t,r)})}function EA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(t1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),h1(t))}function j_(t,e,n){for(const r of n)r instanceof mA?(t.La.addReference(r.key,e),o6(t,r)):r instanceof gA?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||EA(t,r.key)):fe()}function o6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.xa.add(r),h1(t))}function h1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ue(tt.fromString(e)),r=t.qa.next();t.Na.set(r,new Q3(n)),t.Oa=t.Oa.insert(n,r),cA(t.remoteStore,new Co(Js(fp(n.path)),r,"TargetPurposeLimboResolution",Fy.oe))}}async function bh(t,e,n){const r=ge(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const g=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(u){s.push(u);const g=e1.Wi(l.targetId,u);i.push(g)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const h=ge(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Q.forEach(u,y=>Q.forEach(y.$i,_=>h.persistence.referenceDelegate.addReference(g,y.targetId,_)).next(()=>Q.forEach(y.Ui,_=>h.persistence.referenceDelegate.removeReference(g,y.targetId,_)))))}catch(g){if(!vh(g))throw g;oe("LocalStore","Failed to update sequence numbers: "+g)}for(const g of u){const y=g.targetId;if(!g.fromCache){const _=h.os.get(y),x=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(y,C)}}}(r.localStore,i))}async function a6(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await iA(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new te(G.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bh(n,r.hs)}}function l6(t,e){const n=ge(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let s=xe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function bA(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r6.bind(null,e),e.Ca.d_=H3.bind(null,e.eventManager),e.Ca.$a=W3.bind(null,e.eventManager),e}function c6(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i6.bind(null,e),e}class M_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return m3(this.persistence,new f3,e.initialUser,this.serializer)}createPersistence(e){return new u3(Zy.Zr,this.serializer)}createSharedClientState(e){return new b3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class u6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a6.bind(null,this.syncEngine),await q3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z3}()}createDatastore(e){const n=wp(e.databaseInfo.databaseId),r=function(i){return new I3(i)}(e.databaseInfo);return function(i,o,a,l){return new N3(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new R3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return k_.D()?new k_:new x3}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const g=new Y3(s,i,o,a,l,u);return h&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ge(s);oe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Eh(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=IT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{oe("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(oe("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=o1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Im(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await iA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function V_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await f6(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>R_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>R_(e.remoteStore,s)),t._onlineComponents=e}function d6(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function f6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Im(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!d6(n))throw n;oc("Error using user provided cache. Falling back to memory cache: "+n),await Im(t,new M_)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Im(t,new M_);return t._offlineComponents}async function xA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await V_(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await V_(t,new u6))),t._onlineComponents}function p6(t){return xA(t).then(e=>e.syncEngine)}async function kf(t){const e=await xA(t),n=e.eventManager;return n.onListen=X3.bind(null,e.syncEngine),n.onUnlisten=e6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t6.bind(null,e.syncEngine),n}function m6(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new d1({next:y=>{o.enqueueAndForget(()=>l1(i,g));const _=y.docs.has(a);!_&&y.fromCache?u.reject(new te(G.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&l&&l.source==="server"?u.reject(new te(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),g=new u1(fp(a.path),h,{includeMetadataChanges:!0,_a:!0});return a1(i,g)}(await kf(t),t.asyncQueue,e,n,r)),r.promise}function g6(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new d1({next:y=>{o.enqueueAndForget(()=>l1(i,g)),y.fromCache&&l.source==="server"?u.reject(new te(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),g=new u1(a,h,{includeMetadataChanges:!0,_a:!0});return a1(i,g)}(await kf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e,n){if(!n)throw new te(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y6(t,e,n,r){if(e===!0&&r===!0)throw new te(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B_(t){if(!ue.isDocumentKey(t))throw new te(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F_(t){if(ue.isDocumentKey(t))throw new te(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function $r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bp(t);throw new te(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PL;switch(r.type){case"firstParty":return new jL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=U_.get(n);r&&(oe("ComponentProvider","Removing Datastore"),U_.delete(n),r.terminate())}(this),Promise.resolve()}}function v6(t,e,n,r={}){var s;const i=(t=$r(t,xp))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=bn.MOCK_USER;else{a=Px(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new te(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bn(u)}t._authCredentials=new LL(new AT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class $o extends oa{constructor(e,n,r){super(e,n,fp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new ue(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function oi(t,e,...n){if(t=it(t),AA("collection","path",e),t instanceof xp){const r=tt.fromString(e,...n);return F_(r),new $o(t,null,r)}{if(!(t instanceof qn||t instanceof $o))throw new te(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return F_(r),new $o(t.firestore,null,r)}}function ln(t,e,...n){if(t=it(t),arguments.length===1&&(e=IT.newId()),AA("doc","path",e),t instanceof xp){const r=tt.fromString(e,...n);return B_(r),new qn(t,null,new ue(r))}{if(!(t instanceof qn||t instanceof $o))throw new te(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return B_(r),new qn(t.firestore,t instanceof $o?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new aA(this,"async_queue_retry"),this.Eu=()=>{const n=Am();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Am();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Mi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!vh(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=i1.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&fe()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function $_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Xo extends xp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new w6}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||IA(this),this._firestoreClient.terminate()}}function _6(t,e){const n=typeof t=="object"?t:ky(),r=typeof t=="string"?t:"(default)",s=ap(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Nx("firestore");i&&v6(s,...i)}return s}function Tp(t){return t._firestoreClient||IA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IA(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new QL(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new h6(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(an.fromBase64String(e))}catch(n){throw new te(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dc(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=/^__.*__$/;class b6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new wh(e,this.data,n,this.fieldTransforms)}}class SA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ia(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class m1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new m1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Rf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(CA(this.wu)&&E6.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class x6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wp(e)}Nu(e,n,r,s=!1){return new m1({wu:e,methodName:n,Ou:r,path:tn.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g1(t){const e=t._freezeSettings(),n=wp(t._databaseId);return new x6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function T6(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);v1("Data must be an object, but it was:",o,r);const a=NA(r,o);let l,u;if(i.merge)l=new mr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const g of i.mergeFields){const y=a0(e,g,n);if(!o.contains(y))throw new te(G.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);RA(h,y)||h.push(y)}l=new mr(h),u=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=o.fieldTransforms;return new b6(new Zn(a),l,u)}class Sp extends Ip{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sp}}class y1 extends Ip{_toFieldTransform(e){return new _O(e.path,new Gu)}isEqual(e){return e instanceof y1}}function A6(t,e,n,r){const s=t.Nu(1,e,n);v1("Data must be an object, but it was:",s,r);const i=[],o=Zn.empty();Qa(r,(l,u)=>{const h=w1(e,l,n);u=it(u);const g=s.Cu(h);if(u instanceof Sp)i.push(h);else{const y=xh(u,g);y!=null&&(i.push(h),o.set(h,y))}});const a=new mr(i);return new SA(o,a,s.fieldTransforms)}function I6(t,e,n,r,s,i){const o=t.Nu(1,e,n),a=[a0(e,r,n)],l=[s];if(i.length%2!=0)throw new te(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)a.push(a0(e,i[y])),l.push(i[y+1]);const u=[],h=Zn.empty();for(let y=a.length-1;y>=0;--y)if(!RA(u,a[y])){const _=a[y];let x=l[y];x=it(x);const C=o.Cu(_);if(x instanceof Sp)u.push(_);else{const S=xh(x,C);S!=null&&(u.push(_),h.set(_,S))}}const g=new mr(u);return new SA(h,g,o.fieldTransforms)}function S6(t,e,n,r=!1){return xh(n,t.Nu(r?4:3,e))}function xh(t,e){if(kA(t=it(t)))return v1("Unsupported field value:",e,t),NA(t,e);if(t instanceof Ip)return function(r,s){if(!CA(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=xh(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=qt.fromDate(r);return{timestampValue:Cf(s.serializer,i)}}if(r instanceof qt){const i=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cf(s.serializer,i)}}if(r instanceof f1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dc)return{bytesValue:JT(s.serializer,r._byteString)};if(r instanceof qn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof p1)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return Ky(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${bp(r)}`)}(t,e)}function NA(t,e){const n={};return ST(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(t,(r,s)=>{const i=xh(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function kA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof f1||t instanceof dc||t instanceof qn||t instanceof Ip||t instanceof p1)}function v1(t,e,n){if(!kA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=bp(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function a0(t,e,n){if((e=it(e))instanceof Ap)return e._internalPath;if(typeof e=="string")return w1(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const C6=new RegExp("[~\\*/\\[\\]]");function w1(t,e,n){if(e.search(C6)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ap(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new te(G.INVALID_ARGUMENT,a+t+l)}function RA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N6 extends PA{data(){return super.data()}}function _1(t,e){return typeof e=="string"?w1(t,e):e instanceof Ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E1{}class OA extends E1{}function k6(t,e,...n){let r=[];e instanceof E1&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof x1).length,a=i.filter(l=>l instanceof b1).length;if(o>1||o>0&&a>0)throw new te(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class b1 extends OA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new b1(e,n,r)}_apply(e){const n=this._parse(e);return DA(e._query,n),new oa(e.firestore,e.converter,Jg(e._query,n))}_parse(e){const n=g1(e.firestore);return function(i,o,a,l,u,h,g){let y;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new te(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){H_(g,h);const _=[];for(const x of g)_.push(z_(l,i,x));y={arrayValue:{values:_}}}else y=z_(l,i,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||H_(g,h),y=S6(a,o,g,h==="in"||h==="not-in");return Lt.create(u,h,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class x1 extends E1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new x1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:bs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)DA(o,l),o=Jg(o,l)}(e._query,n),new oa(e.firestore,e.converter,Jg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class T1 extends OA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new T1(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new te(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ku(i,o)}(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ic(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function R6(t,e="asc"){const n=e,r=_1("orderBy",t);return T1._create(r,n)}function z_(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new te(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jT(e)&&n.indexOf("/")!==-1)throw new te(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!ue.isDocumentKey(r))throw new te(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h_(t,new ue(r))}if(n instanceof qn)return h_(t,n._key);throw new te(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bp(n)}.`)}function H_(t,e){if(!Array.isArray(t)||t.length===0)throw new te(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class P6{convertValue(e,n="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>xt(o.doubleValue));return new p1(i)}convertGeoPoint(e){return new f1(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$y(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=Qo(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);He(sA(r));const s=new Hu(r.get(1),r.get(3)),i=new ue(r.popFirst(5));return s.isEqual(n)||zi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jA extends PA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vd extends jA{data(e={}){return super.data(e)}}class MA{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new eu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vd(this._firestore,this._userDataWriter,r.key,r,new eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Vd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new eu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Vd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new eu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:O6(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){t=$r(t,qn);const e=$r(t.firestore,Xo);return m6(Tp(e),t._key).then(n=>VA(e,t,n))}class A1 extends P6{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function D6(t){t=$r(t,oa);const e=$r(t.firestore,Xo),n=Tp(e),r=new A1(e);return LA(t._query),g6(n,t._query).then(s=>new MA(e,r,t,s))}function Xa(t,e,n,...r){t=$r(t,qn);const s=$r(t.firestore,Xo),i=g1(s);let o;return o=typeof(e=it(e))=="string"||e instanceof Ap?I6(i,"updateDoc",t._key,e,n,r):A6(i,"updateDoc",t._key,e),I1(s,[o.toMutation(t._key,vs.exists(!0))])}function j6(t){return I1($r(t.firestore,Xo),[new Gy(t._key,vs.none())])}function la(t,e){const n=$r(t.firestore,Xo),r=ln(t),s=L6(t.converter,e);return I1(n,[T6(g1(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,vs.exists(!1))]).then(()=>r)}function M6(t,...e){var n,r,s;t=it(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||$_(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($_(e[o])){const g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let l,u,h;if(t instanceof qn)u=$r(t.firestore,Xo),h=fp(t._key.path),l={next:g=>{e[o]&&e[o](VA(u,t,g))},error:e[o+1],complete:e[o+2]};else{const g=$r(t,oa);u=$r(g.firestore,Xo),h=g._query;const y=new A1(u);l={next:_=>{e[o]&&e[o](new MA(u,y,g,_))},error:e[o+1],complete:e[o+2]},LA(t._query)}return function(y,_,x,C){const S=new d1(C),b=new u1(_,S,x);return y.asyncQueue.enqueueAndForget(async()=>a1(await kf(y),b)),()=>{S.za(),y.asyncQueue.enqueueAndForget(async()=>l1(await kf(y),b))}}(Tp(u),h,a,l)}function I1(t,e){return function(r,s){const i=new Mi;return r.asyncQueue.enqueueAndForget(async()=>n6(await p6(r),s,i)),i.promise}(Tp(t),e)}function VA(t,e,n){const r=n.docs.get(e._key),s=new A1(t);return new jA(t,s,e._key,r,new eu(n.hasPendingWrites,n.fromCache),e.converter)}function Hn(){return new y1("serverTimestamp")}(function(e,n=!0){(function(s){Ac=s})(Ka),ja(new Ko("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Xo(new OL(r.getProvider("auth-internal")),new VL(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Qs(o_,"4.7.0",e),Qs(o_,"4.7.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebasestorage.googleapis.com",BA="storageBucket",V6=2*60*1e3,U6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends ii{constructor(e,n,r=0){super(Sm(e),`Firebase Storage: ${n} (${Sm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Sm(t){return"storage/"+t}function S1(){const t="An unknown error occurred, please check the error payload for server response.";return new wt(vt.UNKNOWN,t)}function B6(t){return new wt(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function F6(t){return new wt(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function q6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(vt.UNAUTHENTICATED,t)}function $6(){return new wt(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function z6(t){return new wt(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function H6(){return new wt(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function W6(){return new wt(vt.CANCELED,"User canceled the upload/download.")}function K6(t){return new wt(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function G6(t){return new wt(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Q6(){return new wt(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BA+"' property when initializing the app?")}function Y6(){return new wt(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function X6(){return new wt(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function J6(t){return new wt(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function l0(t){return new wt(vt.INVALID_ARGUMENT,t)}function FA(){return new wt(vt.APP_DELETED,"The Firebase app was deleted.")}function Z6(t){return new wt(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gu(t,e){return new wt(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qc(t){throw new wt(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gr.makeFromUrl(e,n)}catch{return new gr(e,"")}if(r.path==="")return r;throw G6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${g}/${h}/b/${s}/o${y}`,"i"),x={bucket:1,path:3},C=n===UA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",b=new RegExp(`^https?://${C}/${s}/${S}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:_,indices:x,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<T.length;P++){const V=T[P],F=V.regex.exec(e);if(F){const k=F[V.indices.bucket];let I=F[V.indices.path];I||(I=""),r=new gr(k,I),V.postModify(r);break}}if(r==null)throw K6(e);return r}}class eD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...S){u||(u=!0,e.apply(null,S))}function g(S){s=setTimeout(()=>{s=null,t(_,l())},S)}function y(){i&&clearTimeout(i)}function _(S,...b){if(u){y();return}if(S){y(),h.call(null,S,...b);return}if(l()||o){y(),h.call(null,S,...b);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,g(T)}let x=!1;function C(S){x||(x=!0,y(),!u&&(s!==null?(S||(a=2),clearTimeout(s),g(0)):S||(a=1)))}return g(0),i=setTimeout(()=>{o=!0,C(!0)},n),C}function nD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){return t!==void 0}function sD(t){return typeof t=="object"&&!Array.isArray(t)}function C1(t){return typeof t=="string"||t instanceof String}function W_(t){return N1()&&t instanceof Blob}function N1(){return typeof Blob<"u"}function K_(t,e,n,r){if(r<e)throw l0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw l0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ka;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ka||(ka={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,s,i,o,a,l,u,h,g,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,x)=>{this.resolve_=_,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ld(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ka.NO_ERROR,l=i.getStatus();if(!a||iD(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===ka.ABORT;r(!1,new ld(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ld(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());rD(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=S1();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?FA():W6();o(l)}else{const l=H6();o(l)}};this.canceled_?n(!1,new ld(!1,null,!0)):this.backoffId_=tD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ld{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function aD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function uD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hD(t,e,n,r,s,i,o=!0){const a=qA(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return cD(u,e),aD(u,n),lD(u,i),uD(u,r),new oD(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fD(...t){const e=dD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(N1())return new Blob(t);throw new wt(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){if(typeof atob>"u")throw J6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cm{constructor(e,n){this.data=e,this.contentType=n||null}}function gD(t,e){switch(t){case Ws.RAW:return new Cm($A(e));case Ws.BASE64:case Ws.BASE64URL:return new Cm(zA(t,e));case Ws.DATA_URL:return new Cm(vD(e),wD(e))}throw S1()}function $A(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function yD(t){let e;try{e=decodeURIComponent(t)}catch{throw gu(Ws.DATA_URL,"Malformed data URL.")}return $A(e)}function zA(t,e){switch(t){case Ws.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw gu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ws.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw gu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mD(e)}catch(s){throw s.message.includes("polyfill")?s:gu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class HA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw gu(Ws.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=_D(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function vD(t){const e=new HA(t);return e.base64?zA(Ws.BASE64,e.rest):yD(e.rest)}function wD(t){return new HA(t).contentType}function _D(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){let r=0,s="";W_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(W_(this.data_)){const r=this.data_,s=pD(r,e,n);return s===null?null:new To(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new To(r,!0)}}static getBlob(...e){if(N1()){const n=e.map(r=>r instanceof To?r.data_:r);return new To(fD.apply(null,n))}else{const n=e.map(o=>C1(o)?gD(Ws.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new To(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t){let e;try{e=JSON.parse(t)}catch{return null}return sD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function KA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e){return e}class Vn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||xD}}let cd=null;function TD(t){return!C1(t)||t.length<2?t:KA(t)}function GA(){if(cd)return cd;const t=[];t.push(new Vn("bucket")),t.push(new Vn("generation")),t.push(new Vn("metageneration")),t.push(new Vn("name","fullPath",!0));function e(i,o){return TD(o)}const n=new Vn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Vn("size");return s.xform=r,t.push(s),t.push(new Vn("timeCreated")),t.push(new Vn("updated")),t.push(new Vn("md5Hash",null,!0)),t.push(new Vn("cacheControl",null,!0)),t.push(new Vn("contentDisposition",null,!0)),t.push(new Vn("contentEncoding",null,!0)),t.push(new Vn("contentLanguage",null,!0)),t.push(new Vn("contentType",null,!0)),t.push(new Vn("metadata","customMetadata",!0)),cd=t,cd}function AD(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new gr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function ID(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return AD(r,t),r}function QA(t,e,n){const r=WA(e);return r===null?null:ID(t,r,n)}function SD(t,e,n,r){const s=WA(e);if(s===null||!C1(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,g=t.fullPath,y="/b/"+o(h)+"/o/"+o(g),_=Cp(y,n,r),x=qA({alt:"media",token:u});return _+x})[0]}function CD(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class k1{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){if(!t)throw S1()}function ND(t,e){function n(r,s){const i=QA(t,s,e);return YA(i!==null),i}return n}function kD(t,e){function n(r,s){const i=QA(t,s,e);return YA(i!==null),SD(i,s,t.host,t._protocol)}return n}function XA(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=$6():s=q6():n.getStatus()===402?s=F6(t.bucket):n.getStatus()===403?s=z6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function JA(t){const e=XA(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=B6(t.path)),i.serverResponse=s.serverResponse,i}return n}function RD(t,e,n){const r=e.fullServerUrl(),s=Cp(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new k1(s,i,kD(t,n),o);return a.errorHandler=JA(e),a}function PD(t,e){const n=e.fullServerUrl(),r=Cp(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,u){}const a=new k1(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=JA(e),a}function LD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function OD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=LD(null,e)),r}function DD(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let P=0;P<2;P++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=OD(e,r,s),h=CD(u,n),g="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,y=`\r
--`+l+"--",_=To.getBlob(g,r,y);if(_===null)throw Y6();const x={name:u.fullPath},C=Cp(i,t.host,t._protocol),S="POST",b=t.maxUploadRetryTime,A=new k1(C,S,ND(t,n),b);return A.urlParams=x,A.headers=o,A.body=_.uploadData(),A.errorHandler=XA(e),A}class jD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ka.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ka.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ka.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw qc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class MD extends jD{initXhr(){this.xhr_.responseType="text"}}function R1(){return new MD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this._service=e,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fa(e,n)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KA(this._location.path)}get storage(){return this._service}get parent(){const e=ED(this._location.path);if(e===null)return null;const n=new gr(this._location.bucket,e);return new Fa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z6(e)}}function VD(t,e,n){t._throwIfRoot("uploadBytes");const r=DD(t.storage,t._location,GA(),new To(e,!0),n);return t.storage.makeRequestWithTokens(r,R1).then(s=>({metadata:s,ref:t}))}function UD(t){t._throwIfRoot("getDownloadURL");const e=RD(t.storage,t._location,GA());return t.storage.makeRequestWithTokens(e,R1).then(n=>{if(n===null)throw X6();return n})}function BD(t){t._throwIfRoot("deleteObject");const e=PD(t.storage,t._location);return t.storage.makeRequestWithTokens(e,R1)}function FD(t,e){const n=bD(t._location.path,e),r=new gr(t._location.bucket,n);return new Fa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){return/^[A-Za-z]+:\/\//.test(t)}function $D(t,e){return new Fa(t,e)}function ZA(t,e){if(t instanceof P1){const n=t;if(n._bucket==null)throw Q6();const r=new Fa(n,n._bucket);return e!=null?ZA(r,e):r}else return e!==void 0?FD(t,e):t}function zD(t,e){if(e&&qD(e)){if(t instanceof P1)return $D(t,e);throw l0("To use ref(service, url), the first argument must be a Storage instance.")}else return ZA(t,e)}function G_(t,e){const n=e==null?void 0:e[BA];return n==null?null:gr.makeFromBucketSpec(n,t)}function HD(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Px(s,t.app.options.projectId))}class P1{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=UA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V6,this._maxUploadRetryTime=U6,this._requests=new Set,s!=null?this._bucket=gr.makeFromBucketSpec(s,this._host):this._bucket=G_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=G_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){K_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){K_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fa(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new eD(FA());{const o=hD(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Q_="@firebase/storage",Y_="0.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="storage";function WD(t,e,n){return t=it(t),VD(t,e,n)}function KD(t){return t=it(t),UD(t)}function GD(t){return t=it(t),BD(t)}function tI(t,e){return t=it(t),zD(t,e)}function QD(t=ky(),e){t=it(t);const r=ap(t,eI).getImmediate({identifier:e}),s=Nx("storage");return s&&YD(r,...s),r}function YD(t,e,n,r={}){HD(t,e,n,r)}function XD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new P1(n,r,s,e,Ka)}function JD(){ja(new Ko(eI,XD,"PUBLIC").setMultipleInstances(!0)),Qs(Q_,Y_,""),Qs(Q_,Y_,"esm2017")}JD();const ZD={apiKey:"AIzaSyDYMB4ss7rlwzYEf84n8Rw6WoHrZfLfTuQ",authDomain:"francisco-soto-flores.firebaseapp.com",projectId:"francisco-soto-flores",storageBucket:"francisco-soto-flores.appspot.com",messagingSenderId:"823660935512",appId:"1:823660935512:web:b78be639267c09d3e48d2d",measurementId:"G-WQQ73L8DDT"},L1=Dx(ZD),Np=kL(L1),Xe=_6(L1),nI=QD(L1),rI=B.createContext(),ej=({children:t})=>{const[e,n]=B.useState(null);return B.useEffect(()=>{const r=aT(Np,s=>{n(s)});return()=>r()},[]),f.jsx(rI.Provider,{value:e,children:t})},sI=()=>B.useContext(rI);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tj(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(g){o(g)}}function l(h){try{u(r.throw(h))}catch(g){o(g)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,[])).next())})}function nj(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return l([u,h])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jl=function(){return jl=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jl.apply(this,arguments)},iI=function(t){return{loading:t==null,value:t}},rj=function(){return function(t,e){switch(e.type){case"error":return jl(jl({},t),{error:e.error,loading:!1,value:void 0});case"reset":return iI(e.defaultValue);case"value":return jl(jl({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},sj=function(t){var e=t?t():void 0,n=B.useReducer(rj(),iI(e)),r=n[0],s=n[1],i=B.useCallback(function(){var l=t?t():void 0;s({type:"reset",defaultValue:l})},[t]),o=B.useCallback(function(l){s({type:"error",error:l})},[]),a=B.useCallback(function(l){s({type:"value",value:l})},[]);return B.useMemo(function(){return{error:r.error,loading:r.loading,reset:i,setError:o,setValue:a,value:r.value}},[r.error,r.loading,i,o,a,r.value])},ij=function(t,e){var n=sj(function(){return t.currentUser}),r=n.error,s=n.loading,i=n.setError,o=n.setValue,a=n.value;return B.useEffect(function(){var l=aT(t,function(u){return tj(void 0,void 0,void 0,function(){var h;return nj(this,function(g){switch(g.label){case 0:return[3,4];case 1:return g.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return g.sent(),[3,4];case 3:return h=g.sent(),i(h),[3,4];case 4:return o(u),[2]}})})},i);return function(){l()}},[t]),[a,s,r]};const oj=t=>e=>{const[n,r]=ij(Np),s=We();return B.useEffect(()=>{!r&&!n&&s("/authentication/login/user")},[n,r,s]),n?f.jsx(t,{...e}):null};var oI={exports:{}};/*!
* sweetalert2 v11.6.13
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(En,function(){var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const r="swal2-",s=d=>{const p={};for(const E in d)p[d[E]]=r+d[E];return p},i=s(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),o=s(["success","warning","info","question","error"]),a="SweetAlert2:",l=d=>{const p=[];for(let E=0;E<d.length;E++)p.indexOf(d[E])===-1&&p.push(d[E]);return p},u=d=>d.charAt(0).toUpperCase()+d.slice(1),h=d=>{console.warn(`${a} ${typeof d=="object"?d.join(" "):d}`)},g=d=>{console.error(`${a} ${d}`)},y=[],_=d=>{y.includes(d)||(y.push(d),h(d))},x=(d,p)=>{_(`"${d}" is deprecated and will be removed in the next major release. Please use "${p}" instead.`)},C=d=>typeof d=="function"?d():d,S=d=>d&&typeof d.toPromise=="function",b=d=>S(d)?d.toPromise():Promise.resolve(d),A=d=>d&&Promise.resolve(d)===d,T=()=>document.body.querySelector(`.${i.container}`),P=d=>{const p=T();return p?p.querySelector(d):null},V=d=>P(`.${d}`),F=()=>V(i.popup),k=()=>V(i.icon),I=()=>V(i["icon-content"]),L=()=>V(i.title),D=()=>V(i["html-container"]),U=()=>V(i.image),q=()=>V(i["progress-steps"]),M=()=>V(i["validation-message"]),De=()=>P(`.${i.actions} .${i.confirm}`),_t=()=>P(`.${i.actions} .${i.deny}`),Qr=()=>V(i["input-label"]),At=()=>P(`.${i.loader}`),J=()=>P(`.${i.actions} .${i.cancel}`),ce=()=>V(i.actions),Z=()=>V(i.footer),Re=()=>V(i["timer-progress-bar"]),Te=()=>V(i.close),Ae=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,$t=()=>{const d=Array.from(F().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((E,O)=>{const W=parseInt(E.getAttribute("tabindex")),re=parseInt(O.getAttribute("tabindex"));return W>re?1:W<re?-1:0}),p=Array.from(F().querySelectorAll(Ae)).filter(E=>E.getAttribute("tabindex")!=="-1");return l(d.concat(p)).filter(E=>Fe(E))},ve=()=>Dt(document.body,i.shown)&&!Dt(document.body,i["toast-shown"])&&!Dt(document.body,i["no-backdrop"]),Ot=()=>F()&&Dt(F(),i.toast),Nn=()=>F().hasAttribute("data-loading"),It={previousBodyPadding:null},St=(d,p)=>{if(d.textContent="",p){const O=new DOMParser().parseFromString(p,"text/html");Array.from(O.querySelector("head").childNodes).forEach(W=>{d.appendChild(W)}),Array.from(O.querySelector("body").childNodes).forEach(W=>{W instanceof HTMLVideoElement||W instanceof HTMLAudioElement?d.appendChild(W.cloneNode(!0)):d.appendChild(W)})}},Dt=(d,p)=>{if(!p)return!1;const E=p.split(/\s+/);for(let O=0;O<E.length;O++)if(!d.classList.contains(E[O]))return!1;return!0},Ar=(d,p)=>{Array.from(d.classList).forEach(E=>{!Object.values(i).includes(E)&&!Object.values(o).includes(E)&&!Object.values(p.showClass).includes(E)&&d.classList.remove(E)})},ft=(d,p,E)=>{if(Ar(d,p),p.customClass&&p.customClass[E]){if(typeof p.customClass[E]!="string"&&!p.customClass[E].forEach){h(`Invalid type of customClass.${E}! Expected string or iterable object, got "${typeof p.customClass[E]}"`);return}ye(d,p.customClass[E])}},Ir=(d,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return d.querySelector(`.${i.popup} > .${i[p]}`);case"checkbox":return d.querySelector(`.${i.popup} > .${i.checkbox} input`);case"radio":return d.querySelector(`.${i.popup} > .${i.radio} input:checked`)||d.querySelector(`.${i.popup} > .${i.radio} input:first-child`);case"range":return d.querySelector(`.${i.popup} > .${i.range} input`);default:return d.querySelector(`.${i.popup} > .${i.input}`)}},Sr=d=>{if(d.focus(),d.type!=="file"){const p=d.value;d.value="",d.value=p}},Yr=(d,p,E)=>{!d||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(O=>{Array.isArray(d)?d.forEach(W=>{E?W.classList.add(O):W.classList.remove(O)}):E?d.classList.add(O):d.classList.remove(O)}))},ye=(d,p)=>{Yr(d,p,!0)},Gt=(d,p)=>{Yr(d,p,!1)},Wn=(d,p)=>{const E=Array.from(d.children);for(let O=0;O<E.length;O++){const W=E[O];if(W instanceof HTMLElement&&Dt(W,p))return W}},sr=(d,p,E)=>{E===`${parseInt(E)}`&&(E=parseInt(E)),E||parseInt(E)===0?d.style[p]=typeof E=="number"?`${E}px`:E:d.style.removeProperty(p)},Be=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d.style.display=p},Je=d=>{d.style.display="none"},li=(d,p,E,O)=>{const W=d.querySelector(p);W&&(W.style[E]=O)},ir=function(d,p){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?Be(d,E):Je(d)},Fe=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),Xr=()=>!Fe(De())&&!Fe(_t())&&!Fe(J()),ot=d=>d.scrollHeight>d.clientHeight,Ke=d=>{const p=window.getComputedStyle(d),E=parseFloat(p.getPropertyValue("animation-duration")||"0"),O=parseFloat(p.getPropertyValue("transition-duration")||"0");return E>0||O>0},kn=function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const E=Re();Fe(E)&&(p&&(E.style.transition="none",E.style.width="100%"),setTimeout(()=>{E.style.transition=`width ${d/1e3}s linear`,E.style.width="0%"},10))},Ss=()=>{const d=Re(),p=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";const E=parseInt(window.getComputedStyle(d).width),O=p/E*100;d.style.removeProperty("transition"),d.style.width=`${O}%`},Qt=100,pe={},Cr=()=>{pe.previousActiveElement instanceof HTMLElement?(pe.previousActiveElement.focus(),pe.previousActiveElement=null):document.body&&document.body.focus()},Zi=d=>new Promise(p=>{if(!d)return p();const E=window.scrollX,O=window.scrollY;pe.restoreFocusTimeout=setTimeout(()=>{Cr(),p()},Qt),window.scrollTo(E,O)}),Jr=()=>typeof window>"u"||typeof document>"u",Nr=`
 <div aria-labelledby="${i.title}" aria-describedby="${i["html-container"]}" class="${i.popup}" tabindex="-1">
   <button type="button" class="${i.close}"></button>
   <ul class="${i["progress-steps"]}"></ul>
   <div class="${i.icon}"></div>
   <img class="${i.image}" />
   <h2 class="${i.title}" id="${i.title}"></h2>
   <div class="${i["html-container"]}" id="${i["html-container"]}"></div>
   <input class="${i.input}" />
   <input type="file" class="${i.file}" />
   <div class="${i.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${i.select}"></select>
   <div class="${i.radio}"></div>
   <label for="${i.checkbox}" class="${i.checkbox}">
     <input type="checkbox" />
     <span class="${i.label}"></span>
   </label>
   <textarea class="${i.textarea}"></textarea>
   <div class="${i["validation-message"]}" id="${i["validation-message"]}"></div>
   <div class="${i.actions}">
     <div class="${i.loader}"></div>
     <button type="button" class="${i.confirm}"></button>
     <button type="button" class="${i.deny}"></button>
     <button type="button" class="${i.cancel}"></button>
   </div>
   <div class="${i.footer}"></div>
   <div class="${i["timer-progress-bar-container"]}">
     <div class="${i["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),eo=()=>{const d=T();return d?(d.remove(),Gt([document.documentElement,document.body],[i["no-backdrop"],i["toast-shown"],i["has-column"]]),!0):!1},un=()=>{pe.currentInstance.resetValidationMessage()},or=()=>{const d=F(),p=Wn(d,i.input),E=Wn(d,i.file),O=d.querySelector(`.${i.range} input`),W=d.querySelector(`.${i.range} output`),re=Wn(d,i.select),bt=d.querySelector(`.${i.checkbox} input`),Fs=Wn(d,i.textarea);p.oninput=un,E.onchange=un,re.onchange=un,bt.onchange=un,Fs.oninput=un,O.oninput=()=>{un(),W.value=O.value},O.onchange=()=>{un(),W.value=O.value}},hn=d=>typeof d=="string"?document.querySelector(d):d,Zr=d=>{const p=F();p.setAttribute("role",d.toast?"alert":"dialog"),p.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||p.setAttribute("aria-modal","true")},ar=d=>{window.getComputedStyle(d).direction==="rtl"&&ye(T(),i.rtl)},lr=d=>{const p=eo();if(Jr()){g("SweetAlert2 requires document to initialize");return}const E=document.createElement("div");E.className=i.container,p&&ye(E,i["no-transition"]),St(E,Nr);const O=hn(d.target);O.appendChild(E),Zr(d),ar(O),or()},cr=(d,p)=>{d instanceof HTMLElement?p.appendChild(d):typeof d=="object"?Yt(d,p):d&&St(p,d)},Yt=(d,p)=>{d.jquery?Cs(p,d):St(p,d.toString())},Cs=(d,p)=>{if(d.textContent="",0 in p)for(let E=0;E in p;E++)d.appendChild(p[E].cloneNode(!0));else d.appendChild(p.cloneNode(!0))},dn=(()=>{if(Jr())return!1;const d=document.createElement("div"),p={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const E in p)if(Object.prototype.hasOwnProperty.call(p,E)&&typeof d.style[E]<"u")return p[E];return!1})(),Ns=()=>{const d=document.createElement("div");d.className=i["scrollbar-measure"],document.body.appendChild(d);const p=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),p},fn=(d,p)=>{const E=ce(),O=At();!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Je(E):Be(E),ft(E,p,"actions"),ci(E,O,p),St(O,p.loaderHtml),ft(O,p,"loader")};function ci(d,p,E){const O=De(),W=_t(),re=J();ks(O,"confirm",E),ks(W,"deny",E),ks(re,"cancel",E),$e(O,W,re,E),E.reverseButtons&&(E.toast?(d.insertBefore(re,O),d.insertBefore(W,O)):(d.insertBefore(re,p),d.insertBefore(W,p),d.insertBefore(O,p)))}function $e(d,p,E,O){if(!O.buttonsStyling){Gt([d,p,E],i.styled);return}ye([d,p,E],i.styled),O.confirmButtonColor&&(d.style.backgroundColor=O.confirmButtonColor,ye(d,i["default-outline"])),O.denyButtonColor&&(p.style.backgroundColor=O.denyButtonColor,ye(p,i["default-outline"])),O.cancelButtonColor&&(E.style.backgroundColor=O.cancelButtonColor,ye(E,i["default-outline"]))}function ks(d,p,E){ir(d,E[`show${u(p)}Button`],"inline-block"),St(d,E[`${p}ButtonText`]),d.setAttribute("aria-label",E[`${p}ButtonAriaLabel`]),d.className=i[p],ft(d,E,`${p}Button`),ye(d,E[`${p}ButtonClass`])}const es=(d,p)=>{const E=Te();St(E,p.closeButtonHtml),ft(E,p,"closeButton"),ir(E,p.showCloseButton),E.setAttribute("aria-label",p.closeButtonAriaLabel)},ts=(d,p)=>{const E=T();E&&(to(E,p.backdrop),ui(E,p.position),Ge(E,p.grow),ft(E,p,"container"))};function to(d,p){typeof p=="string"?d.style.background=p:p||ye([document.documentElement,document.body],i["no-backdrop"])}function ui(d,p){p in i?ye(d,i[p]):(h('The "position" parameter is not valid, defaulting to "center"'),ye(d,i.center))}function Ge(d,p){if(p&&typeof p=="string"){const E=`grow-${p}`;E in i&&ye(d,i[E])}}const ha=["input","file","range","select","radio","checkbox","textarea"],da=(d,p)=>{const E=F(),O=n.innerParams.get(d),W=!O||p.input!==O.input;ha.forEach(re=>{const bt=Wn(E,i[re]);hi(re,p.inputAttributes),bt.className=i[re],W&&Je(bt)}),p.input&&(W&&Rs(p),at(p))},Rs=d=>{if(!pt[d.input]){g(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${d.input}"`);return}const p=di(d.input),E=pt[d.input](p,d);Be(p),setTimeout(()=>{Sr(E)})},no=d=>{for(let p=0;p<d.attributes.length;p++){const E=d.attributes[p].name;["type","value","style"].includes(E)||d.removeAttribute(E)}},hi=(d,p)=>{const E=Ir(F(),d);if(E){no(E);for(const O in p)E.setAttribute(O,p[O])}},at=d=>{const p=di(d.input);typeof d.customClass=="object"&&ye(p,d.customClass.input)},pn=(d,p)=>{(!d.placeholder||p.inputPlaceholder)&&(d.placeholder=p.inputPlaceholder)},kr=(d,p,E)=>{if(E.inputLabel){d.id=i.input;const O=document.createElement("label"),W=i["input-label"];O.setAttribute("for",d.id),O.className=W,typeof E.customClass=="object"&&ye(O,E.customClass.inputLabel),O.innerText=E.inputLabel,p.insertAdjacentElement("beforebegin",O)}},di=d=>Wn(F(),i[d]||i.input),Rr=(d,p)=>{["string","number"].includes(typeof p)?d.value=`${p}`:A(p)||h(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},pt={};pt.text=pt.email=pt.password=pt.number=pt.tel=pt.url=(d,p)=>(Rr(d,p.inputValue),kr(d,d,p),pn(d,p),d.type=p.input,d),pt.file=(d,p)=>(kr(d,d,p),pn(d,p),d),pt.range=(d,p)=>{const E=d.querySelector("input"),O=d.querySelector("output");return Rr(E,p.inputValue),E.type=p.input,Rr(O,p.inputValue),kr(E,d,p),d},pt.select=(d,p)=>{if(d.textContent="",p.inputPlaceholder){const E=document.createElement("option");St(E,p.inputPlaceholder),E.value="",E.disabled=!0,E.selected=!0,d.appendChild(E)}return kr(d,d,p),d},pt.radio=d=>(d.textContent="",d),pt.checkbox=(d,p)=>{const E=Ir(F(),"checkbox");E.value="1",E.id=i.checkbox,E.checked=!!p.inputValue;const O=d.querySelector("span");return St(O,p.inputPlaceholder),E},pt.textarea=(d,p)=>{Rr(d,p.inputValue),pn(d,p),kr(d,d,p);const E=O=>parseInt(window.getComputedStyle(O).marginLeft)+parseInt(window.getComputedStyle(O).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const O=parseInt(window.getComputedStyle(F()).width),W=()=>{const re=d.offsetWidth+E(d);re>O?F().style.width=`${re}px`:F().style.width=null};new MutationObserver(W).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};const jt=(d,p)=>{const E=D();ft(E,p,"htmlContainer"),p.html?(cr(p.html,E),Be(E,"block")):p.text?(E.textContent=p.text,Be(E,"block")):Je(E),da(d,p)},ro=(d,p)=>{const E=Z();ir(E,p.footer),p.footer&&cr(p.footer,E),ft(E,p,"footer")},fa=(d,p)=>{const E=n.innerParams.get(d),O=k();if(E&&p.icon===E.icon){Rn(O,p),ns(O,p);return}if(!p.icon&&!p.iconHtml){Je(O);return}if(p.icon&&Object.keys(o).indexOf(p.icon)===-1){g(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),Je(O);return}Be(O),Rn(O,p),ns(O,p),ye(O,p.showClass.icon)},ns=(d,p)=>{for(const E in o)p.icon!==E&&Gt(d,o[E]);ye(d,o[p.icon]),Pr(d,p),so(),ft(d,p,"icon")},so=()=>{const d=F(),p=window.getComputedStyle(d).getPropertyValue("background-color"),E=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let O=0;O<E.length;O++)E[O].style.backgroundColor=p},fi=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Kn=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Rn=(d,p)=>{let E=d.innerHTML,O;p.iconHtml?O=Pn(p.iconHtml):p.icon==="success"?(O=fi,E=E.replace(/ style=".*?"/g,"")):p.icon==="error"?O=Kn:O=Pn({question:"?",warning:"!",info:"i"}[p.icon]),E.trim()!==O.trim()&&St(d,O)},Pr=(d,p)=>{if(p.iconColor){d.style.color=p.iconColor,d.style.borderColor=p.iconColor;for(const E of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])li(d,E,"backgroundColor",p.iconColor);li(d,".swal2-success-ring","borderColor",p.iconColor)}},Pn=d=>`<div class="${i["icon-content"]}">${d}</div>`,Ps=(d,p)=>{const E=U();if(!p.imageUrl){Je(E);return}Be(E,""),E.setAttribute("src",p.imageUrl),E.setAttribute("alt",p.imageAlt),sr(E,"width",p.imageWidth),sr(E,"height",p.imageHeight),E.className=i.image,ft(E,p,"image")},io=(d,p)=>{const E=T(),O=F();p.toast?(sr(E,"width",p.width),O.style.width="100%",O.insertBefore(At(),k())):sr(O,"width",p.width),sr(O,"padding",p.padding),p.color&&(O.style.color=p.color),p.background&&(O.style.background=p.background),Je(M()),oo(O,p)},oo=(d,p)=>{d.className=`${i.popup} ${Fe(d)?p.showClass.popup:""}`,p.toast?(ye([document.documentElement,document.body],i["toast-shown"]),ye(d,i.toast)):ye(d,i.modal),ft(d,p,"popup"),typeof p.customClass=="string"&&ye(d,p.customClass),p.icon&&ye(d,i[`icon-${p.icon}`])},pi=(d,p)=>{const E=q();if(!p.progressSteps||p.progressSteps.length===0){Je(E);return}Be(E),E.textContent="",p.currentProgressStep>=p.progressSteps.length&&h("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),p.progressSteps.forEach((O,W)=>{const re=mi(O);if(E.appendChild(re),W===p.currentProgressStep&&ye(re,i["active-progress-step"]),W!==p.progressSteps.length-1){const bt=ao(p);E.appendChild(bt)}})},mi=d=>{const p=document.createElement("li");return ye(p,i["progress-step"]),St(p,d),p},ao=d=>{const p=document.createElement("li");return ye(p,i["progress-step-line"]),d.progressStepsDistance&&sr(p,"width",d.progressStepsDistance),p},rs=(d,p)=>{const E=L();ir(E,p.title||p.titleText,"block"),p.title&&cr(p.title,E),p.titleText&&(E.innerText=p.titleText),ft(E,p,"title")},Ls=(d,p)=>{io(d,p),ts(d,p),pi(d,p),fa(d,p),Ps(d,p),rs(d,p),es(d,p),jt(d,p),fn(d,p),ro(d,p),typeof p.didRender=="function"&&p.didRender(F())};function Lr(){const d=n.innerParams.get(this);if(!d)return;const p=n.domCache.get(this);Je(p.loader),Ot()?d.icon&&Be(k()):gi(p),Gt([p.popup,p.actions],i.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}const gi=d=>{const p=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));p.length?Be(p[0],"inline-block"):Xr()&&Je(d.actions)};function yi(d){const p=n.innerParams.get(d||this),E=n.domCache.get(d||this);return E?Ir(E.popup,p.input):null}const pa=()=>Fe(F()),Gn=()=>De()&&De().click(),Ln=()=>_t()&&_t().click(),Os=()=>J()&&J().click(),Xt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),vi=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},Oe=(d,p,E,O)=>{vi(p),E.toast||(p.keydownHandler=W=>ur(d,W,O),p.keydownTarget=E.keydownListenerCapture?window:F(),p.keydownListenerCapture=E.keydownListenerCapture,p.keydownTarget.addEventListener("keydown",p.keydownHandler,{capture:p.keydownListenerCapture}),p.keydownHandlerAdded=!0)},mn=(d,p,E)=>{const O=$t();if(O.length)return p=p+E,p===O.length?p=0:p===-1&&(p=O.length-1),O[p].focus();F().focus()},Ct=["ArrowRight","ArrowDown"],Jt=["ArrowLeft","ArrowUp"],ur=(d,p,E)=>{const O=n.innerParams.get(d);O&&(p.isComposing||p.keyCode===229||(O.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?lo(d,p,O):p.key==="Tab"?Qn(p,O):[...Ct,...Jt].includes(p.key)?ma(p.key):p.key==="Escape"&&ga(p,O,E)))},lo=(d,p,E)=>{if(C(E.allowEnterKey)&&p.target&&d.getInput()&&p.target instanceof HTMLElement&&p.target.outerHTML===d.getInput().outerHTML){if(["textarea","file"].includes(E.input))return;Gn(),p.preventDefault()}},Qn=(d,p)=>{const E=d.target,O=$t();let W=-1;for(let re=0;re<O.length;re++)if(E===O[re]){W=re;break}d.shiftKey?mn(p,W,-1):mn(p,W,1),d.stopPropagation(),d.preventDefault()},ma=d=>{const p=De(),E=_t(),O=J();if(document.activeElement instanceof HTMLElement&&![p,E,O].includes(document.activeElement))return;const W=Ct.includes(d)?"nextElementSibling":"previousElementSibling";let re=document.activeElement;for(let bt=0;bt<ce().children.length;bt++){if(re=re[W],!re)return;if(re instanceof HTMLButtonElement&&Fe(re))break}re instanceof HTMLButtonElement&&re.focus()},ga=(d,p,E)=>{C(p.allowEscapeKey)&&(d.preventDefault(),E(Xt.esc))};var ss={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const is=()=>{Array.from(document.body.children).forEach(p=>{p===T()||p.contains(T())||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")),p.setAttribute("aria-hidden","true"))})},gn=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},Nt=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Dt(document.body,i.iosfix)){const p=document.body.scrollTop;document.body.style.top=`${p*-1}px`,ye(document.body,i.iosfix),_i(),wi()}},wi=()=>{const d=navigator.userAgent,p=!!d.match(/iPad/i)||!!d.match(/iPhone/i),E=!!d.match(/WebKit/i);p&&E&&!d.match(/CriOS/i)&&F().scrollHeight>window.innerHeight-44&&(T().style.paddingBottom="44px")},_i=()=>{const d=T();let p;d.ontouchstart=E=>{p=On(E)},d.ontouchmove=E=>{p&&(E.preventDefault(),E.stopPropagation())}},On=d=>{const p=d.target,E=T();return Ei(d)||Ds(d)?!1:p===E||!ot(E)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(ot(D())&&D().contains(p))},Ei=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",Ds=d=>d.touches&&d.touches.length>1,ya=()=>{if(Dt(document.body,i.iosfix)){const d=parseInt(document.body.style.top,10);Gt(document.body,i.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},Dn=()=>{It.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(It.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${It.previousBodyPadding+Ns()}px`)},bi=()=>{It.previousBodyPadding!==null&&(document.body.style.paddingRight=`${It.previousBodyPadding}px`,It.previousBodyPadding=null)};function xi(d,p,E,O){Ot()?he(d,O):(Zi(E).then(()=>he(d,O)),vi(pe)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),ve()&&(bi(),ya(),gn()),zt()}function zt(){Gt([document.documentElement,document.body],[i.shown,i["height-auto"],i["no-backdrop"],i["toast-shown"]])}function Yn(d){d=N(d);const p=ss.swalPromiseResolve.get(this),E=os(this);this.isAwaitingPromise()?d.isDismissed||(v(this),p(d)):E&&p(d)}function js(){return!!n.awaitingPromise.get(this)}const os=d=>{const p=F();if(!p)return!1;const E=n.innerParams.get(d);if(!E||Dt(p,E.hideClass.popup))return!1;Gt(p,E.showClass.popup),ye(p,E.hideClass.popup);const O=T();return Gt(O,E.showClass.backdrop),ye(O,E.hideClass.backdrop),j(d,p,E),!0};function as(d){const p=ss.swalPromiseReject.get(this);v(this),p&&p(d)}const v=d=>{d.isAwaitingPromise()&&(n.awaitingPromise.delete(d),n.innerParams.get(d)||d._destroy())},N=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),j=(d,p,E)=>{const O=T(),W=dn&&Ke(p);typeof E.willClose=="function"&&E.willClose(p),W?H(d,p,O,E.returnFocus,E.didClose):xi(d,O,E.returnFocus,E.didClose)},H=(d,p,E,O,W)=>{pe.swalCloseEventFinishedCallback=xi.bind(null,d,E,O,W),p.addEventListener(dn,function(re){re.target===p&&(pe.swalCloseEventFinishedCallback(),delete pe.swalCloseEventFinishedCallback)})},he=(d,p)=>{setTimeout(()=>{typeof p=="function"&&p.bind(d.params)(),d._destroy()})};function ie(d,p,E){const O=n.domCache.get(d);p.forEach(W=>{O[W].disabled=E})}function _e(d,p){if(d)if(d.type==="radio"){const O=d.parentNode.parentNode.querySelectorAll("input");for(let W=0;W<O.length;W++)O[W].disabled=p}else d.disabled=p}function Ee(){ie(this,["confirmButton","denyButton","cancelButton"],!1)}function ze(){ie(this,["confirmButton","denyButton","cancelButton"],!0)}function Ie(){_e(this.getInput(),!1)}function qe(){_e(this.getInput(),!0)}function Mt(d){const p=n.domCache.get(this),E=n.innerParams.get(this);St(p.validationMessage,d),p.validationMessage.className=i["validation-message"],E.customClass&&E.customClass.validationMessage&&ye(p.validationMessage,E.customClass.validationMessage),Be(p.validationMessage);const O=this.getInput();O&&(O.setAttribute("aria-invalid",!0),O.setAttribute("aria-describedby",i["validation-message"]),Sr(O),ye(O,i.inputerror))}function lt(){const d=n.domCache.get(this);d.validationMessage&&Je(d.validationMessage);const p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),Gt(p,i.inputerror))}const je={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},mt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Xn={},yn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],hr=d=>Object.prototype.hasOwnProperty.call(je,d),Ms=d=>mt.indexOf(d)!==-1,Vs=d=>Xn[d],Ti=d=>{hr(d)||h(`Unknown parameter "${d}"`)},va=d=>{yn.includes(d)&&h(`The parameter "${d}" is incompatible with toasts`)},Rh=d=>{Vs(d)&&x(d,Vs(d))},Ph=d=>{d.backdrop===!1&&d.allowOutsideClick&&h('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const p in d)Ti(p),d.toast&&va(p),Rh(p)};function kc(d){const p=F(),E=n.innerParams.get(this);if(!p||Dt(p,E.hideClass.popup)){h("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const O=Rc(d),W=Object.assign({},E,O);Ls(this,W),n.innerParams.set(this,W),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}const Rc=d=>{const p={};return Object.keys(d).forEach(E=>{Ms(E)?p[E]=d[E]:h(`Invalid parameter to update: ${E}`)}),p};function Lh(){const d=n.domCache.get(this),p=n.innerParams.get(this);if(!p){Pc(this);return}d.popup&&pe.swalCloseEventFinishedCallback&&(pe.swalCloseEventFinishedCallback(),delete pe.swalCloseEventFinishedCallback),typeof p.didDestroy=="function"&&p.didDestroy(),al(this)}const al=d=>{Pc(d),delete d.params,delete pe.keydownHandler,delete pe.keydownTarget,delete pe.currentInstance},Pc=d=>{d.isAwaitingPromise()?(ll(n,d),n.awaitingPromise.set(d,!0)):(ll(ss,d),ll(n,d))},ll=(d,p)=>{for(const E in d)d[E].delete(p)};var Us=Object.freeze({__proto__:null,hideLoading:Lr,disableLoading:Lr,getInput:yi,close:Yn,isAwaitingPromise:js,rejectPromise:as,handleAwaitingPromise:v,closePopup:Yn,closeModal:Yn,closeToast:Yn,enableButtons:Ee,disableButtons:ze,enableInput:Ie,disableInput:qe,showValidationMessage:Mt,resetValidationMessage:lt,update:kc,_destroy:Lh});const Ai=d=>{let p=F();p||new Uh,p=F();const E=At();Ot()?Je(k()):Oh(p,d),Be(E),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},Oh=(d,p)=>{const E=ce(),O=At();!p&&Fe(De())&&(p=De()),Be(E),p&&(Je(p),O.setAttribute("data-button-to-replace",p.className)),O.parentNode.insertBefore(O,p),ye([d,E],i.loading)},Dh=(d,p)=>{p.input==="select"||p.input==="radio"?Vh(d,p):["text","email","number","tel","textarea"].includes(p.input)&&(S(p.inputValue)||A(p.inputValue))&&(Ai(De()),co(d,p))},jh=(d,p)=>{const E=d.getInput();if(!E)return null;switch(p.input){case"checkbox":return cl(E);case"radio":return jn(E);case"file":return Mh(E);default:return p.inputAutoTrim?E.value.trim():E.value}},cl=d=>d.checked?1:0,jn=d=>d.checked?d.value:null,Mh=d=>d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,Vh=(d,p)=>{const E=F(),O=W=>{c[p.input](E,m(W),p)};S(p.inputOptions)||A(p.inputOptions)?(Ai(De()),b(p.inputOptions).then(W=>{d.hideLoading(),O(W)})):typeof p.inputOptions=="object"?O(p.inputOptions):g(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},co=(d,p)=>{const E=d.getInput();Je(E),b(p.inputValue).then(O=>{E.value=p.input==="number"?`${parseFloat(O)||0}`:`${O}`,Be(E),E.focus(),d.hideLoading()}).catch(O=>{g(`Error in inputValue promise: ${O}`),E.value="",Be(E),E.focus(),d.hideLoading()})},c={select:(d,p,E)=>{const O=Wn(d,i.select),W=(re,bt,Fs)=>{const Mn=document.createElement("option");Mn.value=Fs,St(Mn,bt),Mn.selected=w(Fs,E.inputValue),re.appendChild(Mn)};p.forEach(re=>{const bt=re[0],Fs=re[1];if(Array.isArray(Fs)){const Mn=document.createElement("optgroup");Mn.label=bt,Mn.disabled=!1,O.appendChild(Mn),Fs.forEach(dl=>W(Mn,dl[1],dl[0]))}else W(O,Fs,bt)}),O.focus()},radio:(d,p,E)=>{const O=Wn(d,i.radio);p.forEach(re=>{const bt=re[0],Fs=re[1],Mn=document.createElement("input"),dl=document.createElement("label");Mn.type="radio",Mn.name=i.radio,Mn.value=bt,w(bt,E.inputValue)&&(Mn.checked=!0);const qp=document.createElement("span");St(qp,Fs),qp.className=i.label,dl.appendChild(Mn),dl.appendChild(qp),O.appendChild(dl)});const W=O.querySelectorAll("input");W.length&&W[0].focus()}},m=d=>{const p=[];return typeof Map<"u"&&d instanceof Map?d.forEach((E,O)=>{let W=E;typeof W=="object"&&(W=m(W)),p.push([O,W])}):Object.keys(d).forEach(E=>{let O=d[E];typeof O=="object"&&(O=m(O)),p.push([E,O])}),p},w=(d,p)=>p&&p.toString()===d.toString(),R=d=>{const p=n.innerParams.get(d);d.disableButtons(),p.input?X(d,"confirm"):kt(d,!0)},$=d=>{const p=n.innerParams.get(d);d.disableButtons(),p.returnInputValueOnDeny?X(d,"deny"):Et(d,!1)},z=(d,p)=>{d.disableButtons(),p(Xt.cancel)},X=(d,p)=>{const E=n.innerParams.get(d);if(!E.input){g(`The "input" parameter is needed to be set when using returnInputValueOn${u(p)}`);return}const O=jh(d,E);E.inputValidator?Me(d,O,p):d.getInput().checkValidity()?p==="deny"?Et(d,O):kt(d,O):(d.enableButtons(),d.showValidationMessage(E.validationMessage))},Me=(d,p,E)=>{const O=n.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>b(O.inputValidator(p,O.validationMessage))).then(re=>{d.enableButtons(),d.enableInput(),re?d.showValidationMessage(re):E==="deny"?Et(d,p):kt(d,p)})},Et=(d,p)=>{const E=n.innerParams.get(d||void 0);E.showLoaderOnDeny&&Ai(_t()),E.preDeny?(n.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>b(E.preDeny(p,E.validationMessage))).then(W=>{W===!1?(d.hideLoading(),v(d)):d.close({isDenied:!0,value:typeof W>"u"?p:W})}).catch(W=>Vt(d||void 0,W))):d.close({isDenied:!0,value:p})},Se=(d,p)=>{d.close({isConfirmed:!0,value:p})},Vt=(d,p)=>{d.rejectPromise(p)},kt=(d,p)=>{const E=n.innerParams.get(d||void 0);E.showLoaderOnConfirm&&Ai(),E.preConfirm?(d.resetValidationMessage(),n.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>b(E.preConfirm(p,E.validationMessage))).then(W=>{Fe(M())||W===!1?(d.hideLoading(),v(d)):Se(d,typeof W>"u"?p:W)}).catch(W=>Vt(d||void 0,W))):Se(d,p)},uo=(d,p,E)=>{n.innerParams.get(d).toast?dr(d,p,E):(SS(p),CS(p),NS(d,p,E))},dr=(d,p,E)=>{p.popup.onclick=()=>{const O=n.innerParams.get(d);O&&(ul(O)||O.timer||O.input)||E(Xt.close)}},ul=d=>d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton;let ho=!1;const SS=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(p){d.container.onmouseup=void 0,p.target===d.container&&(ho=!0)}}},CS=d=>{d.container.onmousedown=()=>{d.popup.onmouseup=function(p){d.popup.onmouseup=void 0,(p.target===d.popup||d.popup.contains(p.target))&&(ho=!0)}}},NS=(d,p,E)=>{p.container.onclick=O=>{const W=n.innerParams.get(d);if(ho){ho=!1;return}O.target===p.container&&C(W.allowOutsideClick)&&E(Xt.backdrop)}},kS=d=>typeof d=="object"&&d.jquery,ov=d=>d instanceof Element||kS(d),RS=d=>{const p={};return typeof d[0]=="object"&&!ov(d[0])?Object.assign(p,d[0]):["title","html","icon"].forEach((E,O)=>{const W=d[O];typeof W=="string"||ov(W)?p[E]=W:W!==void 0&&g(`Unexpected type of ${E}! Expected "string" or "Element", got ${typeof W}`)}),p};function PS(){const d=this;for(var p=arguments.length,E=new Array(p),O=0;O<p;O++)E[O]=arguments[O];return new d(...E)}function LS(d){class p extends this{_main(O,W){return super._main(O,Object.assign({},d,W))}}return p}const OS=()=>pe.timeout&&pe.timeout.getTimerLeft(),av=()=>{if(pe.timeout)return Ss(),pe.timeout.stop()},lv=()=>{if(pe.timeout){const d=pe.timeout.start();return kn(d),d}},DS=()=>{const d=pe.timeout;return d&&(d.running?av():lv())},jS=d=>{if(pe.timeout){const p=pe.timeout.increase(d);return kn(p,!0),p}},MS=()=>pe.timeout&&pe.timeout.isRunning();let cv=!1;const Fp={};function VS(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Fp[d]=this,cv||(document.body.addEventListener("click",US),cv=!0)}const US=d=>{for(let p=d.target;p&&p!==document;p=p.parentNode)for(const E in Fp){const O=p.getAttribute(E);if(O){Fp[E].fire({template:O});return}}};var BS=Object.freeze({__proto__:null,isValidParameter:hr,isUpdatableParameter:Ms,isDeprecatedParameter:Vs,argsToParams:RS,getContainer:T,getPopup:F,getTitle:L,getHtmlContainer:D,getImage:U,getIcon:k,getIconContent:I,getInputLabel:Qr,getCloseButton:Te,getActions:ce,getConfirmButton:De,getDenyButton:_t,getCancelButton:J,getLoader:At,getFooter:Z,getTimerProgressBar:Re,getFocusableElements:$t,getValidationMessage:M,getProgressSteps:q,isLoading:Nn,isVisible:pa,clickConfirm:Gn,clickDeny:Ln,clickCancel:Os,fire:PS,mixin:LS,showLoading:Ai,enableLoading:Ai,getTimerLeft:OS,stopTimer:av,resumeTimer:lv,toggleTimer:DS,increaseTimer:jS,isTimerRunning:MS,bindClickHandler:VS});class FS{constructor(p,E){this.callback=p,this.remaining=E,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){const E=this.running;return E&&this.stop(),this.remaining+=p,E&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const uv=["swal-title","swal-html","swal-footer"],qS=d=>{const p=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!p)return{};const E=p.content;return YS(E),Object.assign($S(E),zS(E),HS(E),WS(E),KS(E),GS(E),QS(E,uv))},$S=d=>{const p={};return Array.from(d.querySelectorAll("swal-param")).forEach(O=>{wa(O,["name","value"]);const W=O.getAttribute("name"),re=O.getAttribute("value");typeof je[W]=="boolean"?p[W]=re!=="false":typeof je[W]=="object"?p[W]=JSON.parse(re):p[W]=re}),p},zS=d=>{const p={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(O=>{const W=O.getAttribute("name"),re=O.getAttribute("value");p[W]=new Function(`return ${re}`)()}),p},HS=d=>{const p={};return Array.from(d.querySelectorAll("swal-button")).forEach(O=>{wa(O,["type","color","aria-label"]);const W=O.getAttribute("type");p[`${W}ButtonText`]=O.innerHTML,p[`show${u(W)}Button`]=!0,O.hasAttribute("color")&&(p[`${W}ButtonColor`]=O.getAttribute("color")),O.hasAttribute("aria-label")&&(p[`${W}ButtonAriaLabel`]=O.getAttribute("aria-label"))}),p},WS=d=>{const p={},E=d.querySelector("swal-image");return E&&(wa(E,["src","width","height","alt"]),E.hasAttribute("src")&&(p.imageUrl=E.getAttribute("src")),E.hasAttribute("width")&&(p.imageWidth=E.getAttribute("width")),E.hasAttribute("height")&&(p.imageHeight=E.getAttribute("height")),E.hasAttribute("alt")&&(p.imageAlt=E.getAttribute("alt"))),p},KS=d=>{const p={},E=d.querySelector("swal-icon");return E&&(wa(E,["type","color"]),E.hasAttribute("type")&&(p.icon=E.getAttribute("type")),E.hasAttribute("color")&&(p.iconColor=E.getAttribute("color")),p.iconHtml=E.innerHTML),p},GS=d=>{const p={},E=d.querySelector("swal-input");E&&(wa(E,["type","label","placeholder","value"]),p.input=E.getAttribute("type")||"text",E.hasAttribute("label")&&(p.inputLabel=E.getAttribute("label")),E.hasAttribute("placeholder")&&(p.inputPlaceholder=E.getAttribute("placeholder")),E.hasAttribute("value")&&(p.inputValue=E.getAttribute("value")));const O=Array.from(d.querySelectorAll("swal-input-option"));return O.length&&(p.inputOptions={},O.forEach(W=>{wa(W,["value"]);const re=W.getAttribute("value"),bt=W.innerHTML;p.inputOptions[re]=bt})),p},QS=(d,p)=>{const E={};for(const O in p){const W=p[O],re=d.querySelector(W);re&&(wa(re,[]),E[W.replace(/^swal-/,"")]=re.innerHTML.trim())}return E},YS=d=>{const p=uv.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(E=>{const O=E.tagName.toLowerCase();p.includes(O)||h(`Unrecognized element <${O}>`)})},wa=(d,p)=>{Array.from(d.attributes).forEach(E=>{p.indexOf(E.name)===-1&&h([`Unrecognized attribute "${E.name}" on <${d.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},hv=10,XS=d=>{const p=T(),E=F();typeof d.willOpen=="function"&&d.willOpen(E);const W=window.getComputedStyle(document.body).overflowY;eC(p,E,d),setTimeout(()=>{JS(p,E)},hv),ve()&&(ZS(p,d.scrollbarPadding,W),is()),!Ot()&&!pe.previousActiveElement&&(pe.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(E)),Gt(p,i["no-transition"])},dv=d=>{const p=F();if(d.target!==p)return;const E=T();p.removeEventListener(dn,dv),E.style.overflowY="auto"},JS=(d,p)=>{dn&&Ke(p)?(d.style.overflowY="hidden",p.addEventListener(dn,dv)):d.style.overflowY="auto"},ZS=(d,p,E)=>{Nt(),p&&E!=="hidden"&&Dn(),setTimeout(()=>{d.scrollTop=0})},eC=(d,p,E)=>{ye(d,E.showClass.backdrop),p.style.setProperty("opacity","0","important"),Be(p,"grid"),setTimeout(()=>{ye(p,E.showClass.popup),p.style.removeProperty("opacity")},hv),ye([document.documentElement,document.body],i.shown),E.heightAuto&&E.backdrop&&!E.toast&&ye([document.documentElement,document.body],i["height-auto"])};var fv={email:(d,p)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(d,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function tC(d){d.inputValidator||Object.keys(fv).forEach(p=>{d.input===p&&(d.inputValidator=fv[p])})}function nC(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(h('Target parameter is not valid, defaulting to "body"'),d.target="body")}function rC(d){tC(d),d.showLoaderOnConfirm&&!d.preConfirm&&h(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),nC(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),lr(d)}let Bs;class hl{constructor(){if(typeof window>"u")return;Bs=this;for(var p=arguments.length,E=new Array(p),O=0;O<p;O++)E[O]=arguments[O];const W=Object.freeze(this.constructor.argsToParams(E));Object.defineProperties(this,{params:{value:W,writable:!1,enumerable:!0,configurable:!0}});const re=Bs._main(Bs.params);n.promise.set(this,re)}_main(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ph(Object.assign({},E,p)),pe.currentInstance&&(pe.currentInstance._destroy(),ve()&&gn()),pe.currentInstance=Bs;const O=iC(p,E);rC(O),Object.freeze(O),pe.timeout&&(pe.timeout.stop(),delete pe.timeout),clearTimeout(pe.restoreFocusTimeout);const W=oC(Bs);return Ls(Bs,O),n.innerParams.set(Bs,O),sC(Bs,W,O)}then(p){return n.promise.get(this).then(p)}finally(p){return n.promise.get(this).finally(p)}}const sC=(d,p,E)=>new Promise((O,W)=>{const re=bt=>{d.close({isDismissed:!0,dismiss:bt})};ss.swalPromiseResolve.set(d,O),ss.swalPromiseReject.set(d,W),p.confirmButton.onclick=()=>{R(d)},p.denyButton.onclick=()=>{$(d)},p.cancelButton.onclick=()=>{z(d,re)},p.closeButton.onclick=()=>{re(Xt.close)},uo(d,p,re),Oe(d,pe,E,re),Dh(d,E),XS(E),aC(pe,E,re),lC(p,E),setTimeout(()=>{p.container.scrollTop=0})}),iC=(d,p)=>{const E=qS(d),O=Object.assign({},je,p,E,d);return O.showClass=Object.assign({},je.showClass,O.showClass),O.hideClass=Object.assign({},je.hideClass,O.hideClass),O},oC=d=>{const p={popup:F(),container:T(),actions:ce(),confirmButton:De(),denyButton:_t(),cancelButton:J(),loader:At(),closeButton:Te(),validationMessage:M(),progressSteps:q()};return n.domCache.set(d,p),p},aC=(d,p,E)=>{const O=Re();Je(O),p.timer&&(d.timeout=new FS(()=>{E("timer"),delete d.timeout},p.timer),p.timerProgressBar&&(Be(O),ft(O,p,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&kn(p.timer)})))},lC=(d,p)=>{if(!p.toast){if(!C(p.allowEnterKey)){uC();return}cC(d,p)||mn(p,-1,1)}},cC=(d,p)=>p.focusDeny&&Fe(d.denyButton)?(d.denyButton.focus(),!0):p.focusCancel&&Fe(d.cancelButton)?(d.cancelButton.focus(),!0):p.focusConfirm&&Fe(d.confirmButton)?(d.confirmButton.focus(),!0):!1,uC=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const d=new Date,p=localStorage.getItem("swal-initiation");p?(d.getTime()-Date.parse(p))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const E=document.createElement("audio");E.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",E.loop=!0,document.body.appendChild(E),setTimeout(()=>{E.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}Object.assign(hl.prototype,Us),Object.assign(hl,BS),Object.keys(Us).forEach(d=>{hl[d]=function(){if(Bs)return Bs[d](...arguments)}}),hl.DismissReason=Xt,hl.version="11.6.13";const Uh=hl;return Uh.default=Uh,Uh}),typeof En<"u"&&En.Sweetalert2&&(En.swal=En.sweetAlert=En.Swal=En.SweetAlert=En.Sweetalert2),typeof document<"u"&&function(n,r){var s=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(s),s.styleSheet)s.styleSheet.disabled||(s.styleSheet.cssText=r);else try{s.innerHTML=r}catch{s.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(oI);var aj=oI.exports;const st=Bf(aj);var aI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},X_=Di.createContext&&Di.createContext(aI),lj=["attr","size","title"];function cj(t,e){if(t==null)return{};var n=uj(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uj(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}function J_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(n),!0).forEach(function(r){hj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hj(t,e,n){return e=dj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dj(t){var e=fj(t,"string");return typeof e=="symbol"?e:e+""}function fj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lI(t){return t&&t.map((e,n)=>Di.createElement(e.tag,Lf({key:n},e.attr),lI(e.child)))}function Ue(t){return e=>Di.createElement(pj,Pf({attr:Lf({},t.attr)},e),lI(t.child))}function pj(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=cj(t,lj),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Di.createElement("svg",Pf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Lf(Lf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Di.createElement("title",null,i),t.children)};return X_!==void 0?Di.createElement(X_.Consumer,null,n=>e(n)):e(aI)}function mj(t){return Ue({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 20V10h12v1c.7 0 1.37.1 2 .29V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h6.26c-.42-.6-.75-1.28-.97-2H6zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"},child:[]},{tag:"path",attr:{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 2c.83 0 1.5.67 1.5 1.5S18.83 18 18 18s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zm0 6c-1.03 0-1.94-.52-2.48-1.32.73-.42 1.57-.68 2.48-.68s1.75.26 2.48.68c-.54.8-1.45 1.32-2.48 1.32z"},child:[]}]})(t)}function gj(t){return Ue({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"},child:[]}]})(t)}const yj=()=>{const[t,e]=B.useState(""),[n,r]=B.useState(""),s=We(),i=async o=>{o.preventDefault();try{await g5(Np,t,n),st.fire({title:"correcto",text:"Has iniciado sesión correctamente",icon:"success"}),s("/access/admin/perfil-admin")}catch{st.fire({title:"Error",text:"Credenciales incorrectas, intenta nuevamente",icon:"error"})}};return f.jsx("section",{className:"flex flex-col px-10 md:px-20 justify-center items-center h-screen relative",children:f.jsxs("form",{onSubmit:i,className:"w-full md:w-1/2 rounded-lg border p-8 shadow-md bg-white",children:[f.jsx("h1",{className:"text-2xl md:text-5xl mb-6 font-black text-purple-800 text-center w-full",children:"Admin Portafolio"}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900",children:"Email"}),f.jsxs("div",{className:"relative mb-6",children:[f.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none",children:f.jsx(gj,{className:"text-xl"})}),f.jsx("input",{type:"email",id:"email",value:t,onChange:o=>e(o.target.value),className:"bg-gray-50 border border-gray-400 mb-5 text-gray-900 text-sm rounded-md block w-full ps-10 p-2.5",placeholder:"exampple@example"})]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900",children:"Email"}),f.jsxs("div",{className:"relative mb-6",children:[f.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none",children:f.jsx(mj,{className:"text-xl"})}),f.jsx("input",{type:"password",id:"password",value:n,onChange:o=>r(o.target.value),placeholder:"Ingresa tu password",className:"bg-gray-50 border border-gray-400 text-gray-900 text-sm rounded-md block w-full ps-10 p-2.5"})]})]}),f.jsx("button",{type:"submit",className:"w-full inline-block mt-10 text-gray-200 font-bold bg-gray-900 rounded-md py-2",children:"Inicia sesión"})]})})},Wr=t=>{const[e,n]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(!1),a=B.useCallback(async l=>{if(!l)return"";o(!0),s("");const u=tI(nI,`${t}/${Date.now()}_${l.name}`);try{await WD(u,l);const h=await KD(u);return n(h),h}catch(h){console.error("Error al subir la imagen:",h),s("Hubo un problema al subir la imagen. Inténtalo de nuevo."),o(!1)}},[t]);return{imagenUrl:e,error:r,uploadImage:a,uploading:i}};function vj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"},child:[]}]})(t)}function wj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"},child:[]}]})(t)}const we=({textLabel:t,type:e,placeholder:n,value:r,onChange:s})=>f.jsxs("div",{children:[f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",children:t}),f.jsxs("div",{className:"relative mb-6",children:[f.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3.5",children:f.jsx(wj,{className:"w-4 h-4 text-gray-600"})}),f.jsx("input",{type:e,className:"bg-gray-50 border border-gray-400 text-gray-900 text-sm rounded block w-full ps-10 p-2.5",placeholder:n,value:r,onChange:s})]})]}),Ja=({textLabel:t,placeholder:e,value:n,onChange:r})=>f.jsxs("div",{className:"mb-5",children:[f.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",children:t}),f.jsx("textarea",{rows:4,className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded border border-gray-300",placeholder:e,value:n,onChange:r})]});function _j(t){return Ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 19V13H17V19H19V7.82843L16.1716 5H5V19H7ZM4 3H17L21 7V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM9 15V19H15V15H9Z"},child:[]}]})(t)}function Ej(t){return Ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.4144 5H20.0002C20.5525 5 21.0002 5.44772 21.0002 6V7H3.00017V4C3.00017 3.44772 3.44789 3 4.00017 3H11.4144L13.4144 5ZM3.08697 9H20.9134C21.4657 9 21.9134 9.44772 21.9134 10C21.9134 10.0277 21.9122 10.0554 21.9099 10.083L21.0766 20.083C21.0334 20.6013 20.6001 21 20.08 21H3.9203C3.40021 21 2.96695 20.6013 2.92376 20.083L2.09042 10.083C2.04456 9.53267 2.45355 9.04932 3.00392 9.00345C3.03155 9.00115 3.05925 9 3.08697 9Z"},child:[]}]})(t)}function cI(t){return Ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8ZM6 10V20H18V10H6ZM9 12H11V18H9V12ZM13 12H15V18H13V12ZM7 5V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V5H22V7H2V5H7ZM9 4V5H15V4H9Z"},child:[]}]})(t)}const Kr=({onChange:t})=>f.jsx("div",{className:"flex items-center justify-center w-full mt-10",children:f.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-auto border-2 border-gray-400 shadow-sm border-dashed rounded-md cursor-pointer bg-white",children:[f.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[f.jsx(Ej,{className:"w-20 h-20 mb-4 text-purple-700 bg-purple-300 p-4 rounded-full"}),f.jsx("p",{className:"mb-2 text-sm text-gray-700 font-semibold",children:"Haga clic para cargar sus imágenes"}),f.jsx("p",{className:"text-xs text-gray-700",children:"PNG, JPG, JPEG (MAX. 1 IMÁGENES)"})]}),f.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",onChange:t})]})}),Gr=({textButton:t})=>f.jsxs("button",{type:"submit",className:"flex items-center gap-1 bg-gray-900 text-white p-2 rounded mt-5",children:[f.jsx("span",{children:t}),f.jsx(_j,{})]}),bj=()=>{const t=We(),[e,n]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(""),[a,l]=B.useState(""),[u,h]=B.useState(""),[g,y]=B.useState(""),[_,x]=B.useState(null),{imagenUrl:C,error:S,uploadImage:b,uploading:A}=Wr("experiences"),[T,P]=B.useState(""),V=async k=>{if(k.preventDefault(),a&&new Date(a)<new Date(i)){st.fire({titleText:"Error fecha",text:"La fecha de fin no puede ser anterior a la fecha de inicio",icon:"error",position:"center",heightAuto:"false"});return}try{let I="";_&&(I=await b(_));const L={cargo:e,empresa:r,fechaInicio:i,fechaFin:a||"actualidad",lugar:u,descripcion:g,imagenUrl:I,createdAt:Hn()};await la(oi(Xe,"experiencias"),L),t("/access/admin/list-experience"),st.fire({titleText:"Datos Enviados correctamente",text:"Experiencia agregada exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(I){console.error("Error al agregar experiencia:",I)}},F=k=>{if(k.target.files&&k.target.files[0]){const I=k.target.files[0];x(I);const L=URL.createObjectURL(I);P(L)}};return f.jsxs("form",{onSubmit:V,className:"bg-white p-6 rounded-md shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Agregar Experiencia"}),S&&f.jsx("p",{className:"text-red-500 mb-4",children:S}),f.jsx(we,{textLabel:"Cargo",type:"text",placeholder:"Ingresa el cargo",value:e,onChange:k=>n(k.target.value)}),f.jsx(we,{textLabel:"Empresa",type:"text",placeholder:"Ingresa la empresa",value:r,onChange:k=>s(k.target.value)}),f.jsx(we,{textLabel:"Fecha de inicio",type:"date",placeholder:"Ingresa la empresa",value:i,onChange:k=>o(k.target.value)}),f.jsx(we,{textLabel:"Fecha de finalización",type:"date",placeholder:"Ingresa la empresa",value:a,onChange:k=>l(k.target.value)}),f.jsx(we,{textLabel:"Ubicación",type:"text",placeholder:"Ingresa la ubicación",value:u,onChange:k=>h(k.target.value)}),f.jsx(Ja,{textLabel:"Descripción",placeholder:"Escribe tus funciones aquí...",value:g,onChange:k=>y(k.target.value)}),f.jsx(Kr,{onChange:F}),f.jsxs("div",{className:"flex justify-center border w-full",children:[A&&f.jsx("p",{children:"Cargando imagen..."}),T&&!A&&f.jsx("img",{src:T,alt:"Vista previa",className:"w-40 mb-4"})]}),f.jsx(Gr,{textButton:"Agregar Experiencia"})]})},xj=()=>{const t=We(),[e,n]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(""),[a,l]=B.useState(""),[u,h]=B.useState(null),{imagenUrl:g,error:y,uploadImage:_,uploading:x}=Wr("educacion"),[C,S]=B.useState(""),b=async T=>{if(T.preventDefault(),a&&new Date(a)<new Date(i)){st.fire({titleText:"Error fecha",text:"La fecha de fin no puede ser anterior a la fecha de inicio",icon:"error",position:"center",heightAuto:"false"});return}try{let P="";if(u&&(P=await _(u),!P))throw st.fire({titleText:"Error",text:"Error al cargar la imagen",icon:"error",position:"center",heightAuto:"false"}),new Error("Error al cargar la imagen");const V={universidad:e,carrera:r,fechaInicio:i,fechaFin:a,imagenUrl:P,createdAt:Hn()};await la(oi(Xe,"educacion"),V),t("/access/admin/list-education"),st.fire({titleText:"Datos Enviados correctamente",text:"Educación agregada exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(P){console.error("Error al agregar educación:",P),st.fire({titleText:"Error",text:"Hubo un problema al agregar la educación. Por favor, inténtalo de nuevo.",icon:"error",position:"center",heightAuto:!1})}},A=T=>{if(T.target.files&&T.target.files[0]){const P=T.target.files[0];h(P);const V=URL.createObjectURL(P);S(V)}};return f.jsxs("form",{onSubmit:b,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Agregar Educación"}),f.jsx(we,{textLabel:"Universidad",type:"text",placeholder:"Ingresa la universidad de estudio",value:e,onChange:T=>n(T.target.value)}),f.jsx(we,{textLabel:"Carrera/Profesión",type:"text",placeholder:"Ingresa su profesión de estudio",value:r,onChange:T=>s(T.target.value)}),f.jsx(we,{textLabel:"Fecha de inicio",type:"date",value:i,onChange:T=>o(T.target.value)}),f.jsx(we,{textLabel:"Fecha de finalización",type:"date",value:a,onChange:T=>l(T.target.value)}),f.jsx(Kr,{onChange:A}),f.jsx("div",{className:"flex justify-center border w-full",children:u&&(x?f.jsx("p",{children:"Cargando imagen..."}):f.jsx("img",{src:C,alt:"Vista previa",className:"w-40 mb-4"}))}),f.jsx(Gr,{textButton:"Agregar Educación"})]})},Tj=()=>{const t=We(),[e,n]=B.useState(""),[r,s]=B.useState(""),i=async o=>{o.preventDefault();try{const a={nombre:e,url:r,createdAt:Hn()};await la(oi(Xe,"certificaciones"),a),t("/access/admin/list-certification"),st.fire({titleText:"Datos Enviados correctamente",text:"Certificación agregada exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(a){console.error("Error al agregar certificación:",a)}};return f.jsxs("form",{onSubmit:i,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Agregar Certificación"}),f.jsx(we,{textLabel:"Nombre certificación",placeholder:"Ingresa el nombre de la certificación",type:"text",value:e,onChange:o=>n(o.target.value)}),f.jsx(we,{textLabel:"Url certificación",placeholder:"Ingresa url de la certificación",type:"url",value:r,onChange:o=>s(o.target.value)}),f.jsx(Gr,{textButton:"Agregar certificación"})]})},Aj=()=>{const t=We(),[e,n]=B.useState(""),[r,s]=B.useState(null),{imagenUrl:i,error:o,uploadImage:a,uploading:l}=Wr("conocimientos"),[u,h]=B.useState(""),g=async _=>{_.preventDefault();try{let x="";if(r&&(x=await a(r),!x))throw st.fire({titleText:"Error",text:"Error al cargar la imagen",icon:"error",position:"center",heightAuto:"false"}),new Error("Error al cargar la imagen");const C={nombre:e,imagenUrl:x,createdAt:Hn()};await la(oi(Xe,"conocimientos"),C),t("/access/admin/list-knowledge"),st.fire({titleText:"Datos Enviados correctamente",text:"Conocimiento agregado exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch{}},y=_=>{if(_.target.files&&_.target.files[0]){const x=_.target.files[0];s(x);const C=URL.createObjectURL(x);h(C)}};return f.jsxs("form",{onSubmit:g,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Agregar Conocimiento"}),f.jsx(we,{textLabel:"Conocimiento/tecnología",placeholder:"Nombre del Conocimiento",type:"text",value:e,onChange:_=>n(_.target.value)}),f.jsx(Kr,{onChange:y}),f.jsx("div",{className:"flex justify-center border w-full",children:r&&(l?f.jsx("p",{children:"Cargando imagen..."}):f.jsx("img",{src:u,alt:"Vista previa",className:"w-40 mb-4"}))}),f.jsx(Gr,{textButton:"Agregar conocimiento"})]})},Ij=()=>{const t=We(),[e,n]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(""),[a,l]=B.useState(""),[u,h]=B.useState(null),{imagenUrl:g,error:y,uploadImage:_,uploading:x}=Wr("proyectos"),[C,S]=B.useState(""),b=async T=>{T.preventDefault();try{let P="";if(u&&(P=await _(u),!P))throw st.fire({titleText:"Error",text:"Error al cargar la imagen",icon:"error",position:"center",heightAuto:"false"}),new Error("Error al cargar la imagen");const V={nombre:e,descripcion:r,tags:i.split(","),url:a,imagenUrl:P,createdAt:Hn()};await la(oi(Xe,"proyectos"),V),console.log(V),t("/access/admin/list-projects"),st.fire({titleText:"Datos Enviados correctamente",text:"Proyecto agregado exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(P){console.error("Error al agregar un proyecto:",P)}},A=T=>{if(T.target.files&&T.target.files[0]){const P=T.target.files[0];h(P);const V=URL.createObjectURL(P);S(V)}};return f.jsxs("form",{onSubmit:b,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Agregar Proyecto"}),f.jsx(we,{textLabel:"Nombre del Proyecto",type:"text",placeholder:"Ingresa el nombre de tu proyecto",value:e,onChange:T=>n(T.target.value)}),f.jsx(Ja,{textLabel:"Descripción",placeholder:"Escribe la descripción de tu proyecto aqui",value:r,onChange:T=>s(T.target.value)}),f.jsx(we,{textLabel:"Tags/Tecnologías usadas",type:"text",placeholder:"Escribe las tecnologías usadas en el proyecto(separados por comas)",value:i,onChange:T=>o(T.target.value)}),f.jsx(we,{textLabel:"Url del Proyecto",type:"url",placeholder:"Ingresa la url de tu proyecto",value:a,onChange:T=>l(T.target.value)}),f.jsx(Kr,{onChange:A}),f.jsx("div",{className:"flex justify-center border w-full",children:u&&(x?f.jsx("p",{children:"Cargando imagen..."}):f.jsx("img",{src:C,alt:"Vista previa",className:"w-40 mb-4"}))}),f.jsx(Gr,{textButton:"Agregar Proyecto"})]})},Sj=()=>{const[t,e]=B.useState(""),[n,r]=B.useState(""),[s,i]=B.useState(""),[o,a]=B.useState(""),l=We(),[u,h]=B.useState(null),{imagenUrl:g,error:y,uploadImage:_,uploading:x}=Wr("perfil"),[C,S]=B.useState(""),b=async T=>{T.preventDefault();try{let P="";u&&(P=await _(u));const V={nombre:t,descripcion:n,contacto:s,email:o,imagenUrl:P,createdAt:Hn()};await la(oi(Xe,"perfil"),V),l("/access/admin/perfil-admin"),st.fire({titleText:"Datos Enviados correctamente",text:"Perfil agregado exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(P){console.error("Error al agregar información de perfil:",P)}},A=T=>{if(T.target.files&&T.target.files[0]){const P=T.target.files[0];h(P);const V=URL.createObjectURL(P);S(V)}};return f.jsxs("form",{onSubmit:b,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Agregar Información de Perfil"}),f.jsx(we,{textLabel:"Nombre",type:"text",placeholder:"Ingresa tu nombre",value:t,onChange:T=>e(T.target.value)}),f.jsx(Ja,{textLabel:"Descripción de perfil",placeholder:"Descripción de perfil",value:n,onChange:T=>r(T.target.value)}),f.jsx(we,{textLabel:"Contacto/número",type:"text",placeholder:"Ingresa tus contactos",value:s,onChange:T=>i(T.target.value)}),f.jsx(we,{textLabel:"Email",type:"email",placeholder:"Ingresa tu email",value:o,onChange:T=>a(T.target.value)}),f.jsx(Kr,{onChange:A}),f.jsxs("div",{className:"flex justify-center border w-full",children:[x&&f.jsx("p",{children:"Cargando imagen..."}),C&&!x&&f.jsx("img",{src:C,alt:"Vista previa",className:"w-40 mb-4"})]}),f.jsx(Gr,{textButton:"Agregar Perfil"})]})};function Cj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(t)}function Nj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"},child:[]}]})(t)}function kj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},child:[]}]})(t)}function Rj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(t)}function Pj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"},child:[]}]})(t)}function Lj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 3h5m0 0v5m0-5l-6 6M5 3a2 2 0 00-2 2v1c0 8.284 6.716 15 15 15h1a2 2 0 002-2v-3.28a1 1 0 00-.684-.948l-4.493-1.498a1 1 0 00-1.21.502l-1.13 2.257a11.042 11.042 0 01-5.516-5.517l2.257-1.128a1 1 0 00.502-1.21L9.228 3.683A1 1 0 008.279 3H5z"},child:[]}]})(t)}function Oj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},child:[]}]})(t)}function Dj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"},child:[]}]})(t)}function uI(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function jj(t){return Ue({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"},child:[]}]})(t)}function Mj(t){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(t)}const cn=t=>{const[e,n]=B.useState([]),[r,s]=B.useState(!0),[i,o]=B.useState(null);return B.useEffect(()=>{const l=k6(oi(Xe,t),R6("createdAt","desc")),u=M6(l,h=>{const g=h.docs.map(y=>({id:y.id,...y.data()}));n(g),s(!1)},h=>{o(h),s(!1)});return()=>u()},[t]),{data:e,loading:r,error:i,handleDelete:async(l,u)=>{try{if(await j6(ln(Xe,t,l)),u){const h=tI(nI,u);await GD(h)}alert("Elemento eliminado correctamente")}catch(h){console.error("Error al eliminar el elemento:",h)}}}},Vj=()=>{const{data:t}=cn("emails"),{data:e}=cn("perfil"),n=[{href:"/access/admin/perfil-admin",name:"Perfil",icon:f.jsx(uI,{className:"w-5 h-5"})},{href:"/access/admin/list-experience",name:"Experiencia",icon:f.jsx(Nj,{className:"w-5 h-5"})},{href:"/access/admin/list-education",name:"Educación",icon:f.jsx(vj,{className:"w-5 h-5"})},{href:"/access/admin/list-knowledge",name:"Conocimientos",icon:f.jsx(Oj,{className:"w-5 h-5"})},{href:"/access/admin/list-certification",name:"Certificaciones",icon:f.jsx(Pj,{className:"w-5 h-5"})},{href:"/access/admin/list-projects",name:"Proyectos",icon:f.jsx(jj,{className:"w-5 h-5"})},{href:"/access/admin/list-blogs",name:"Blogs",icon:f.jsx(Cj,{className:"w-5 h-5"})}],r=[{href:"/access/admin/list-emails",name:"Emails recibidos",icon:f.jsx(Rj,{className:"w-5 h-5"}),count:t.length}],s=sI(),i=B.useRef(),[o,a]=B.useState(!1),l=We();B.useEffect(()=>{const h=g=>{i.current&&!i.current.contains(g.target)&&a(!1)};document.addEventListener("click",h)},[]),B.useEffect(()=>{st.fire({position:"top-end",icon:"success",title:"Nuevo correo",showConfirmButton:!1,timer:1e3})},[t]);const u=async()=>{await w5(Np),l("/authentication/login/user")};return f.jsx(f.Fragment,{children:f.jsx("nav",{className:"fixed top-0 left-0 w-full h-full border-r bg-white space-y-8 sm:w-80",children:f.jsxs("div",{className:"flex flex-col h-full px-4",children:[f.jsx("div",{className:"h-20 flex items-center pl-2",children:f.jsxs("div",{className:"w-full flex items-center gap-x-4",children:[e.map(h=>f.jsxs("div",{className:"w-full flex items-center gap-2",children:[f.jsx("img",{src:h.imagenUrl,className:"w-10 h-10 rounded-full"}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-gray-800 text-sm font-bold",children:h.nombre}),f.jsx("span",{className:"block mt-px text-gray-600 text-xs",children:h.contacto})]})]},h.id)),f.jsxs("div",{className:"relative flex-1 text-right",children:[f.jsx("button",{ref:i,className:"p-1.5 rounded-md text-gray-500 hover:bg-gray-50 active:bg-gray-100",onClick:()=>a(!o),children:f.jsx(Mj,{className:"w-5 h-5"})}),o?f.jsx("div",{className:"absolute z-10 top-12 right-0 w-64 rounded-lg bg-white shadow-md border text-sm text-gray-600",children:f.jsxs("div",{className:"p-2 text-left",children:[f.jsx("span",{className:"block text-slate-900 font-bold p-2",children:s.email}),f.jsx("button",{onClick:u,className:"block w-full p-2 bg-red-600 text-slate-200 font-bold text-left rounded-md",children:"Cerrar sesión"})]})}):""]})]})}),f.jsxs("div",{className:"overflow-auto",children:[f.jsx("ul",{className:"text-sm font-medium flex-1",children:n.map((h,g)=>f.jsx("li",{className:"mb-1",children:f.jsxs(sc,{to:h.href,className:({isActive:y})=>`flex items-center gap-x-2 p-2 rounded-lg duration-150 ${y?"bg-gray-900 text-slate-300":"text-slate-500 hover:bg-gray-900 hover:text-slate-300"}`,children:[f.jsx("span",{className:"text-gray-500",children:h.icon}),h.name]})},g))}),f.jsx("div",{className:"pt-2 mt-2 border-t",children:f.jsx("ul",{className:"text-sm font-medium",children:r.map((h,g)=>f.jsx("li",{children:f.jsxs(sc,{to:h.href,className:({isActive:y})=>`flex items-center gap-x-2 p-2 rounded-lg duration-150 ${y?"bg-gray-900 text-slate-300":"text-slate-500 hover:bg-gray-900 hover:text-slate-300"}`,children:[f.jsx("span",{className:"text-gray-500",children:h.icon}),h.name,h.count>0&&f.jsx("span",{className:"ml-2 flex items-center justify-center w-5 h-5 text-white font-bold bg-red-500 rounded-full",children:h.count})]})},g))})})]})]})})})},Uj=()=>(sI(),We(),f.jsxs("section",{className:"flex flex-row bg-gray-100",children:[f.jsx("div",{className:"basis-1/4",children:f.jsx(Vj,{})}),f.jsxs("div",{className:"basis-3/4 pe-10 min-h-screen",children:[f.jsx("h1",{className:"my-5 text-4xl uppercase font-black text-purple-700",children:"Panel de Administración"}),f.jsx(xx,{})]})]}));function Nm(t){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 64H96c-17.7 0-32 14.3-32 32v320c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-52.5 134.5L229.8 332.8h-.1c-1.7 1.7-6.3 5.5-11.6 5.5-3.8 0-8.1-2.1-11.7-5.7l-56-56c-1.6-1.6-1.6-4.1 0-5.7l17.8-17.8c.8-.8 1.8-1.2 2.8-1.2 1 0 2 .4 2.8 1.2l44.4 44.4 122-122.9c.8-.8 1.8-1.2 2.8-1.2 1.1 0 2.1.4 2.8 1.2l17.5 18.1c1.8 1.7 1.8 4.2.2 5.8z"},child:[]}]})(t)}function Bj(t){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"},child:[]}]})(t)}function Fj(t){return Ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"path",attr:{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z"},child:[]}]})(t)}const Za=({onEdit:t,onDelete:e})=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:t,className:"text-blue-500 text-2xl hover:text-blue-700",children:f.jsx(Fj,{})}),f.jsx("button",{onClick:e,className:"text-red-500 text-2xl hover:text-red-700",children:f.jsx(cI,{})})]}),el=({to:t,buttonText:e})=>f.jsx("div",{className:"flex space-x-2",children:f.jsxs(hh,{to:t,className:"flex items-center bg-purple-700 py-1 px-3 rounded text-slate-200 font-bold",children:[f.jsx(Bj,{className:"w-6 h-6"}),f.jsx("span",{children:e})]})}),qj=()=>{const{data:t,handleDelete:e}=cn("experiencias"),n=We(),r=s=>{n(`/access/admin/edit-experience/${s}`)};return f.jsxs("div",{className:"my-8 bg-white shadow-md rounded-md py-4 px-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 my-3",children:"Experiencias Laborales"}),f.jsx(el,{to:"/access/admin/add-experience",buttonText:"Agregar Experiencia"})]}),f.jsx("div",{className:"mt-4 space-y-6",children:t.map(s=>f.jsxs("div",{className:"flex justify-between items-start space-x-4 border p-4 broder-gray-400 rounded shadow",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium",children:s.cargo}),f.jsx("p",{className:"text-gray-600",children:s.empresa}),f.jsxs("p",{className:"text-gray-500 text-sm",children:[s.fechaInicio," - ",s.fechaFin]}),f.jsx("p",{className:"text-gray-500 text-sm",children:s.lugar})]}),f.jsx(Za,{onEdit:()=>r(s.id),onDelete:()=>e(s.id,s.imagenUrl)})]},s.id))})]})},$j=()=>{const{data:t,handleDelete:e}=cn("educacion"),n=We(),r=s=>{n(`/access/admin/edit-education/${s}`)};return f.jsxs("div",{className:"my-8 bg-white shadow-md rounded-md py-4 px-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 my-3",children:"Educacion"}),f.jsx(el,{to:"/access/admin/add-education",buttonText:"Agregar Educacion"})]}),f.jsx("div",{className:"mt-4 space-y-6",children:t.map(s=>f.jsxs("div",{className:"flex justify-between space-x-4 items-start border p-4 rounded broder-gray-400 shadow",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium",children:s.universidad}),f.jsx("p",{className:"text-gray-600",children:s.carrera}),f.jsxs("p",{className:"text-gray-500 text-sm",children:[s.fechaInicio," - ",s.fechaFin]})]}),f.jsx(Za,{onEdit:()=>r(s.id),onDelete:()=>e(s.id,s.imagenUrl)})]},s.id))})]})},zj=()=>{const{data:t,handleDelete:e}=cn("perfil"),n=We(),r=s=>{n(`/access/admin/edit-perfil/${s}`)};return f.jsxs("div",{className:"my-8 bg-white shadow-md rounded-md py-4 px-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 my-3",children:"Perfil"}),f.jsx(el,{to:"/access/admin/add-perfil",buttonText:"Agregar Perfil"})]}),f.jsx("div",{className:"mt-4 space-y-6",children:t.map(s=>f.jsxs("div",{children:[f.jsx("img",{src:s.imagenUrl,alt:"imagen empresa",className:"w-32 h-32 object-contain"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h4",{className:"text-3xl font-bold my-2",children:s.nombre}),f.jsx(Za,{onEdit:()=>r(s.id),onDelete:()=>e(s.id,s.imagenUrl)})]}),f.jsx("p",{className:"text-gray-600 my-2",children:s.descripcion}),f.jsx("p",{className:"text-slate-900 text-sm font-bold",children:s.email}),f.jsx("p",{className:"text-slate-900 text-sm font-bold",children:s.contacto})]},s.id))})]})};function Hj(t){return Ue({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}const Wj=()=>{const{data:t,handleDelete:e}=cn("proyectos"),n=We(),r=s=>{n(`/access/admin/edit-project/${s}`)};return f.jsxs("div",{className:"my-8 bg-white shadow-md rounded-md py-4 px-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 my-3",children:"Proyectos"}),f.jsx(el,{to:"/access/admin/add-project",buttonText:"Agregar Proyecto"})]}),f.jsx("div",{className:"mt-4 space-y-6",children:t.map(s=>f.jsxs("div",{className:"flex justify-between items-start space-x-4 border broder-gray-400 rounded shadow p-4",children:[f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("img",{src:s.imagenUrl,alt:"imagen empresa",className:"w-20 h-20 object-contain"}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium",children:s.nombre}),f.jsx("div",{children:s.tags&&s.tags.length>0&&f.jsx("ul",{className:"flex space-x-2 mt-2",children:s.tags.map((i,o)=>f.jsx("li",{className:"bg-purple-100 text-purple-800 text-xs font-medium px-2 py-1 rounded",children:i.trim()},o))})}),f.jsx("div",{className:"pt-2",children:f.jsxs("a",{href:s.url,className:"flex items-center gap-1 text-gray-700 rounded text-sm",children:[f.jsx("span",{children:"Ver proyecto"}),f.jsx(Hj,{})]})})]})]}),f.jsx(Za,{onEdit:()=>r(s.id),onDelete:()=>e(s.id,s.imagenUrl)})]},s.id))})]})},Kj=()=>{const{data:t,handleDelete:e}=cn("conocimientos"),n=We(),r=s=>{n(`/access/admin/edit-knowledge/${s}`)};return f.jsxs("div",{className:"my-8 bg-white shadow-md rounded-md py-4 px-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 my-3",children:"Conocimientos"}),f.jsx(el,{to:"/access/admin/add-knowledge",buttonText:"Agregar Conocimiento"})]}),f.jsx("div",{className:"mt-4 space-y-6 flex items-center gap-5 w-full",children:f.jsx("div",{className:"shadow-sm border rounded-lg overflow-x-auto w-full",children:f.jsxs("table",{className:"w-full table-auto text-sm text-left",children:[f.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium border-b",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-3 px-6",children:"Imagen Tecnología"}),f.jsx("th",{className:"py-3 px-6",children:"Nombre Tecnología"}),f.jsx("th",{className:"py-3 px-6",children:"Acción"})]})}),f.jsx("tbody",{className:"text-gray-600 divide-y",children:t.map(s=>f.jsxs("tr",{children:[f.jsx("td",{className:"flex items-center gap-x-3 py-3 px-6 whitespace-nowrap",children:f.jsx("img",{src:s.imagenUrl,className:"w-10 h-10 rounded"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.nombre}),f.jsx("td",{className:"ps-5",children:f.jsx(Za,{onEdit:()=>r(s.id),onDelete:()=>e(s.id,s.imagenUrl)})})]},s.id))})]})})})]})},Gj=()=>{const{data:t,handleDelete:e}=cn("certificaciones"),n=We(),r=s=>{n(`/access/admin/edit-certification/${s}`)};return f.jsxs("div",{className:"my-8 bg-white shadow-md rounded-md py-4 px-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 my-3",children:"Certificaciones"}),f.jsx(el,{to:"/access/admin/add-certification",buttonText:"Agregar certificación"})]}),f.jsx("div",{className:"mt-4 space-y-6 flex items-center gap-5 w-full",children:f.jsx("div",{className:"shadow-sm border rounded-lg overflow-x-auto w-full",children:f.jsxs("table",{className:"w-full table-auto text-sm text-left",children:[f.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium border-b",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-3 px-6",children:"nombre de certificación"}),f.jsx("th",{className:"py-3 px-6",children:"url certificación"}),f.jsx("th",{className:"py-3 px-6",children:"Acción"})]})}),f.jsx("tbody",{className:"text-gray-600 divide-y",children:t.map(s=>f.jsxs("tr",{children:[f.jsx("td",{className:"flex items-center gap-x-3 py-3 px-6 whitespace-wrap",children:s.nombre}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.url}),f.jsx("td",{className:"ps-5 whitespace-nowrap",children:f.jsx(Za,{onEdit:()=>r(s.id),onDelete:()=>e(s.id,s.imagenUrl)})})]},s.id))})]})})})]})},Qj=()=>{const{id:t}=ra(),[e,n]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(""),[a,l]=B.useState(""),[u,h]=B.useState(""),g=We(),[y,_]=B.useState(null),{uploadImage:x,uploading:C}=Wr("perfil"),[S,b]=B.useState("");B.useEffect(()=>{(async()=>{const V=ln(Xe,"perfil",t),F=await aa(V);if(F.exists()){const k=F.data();n(k.nombre),s(k.descripcion),o(k.contacto),l(k.email),h(k.imagenUrl),b(k.imagenUrl)}})()},[t]);const A=async P=>{P.preventDefault();try{let V=u;y&&(V=await x(y));const F={nombre:e,descripcion:r,contacto:i,email:a,imagenUrl:V,createdAt:Hn()};await Xa(ln(Xe,"perfil",t),F),g("/access/admin/perfil-admin"),st.fire({titleText:"Datos actualizados correctamente",text:"Perfil editado exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(V){console.error("Error al actualizar información de perfil:",V)}},T=P=>{if(P.target.files&&P.target.files[0]){const V=P.target.files[0];_(V);const F=URL.createObjectURL(V);b(F)}};return f.jsxs("form",{onSubmit:A,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Editar Información de Perfil"}),f.jsx(we,{textLabel:"Nombre",type:"text",placeholder:"Ingresa tu nombre",value:e,onChange:P=>n(P.target.value)}),f.jsx(Ja,{textLabel:"Descripción de perfil",placeholder:"Descripción de perfil",value:r,onChange:P=>s(P.target.value)}),f.jsx(we,{textLabel:"Contacto/número",type:"text",placeholder:"Ingresa tus contactos",value:i,onChange:P=>o(P.target.value)}),f.jsx(we,{textLabel:"Email",type:"email",placeholder:"Ingresa tu email",value:a,onChange:P=>l(P.target.value)}),f.jsx(Kr,{onChange:T}),f.jsxs("div",{className:"flex justify-center border w-full",children:[C&&f.jsx("p",{children:"Cargando imagen..."}),S&&!C&&f.jsx("img",{src:S,alt:"Vista previa",className:"w-40 mb-4"})]}),f.jsx(Gr,{textButton:"Actualizar Perfil"})]})},Yj=()=>{const{id:t}=ra(),[e,n]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(""),[a,l]=B.useState(""),[u,h]=B.useState(""),[g,y]=B.useState(""),[_,x]=B.useState(""),C=We(),[S,b]=B.useState(null),{uploadImage:A,uploading:T}=Wr("experiences"),[P,V]=B.useState("");B.useEffect(()=>{(async()=>{const L=ln(Xe,"experiencias",t),D=await aa(L);if(D.exists()){const U=D.data();n(U.cargo),s(U.empresa),o(U.fechaInicio),l(U.fechaFin),h(U.lugar),y(U.descripcion),x(U.imagenUrl),V(U.imagenUrl)}})()},[t]);const F=async I=>{I.preventDefault();try{let L=_;S&&(L=await A(S));const D={cargo:e,empresa:r,fechaInicio:i,fechaFin:a,lugar:u,descripcion:g,imagenUrl:L,createdAt:Hn()};await Xa(ln(Xe,"experiencias",t),D),C("/access/admin/list-experience"),st.fire({titleText:"Datos actualizados correctamente",text:"Experiencia editado exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(L){console.error("Error al actualizar información de experiencia:",L)}},k=I=>{if(I.target.files&&I.target.files[0]){const L=I.target.files[0];b(L);const D=URL.createObjectURL(L);V(D)}};return f.jsxs("form",{onSubmit:F,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Editar Información de Perfil"}),f.jsx(we,{textLabel:"Cargo",type:"text",placeholder:"Ingresa el cargo",value:e,onChange:I=>n(I.target.value)}),f.jsx(we,{textLabel:"Empresa",type:"text",placeholder:"Ingresa la empresa",value:r,onChange:I=>s(I.target.value)}),f.jsx(we,{textLabel:"Fecha de inicio",type:"date",placeholder:"Ingresa la empresa",value:i,onChange:I=>o(I.target.value)}),f.jsx(we,{textLabel:"Fecha de finalización",type:"date",placeholder:"Ingresa la empresa",value:a,onChange:I=>l(I.target.value)}),f.jsx(we,{textLabel:"Ubicación",type:"text",placeholder:"Ingresa la ubicación",value:u,onChange:I=>h(I.target.value)}),f.jsx(Ja,{textLabel:"Descripción",placeholder:"Escribe tus funciones aquí...",value:g,onChange:I=>y(I.target.value)}),f.jsx(Kr,{onChange:k}),f.jsxs("div",{className:"flex justify-center border w-full",children:[T&&f.jsx("p",{children:"Cargando imagen..."}),P&&!T&&f.jsx("img",{src:P,alt:"Vista previa",className:"w-40 mb-4"})]}),f.jsx(Gr,{textButton:"Actualizar Experiencia"})]})},Xj=()=>{const{id:t}=ra(),[e,n]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(""),[a,l]=B.useState(""),[u,h]=B.useState(""),g=We(),[y,_]=B.useState(null),{uploadImage:x,uploading:C}=Wr("educacion"),[S,b]=B.useState("");B.useEffect(()=>{(async()=>{const V=ln(Xe,"educacion",t),F=await aa(V);if(F.exists()){const k=F.data();n(k.universidad),s(k.carrera),o(k.fechaInicio),l(k.fechaFin),h(k.imagenUrl),b(k.imagenUrl)}})()},[t]);const A=async P=>{P.preventDefault();try{let V=u;y&&(V=await x(y));const F={universidad:e,carrera:r,fechaInicio:i,fechaFin:a,imagenUrl:V,createdAt:Hn()};await Xa(ln(Xe,"educacion",t),F),g("/access/admin/list-education"),st.fire({titleText:"Datos actualizados correctamente",text:"Educación editado exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(V){console.error("Error al actualizar información de educación:",V)}},T=P=>{if(P.target.files&&P.target.files[0]){const V=P.target.files[0];_(V);const F=URL.createObjectURL(V);b(F)}};return f.jsxs("form",{onSubmit:A,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Editar Información de Perfil"}),f.jsx(we,{textLabel:"Universidad",type:"text",placeholder:"Ingresa la universidad de estudio",value:e,onChange:P=>n(P.target.value)}),f.jsx(we,{textLabel:"Carrera/Profesión",type:"text",placeholder:"Ingresa su profesión de estudio",value:r,onChange:P=>s(P.target.value)}),f.jsx(we,{textLabel:"Fecha de inicio",type:"date",value:i,onChange:P=>o(P.target.value)}),f.jsx(we,{textLabel:"Fecha de finalización",type:"date",value:a,onChange:P=>l(P.target.value)}),f.jsx(Kr,{onChange:T}),f.jsxs("div",{className:"flex justify-center border w-full",children:[C&&f.jsx("p",{children:"Cargando imagen..."}),S&&!C&&f.jsx("img",{src:S,alt:"Vista previa",className:"w-40 mb-4"})]}),f.jsx(Gr,{textButton:"Actualizar Educación"})]})},Jj=()=>{const{id:t}=ra(),[e,n]=B.useState(""),[r,s]=B.useState(""),i=We(),[o,a]=B.useState(null),{uploadImage:l,uploading:u}=Wr("conocimentos"),[h,g]=B.useState("");B.useEffect(()=>{(async()=>{const C=ln(Xe,"conocimientos",t),S=await aa(C);if(S.exists()){const b=S.data();n(b.nombre),s(b.imagenUrl),g(b.imagenUrl)}})()},[t]);const y=async x=>{x.preventDefault();try{let C=r;o&&(C=await l(o));const S={nombre:e,imagenUrl:C,createdAt:Hn()};await Xa(ln(Xe,"conocimientos",t),S),i("/access/admin/list-knowledge"),st.fire({titleText:"Datos actualizados correctamente",text:"Tech editado exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(C){console.error("Error al actualizar información de conocimiento:",C)}},_=x=>{if(x.target.files&&x.target.files[0]){const C=x.target.files[0];a(C);const S=URL.createObjectURL(C);g(S)}};return f.jsxs("form",{onSubmit:y,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Editar Información de Perfil"}),f.jsx(we,{textLabel:"Conocimiento/tecnología",placeholder:"Nombre del Conocimiento",type:"text",value:e,onChange:x=>n(x.target.value)}),f.jsx(Kr,{onChange:_}),f.jsxs("div",{className:"flex justify-center border w-full",children:[u&&f.jsx("p",{children:"Cargando imagen..."}),h&&!u&&f.jsx("img",{src:h,alt:"Vista previa",className:"w-40 mb-4"})]}),f.jsx(Gr,{textButton:"Actualizar Conocimiento"})]})},Zj=()=>{const{id:t}=ra(),[e,n]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(""),[a,l]=B.useState(""),[u,h]=B.useState(""),g=We(),[y,_]=B.useState(null),{uploadImage:x,uploading:C}=Wr("proyectos"),[S,b]=B.useState("");B.useEffect(()=>{(async()=>{const V=ln(Xe,"proyectos",t),F=await aa(V);if(F.exists()){const k=F.data();n(k.nombre),s(k.descripcion),o(k.tags),l(k.url),h(k.imagenUrl),b(k.imagenUrl)}})()},[t]);const A=async P=>{P.preventDefault();try{let V=u;y&&(V=await x(y));const F={nombre:e,descripcion:r,tags:i.split(","),url:a,imagenUrl:V,createdAt:Hn()};await Xa(ln(Xe,"proyectos",t),F),g("/access/admin/list-projects"),st.fire({titleText:"Datos actualizados correctamente",text:"Proyecto editado exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(V){console.error("Error al actualizar información de proyecto:",V)}},T=P=>{if(P.target.files&&P.target.files[0]){const V=P.target.files[0];_(V);const F=URL.createObjectURL(V);b(F)}};return f.jsxs("form",{onSubmit:A,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Editar Información de Perfil"}),f.jsx(we,{textLabel:"Nombre del Proyecto",type:"text",placeholder:"Ingresa el nombre de tu proyecto",value:e,onChange:P=>n(P.target.value)}),f.jsx(Ja,{textLabel:"Descripción",placeholder:"Escribe la descripción de tu proyecto aqui",value:r,onChange:P=>s(P.target.value)}),f.jsx(we,{textLabel:"Tags/Tecnologías usadas",type:"text",placeholder:"Escribe las tecnologías usadas en el proyecto(separados por comas)",value:i,onChange:P=>o(P.target.value)}),f.jsx(we,{textLabel:"Url del Proyecto",type:"url",placeholder:"Ingresa la url de tu proyecto",value:a,onChange:P=>l(P.target.value)}),f.jsx(Kr,{onChange:T}),f.jsxs("div",{className:"flex justify-center border w-full",children:[C&&f.jsx("p",{children:"Cargando imagen..."}),S&&!C&&f.jsx("img",{src:S,alt:"Vista previa",className:"w-40 mb-4"})]}),f.jsx(Gr,{textButton:"Actualizar proyecto"})]})},eM=()=>{const{id:t}=ra(),[e,n]=B.useState(""),[r,s]=B.useState(""),i=We();B.useEffect(()=>{(async()=>{const l=ln(Xe,"certificaciones",t),u=await aa(l);if(u.exists()){const h=u.data();n(h.nombre),s(h.url)}})()},[t]);const o=async a=>{a.preventDefault();try{const l={nombre:e,url:r,createdAt:Hn()};await Xa(ln(Xe,"certificaciones",t),l),i("/access/admin/list-certification"),st.fire({titleText:"Datos actualizados correctamente",text:"Certificacion editado exitosamente",icon:"success",position:"center",heightAuto:"false"})}catch(l){console.error("Error al actualizar información de certificacion:",l)}};return f.jsxs("form",{onSubmit:o,className:"bg-white p-6 rounded shadow-md",children:[f.jsx("h2",{className:"text-lg font-bold mb-4",children:"Editar Información de Perfil"}),f.jsx(we,{textLabel:"Nombre certificación",placeholder:"Ingresa el nombre de la certificación",type:"text",value:e,onChange:a=>n(a.target.value)}),f.jsx(we,{textLabel:"Url certificación",placeholder:"Ingresa url de la certificación",type:"url",value:r,onChange:a=>s(a.target.value)}),f.jsx(Gr,{textButton:"Actualizar certificacion"})]})};function hI(t){return Ue({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"},child:[]}]})(t)}function dI(t){return Ue({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"},child:[]},{tag:"path",attr:{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"},child:[]}]})(t)}function tM(t){return Ue({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877zm10.762.135a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L14.293 4H9.5a.5.5 0 0 1 0-1h4.793l-1.647-1.646a.5.5 0 0 1 0-.708"},child:[]}]})(t)}function nM(t){return Ue({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M12.5 1a.5.5 0 0 1 .5.5V3h1.5a.5.5 0 0 1 0 1H13v1.5a.5.5 0 0 1-1 0V4h-1.5a.5.5 0 0 1 0-1H12V1.5a.5.5 0 0 1 .5-.5"},child:[]}]})(t)}const rM=()=>{const[t,e]=B.useState(""),[n,r]=B.useState(""),[s,i]=B.useState(""),[o,a]=B.useState(""),l=async u=>{if(u.preventDefault(),!t||!n||!s||!o){st.fire({titleText:"Campos vacíos",text:"Por favor, completa todos los campos antes de enviar.",icon:"warning",position:"center",heightAuto:"false"});return}try{const h={nombre:t,email:n,asunto:s,mensaje:o,createdAt:Hn()};await la(oi(Xe,"emails"),h),st.fire({titleText:"Datos Enviados correctamente",text:"Pronto nos comunicaremos con usted",icon:"success",position:"center",heightAuto:"false"}),e(""),r(""),i(""),a("")}catch(h){console.error("Error al enviar el mensaje",h),st.fire({titleText:"error",text:"Hubo en error al enviar el mensaje",icon:"error",position:"center",heightAuto:"false"})}};return f.jsxs("form",{onSubmit:l,className:"bg-slate-100 relative border border-slate-700 p-4 rounded-md",children:[f.jsx(we,{textLabel:"Nombre completo",placeholder:"Ingresa tu nombre completo",type:"text",value:t,onChange:u=>e(u.target.value)}),f.jsx(we,{textLabel:"Correo electrónico",placeholder:"Ingresa un correo electrónico válido",type:"email",value:n,onChange:u=>r(u.target.value)}),f.jsx(we,{textLabel:"Asunto",placeholder:"Ingresa un asunto",type:"text",value:s,onChange:u=>i(u.target.value)}),f.jsx(Ja,{textLabel:"Mensaje",placeholder:"Escribe tu mensaje aquí...",value:o,onChange:u=>a(u.target.value)}),f.jsx("button",{type:"submit",className:"w-full bg-gray-900 text-white py-2 rounded-md",children:"Enviar"})]})},sM=()=>{const t=[{icon:f.jsx(hI,{}),contact:"sotofloresfrancisco@gmail.com"},{icon:f.jsx(nM,{}),contact:"+57 3127393740"},{icon:f.jsx(dI,{}),contact:"Medellín,Colombia"}];return f.jsx("section",{className:"py-5 pb-32 md:pb-20 md:py-32",children:f.jsxs("div",{className:"gap-12 justify-between lg:flex items-center flex-grow px-3 md:px-5 xl:px-0",children:[f.jsxs("div",{className:"space-y-3 basis-1/2",children:[f.jsx("h3",{className:"text-2xl text-green-500 font-bold",children:"Hablemos"}),f.jsx("p",{className:"text-slate-300 text-3xl font-semibold sm:text-4xl",children:"¿En qué puedo ayudarte?"}),f.jsx("p",{className:"text-slate-400",children:"Estoy aquí para resolver cualquier duda que puedas tener o para hablar sobre posibles colaboraciones. Si tienes alguna pregunta, proyecto en mente, o simplemente quieres ponerte en contacto, no dudes en hacerlo. Puedes llenar el formulario o utilizar la información de contacto que te dejo aquí:"}),f.jsx("div",{children:f.jsx("ul",{className:"mt-6 flex flex-wrap gap-x-10 gap-y-6 items-center",children:t.map((e,n)=>f.jsxs("li",{className:"flex items-center gap-x-3",children:[f.jsx("div",{className:"flex-none text-slate-300 bg-purple-600 p-2 rounded-md",children:e.icon}),f.jsx("p",{className:"text-slate-300",children:e.contact})]},n))})})]}),f.jsx("div",{className:"flex-1 mt-12 basis-1/2",children:f.jsx(rM,{})})]})})},iM=()=>{const{data:t,loading:e,error:n}=cn("experiencias");return e?f.jsx("div",{children:"Cargando..."}):n?f.jsxs("div",{children:["Error al cargar el perfil: ",n.message]}):f.jsxs("div",{className:"md:basis-1/2 mt-8 md:my-8 bg-slate-900 relative border border-slate-700 rounded-md p-4",children:[f.jsx("h3",{className:"text-2xl font-bold text-slate-300",children:"Experiencias"}),f.jsx("div",{className:"mt-4 space-y-6",children:t.map(r=>f.jsxs("div",{className:"flex gap-4",children:[f.jsx("img",{src:r.imagenUrl,alt:"Elys BMG Group",className:"hidden lg:block w-12 h-12 object-contain"}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg text-slate-400 font-medium",children:r.cargo}),f.jsx("p",{className:"text-slate-500",children:r.empresa}),f.jsxs("p",{className:"text-slate-500 text-sm",children:[r.fechaInicio," - ",r.fechaFin]}),f.jsx("p",{className:"text-slate-500 text-sm",children:r.lugar}),f.jsx("p",{className:"text-slate-500 text-sm",children:r.descripcion})]})]},r.id))})]})};function oM(t){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}const aM=()=>{const{data:t,loading:e,error:n}=cn("educacion"),{data:r}=cn("certificaciones");return e?f.jsx("div",{children:"Cargando..."}):n?f.jsxs("div",{children:["Error al cargar el perfil: ",n.message]}):f.jsxs("div",{className:"md:basis-1/2 md:mt-8",children:[f.jsxs("div",{className:"p-4 bg-slate-900 relative border border-slate-700 rounded-md",children:[f.jsx("h3",{className:"text-2xl mb-4 font-bold text-slate-300",children:"Educación"}),t.map(s=>f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("img",{src:s.imagenUrl,alt:"Elys BMG Group",className:"w-12 h-12 object-contain"}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg text-slate-400 font-semibold",children:s.universidad}),f.jsx("p",{className:"text-slate-500",children:s.carrera}),f.jsxs("p",{className:"text-slate-500 text-sm",children:[s.fechaInicio," - ",s.fechaFin]})]})]},s.id))]}),f.jsxs("div",{className:"p-4 mt-8 bg-slate-900 relative border border-slate-700 rounded-md",children:[f.jsx("h3",{className:"text-2xl font-bold text-slate-300 mb-4",children:"Certificaciones"}),r.map(s=>f.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 border border-gray-700 w-full py-2 px-4 rounded mb-3",children:[f.jsx(oM,{className:"text-green-500"}),f.jsx("span",{className:"text-slate-500",children:s.nombre})]},s.id))]})]})},lM="/assets/image-section-about-CymBQgyo.jpg";function cM(t){return Ue({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"},child:[]},{tag:"path",attr:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0 1 52.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 0 1-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"},child:[]}]})(t)}const fI=()=>{const t=window.location.origin+"/CV_Francisco-Soto-Flores.pdf";return f.jsxs("a",{href:t,download:"/CV_Francisco-Soto-Flores.pdf",className:"flex items-center justify-center gap-1 mt-2 w-full bg-purple-800 text-gray-100 py-2 px-4 rounded font-medium",children:[f.jsx("span",{children:"Descargar CV"}),f.jsx(cM,{className:"text-xl"})]})},uM=()=>f.jsxs("div",{className:"mt-4 animate-pulse",children:[f.jsx("div",{className:"h-8 bg-gray-600 rounded w-1/4 mb-4"}),f.jsx("div",{className:"flex flex-wrap gap-5",children:Array.from({length:4}).map((t,e)=>f.jsxs("div",{className:"flex flex-col justify-between items-center p-3 rounded border border-gray-600",children:[f.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full"}),f.jsx("div",{className:"h-4 bg-gray-600 rounded w-16 mt-2"})]},e))})]}),hM=()=>{const{data:t,loading:e,error:n}=cn("conocimientos");return e?f.jsx(uM,{}):n?f.jsxs("div",{children:["Error al cargar el perfil: ",n.message]}):f.jsxs("div",{className:"mt-4",children:[f.jsx("p",{className:"text-slate-400 text-2xl mb-4 font-bold",children:"Conocimientos"}),f.jsx("div",{className:"flex flex-wrap gap-5 rounded-md",children:t.map(r=>f.jsxs("div",{className:"flex flex-col justify-between items-center p-3 rounded border border-purple-500",children:[f.jsx("img",{src:r.imagenUrl,className:"w-12 h-12",alt:"imagen de tecnología"}),f.jsx("h3",{className:"text-purple-500 font-medium",children:r.nombre})]},r.id))})]})},dM=({item:t})=>f.jsxs("div",{className:"bg-slate-900 relative border border-slate-700 rounded-md overflow-hidden",children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:lM,loading:"lazy",alt:"Background",className:"w-full h-40 object-cover"}),f.jsx("div",{className:"absolute -bottom-8 left-6 w-20 h-20 rounded-full border-4 border-white",children:f.jsx("img",{loading:"lazy",src:t.imagenUrl,alt:"Profile",className:"w-full h-full object-cover rounded-full"})})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mt-5 md:mt-0 md:flex items-center justify-between w-full",children:[f.jsx("h2",{className:"text-2xl text-slate-300 font-bold",children:t.nombre}),f.jsx("div",{children:f.jsx(fI,{})})]}),f.jsx("p",{className:"text-slate-400 mt-2",children:t.descripcion}),f.jsxs("div",{className:"md:flex items-center gap-10 my-5",children:[f.jsxs("p",{className:"flex items-center gap-2 text-slate-400 font-medium",children:[f.jsx("span",{className:"bg-green-600 text-white p-1.5 rounded inline-block",children:f.jsx(hI,{})}),f.jsx("span",{children:t.email})]}),f.jsxs("p",{className:"flex items-center gap-2 text-slate-400 font-medium my-3 md:my-0",children:[f.jsx("span",{className:"bg-green-600 text-white p-1.5 rounded inline-block",children:f.jsx(tM,{})}),f.jsx("span",{children:t.contacto})]}),f.jsxs("p",{className:"flex items-center gap-2 text-slate-400 font-medium",children:[f.jsx("span",{className:"bg-green-600 text-white p-1.5 rounded inline-block",children:f.jsx(dI,{})}),f.jsx("span",{children:"Colombia"})]})]}),f.jsx(hM,{})]})]}),fM=()=>f.jsxs("div",{className:"bg-slate-900 pt-28 mx-4 relative border border-slate-700 rounded-md overflow-hidden animate-pulse",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-full h-40 bg-gray-700"}),f.jsx("div",{className:"absolute -bottom-8 left-6 w-20 h-20 bg-gray-600 rounded-full border-4 border-white"})]}),f.jsxs("div",{className:"p-6 mt-5",children:[f.jsxs("div",{className:"mt-5 md:mt-0 md:flex items-center justify-between w-full",children:[f.jsx("div",{className:"h-8 bg-gray-600 rounded w-1/2"}),f.jsx("div",{className:"h-8 bg-gray-600 rounded w-20"})]}),f.jsx("div",{className:"h-6 bg-gray-600 rounded mt-2 w-3/4"}),f.jsxs("div",{className:"md:flex items-center gap-10 my-5",children:[f.jsx("div",{className:"h-6 bg-gray-600 rounded w-1/2"}),f.jsx("div",{className:"h-6 bg-gray-600 rounded w-1/3"}),f.jsx("div",{className:"h-6 bg-gray-600 rounded w-1/4"})]}),f.jsxs("div",{className:"mt-4 space-y-2",children:[f.jsx("div",{className:"h-6 bg-gray-600 rounded w-full"}),f.jsx("div",{className:"h-6 bg-gray-600 rounded w-5/6"}),f.jsx("div",{className:"h-6 bg-gray-600 rounded w-3/4"})]})]})]}),pM=()=>{const{data:t,loading:e,error:n}=cn("perfil");return e?f.jsx(fM,{}):n?f.jsxs("div",{children:["Error al cargar el perfil: ",n.message]}):f.jsxs("section",{className:"pt-3 pb-24 md:ppb-0 px-3 md:px-5 xl:px-0 md:pt-28",children:[t.map(r=>f.jsx(dM,{item:r},r.id)),f.jsxs("div",{className:"flex flex-col md:flex-row  gap-8",children:[f.jsx(iM,{}),f.jsx(aM,{})]})]})},mM="/assets/image-francisco-soto-BkzGXWWX.jpg";function gM(t){return Ue({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:"currentColor"},child:[]}]})(t)}const yM=()=>f.jsxs("div",{className:"w-full flex-1 rounded-lg",children:[f.jsx("div",{className:"relative h-24 bg-slate-800",children:f.jsx("img",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 h-24 w-24 rounded-full border-4 border-gray-900",src:mM,alt:"Profile picture"})}),f.jsxs("div",{className:"pt-16 px-6 pb-6",children:[f.jsx("h1",{className:"text-xl font-bold text-center text-slate-300",children:"Francisco Soto Flores"}),f.jsxs("p",{className:"text-center mt-2",children:[f.jsx("span",{className:"inline-block text-slate-400",children:"Ingeniero de Telecomunicaciones"}),f.jsx("span",{className:"inline-block text-slate-400",children:"Desarrollador de Software"})]}),f.jsxs("div",{className:"mt-6",children:[f.jsx(fI,{}),f.jsxs(hh,{to:"/perfil",className:"mt-3 w-full border border-gray-500 text-slate-400 py-2 px-4 gap-1 rounded flex items-center justify-center",children:[f.jsx("span",{children:"Ver perfil"}),f.jsx(gM,{})]})]})]})]}),vM=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"0.98em",height:"1em",viewBox:"0 0 256 262",children:[f.jsx("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622l38.755 30.023l2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}),f.jsx("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055c-34.523 0-63.824-22.773-74.269-54.25l-1.531.13l-40.298 31.187l-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}),f.jsx("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82c0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602z"}),f.jsx("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0C79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"})]}),wM=()=>f.jsxs("article",{className:"h-full p-3 w-full mb-8 relative bg-slate-900 border border-slate-700 rounded-md animate-pulse",children:[f.jsx("div",{className:"h-8 bg-slate-800 mb-2 rounded w-1/3"}),f.jsx("div",{className:"h-96 w-full bg-slate-800 rounded mb-3"}),f.jsx("div",{className:"h-4 bg-slate-800 mb-3 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-800 mb-2 rounded w-3/4"}),f.jsxs("div",{className:"flex space-x-2 mt-2",children:[f.jsx("div",{className:"h-6 w-12 bg-slate-800 rounded"}),f.jsx("div",{className:"h-6 w-16 bg-slate-800 rounded"}),f.jsx("div",{className:"h-6 w-10 bg-slate-800 rounded"})]}),f.jsx("div",{className:"mt-3",children:f.jsx("div",{className:"h-10 bg-slate-800 rounded w-full"})})]}),_M=()=>{const{data:t,loading:e,error:n}=cn("proyectos");return e?f.jsx(wM,{}):n?f.jsxs("div",{children:["Error al cargar el perfil: ",n.message]}):f.jsx(f.Fragment,{children:t.map(r=>f.jsxs("article",{className:"h-full p-3 w-full mb-8 relative bg-slate-900 border border-slate-700 rounded-md",children:[f.jsx("h3",{className:"text-start text-2xl mb-2 font-bold text-green-600",children:r.nombre}),f.jsx("img",{className:"h-96 w-full object-contain md:object-cover rounded-lg bg-custom-gradient",src:r.imagenUrl,alt:"imagen de los proyectos"}),f.jsx("p",{className:"my-3 text-slate-400",children:r.descripcion}),f.jsx("div",{className:"mb-3",children:r.tags&&r.tags.length>0&&f.jsx("ul",{className:"flex gap-3 w-full flex-wrap mt-2",children:r.tags.map((s,i)=>f.jsx("li",{className:"bg-purple-100 text-purple-800 text-sm font-medium px-2 py-1 rounded",children:s.trim()},i))})}),f.jsx("div",{children:f.jsxs("a",{href:r.url,className:"text-white md:mb-2 lg:mb-0 bg-slate-700 shadow-3xl hover:bg-gray-800 rounded px-5 py-1.5 inline-flex items-center justify-center border-0 w-full",target:"_blank",rel:"noopener noreferrer",children:[f.jsx(vM,{}),f.jsx("span",{className:"ps-1",children:"Ver WebSite"})]})})]},r.id))})},EM=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-right",viewBox:"0 0 16 16",children:f.jsx("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"})}),bM=()=>f.jsx("article",{className:"text-center mx-5 md:mx-7 lg:mx-0",children:f.jsx("div",{className:"w-full",children:f.jsxs("div",{className:"bg-cyan-100 border border-cyan-700 transition duration-500 hover:border-cyan-900 py-4 mb-6 lg:mb-14 rounded md:px-3 lg:px-0",children:[f.jsx("h2",{className:"text-sm  text-cyan-700 font-bold",children:"¿Tienes algún proyecto en mente?"}),f.jsx("p",{className:"text-base py-2 text-gray-800",children:"¡Solicita una cotización ahora!"}),f.jsxs(sc,{to:"/contacto",className:"inline-flex items-center text-white py-2 px-10 rounded-sm text-lg bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:outline-none",children:[f.jsx("span",{className:"pe-1",children:"Contactar"}),f.jsx(EM,{})]})]})})}),xM=()=>f.jsxs("section",{className:"flex flex-col flex-wrap lg:flex-nowrap md:flex-row gap-8 px-3 md:px-5 xl:px-0 pb-28 relative w-full",children:[f.jsx("div",{className:"hidden xl:block basis-full md:basis-1/2  lg:basis-1/4 lg:sticky xl:order-1 mt-3 md:mt-28 md:top-28 h-[24rem] border bg-slate-900 border-slate-700 rounded-md",children:f.jsx(yM,{})}),f.jsxs("div",{className:"w-full lg:basis-9/12 xl:basis-1/2 md:mt-28 order-3 xl:order-2",children:[f.jsx("div",{className:"w-full rounded-md border relative bg-slate-900 border-slate-700",children:f.jsx("h2",{className:"text-xl text-center uppercase text-purple-600 py-2 font-black",children:"Proyectos Realizados"})}),f.jsx("div",{className:"w-full mt-5",children:f.jsx(_M,{})})]}),f.jsxs("div",{className:"w-full lg:basis-1/4 lg:sticky mt-5 md:top-28 order-2 xl:order-3 lg:h-[24rem] relative border border-slate-700 bg-slate-900 rounded-md",children:[f.jsx("h2",{className:"text-center text-slate-300 font-bold my-3 md:my-5 text-xl",children:"Contáctame"}),f.jsxs("div",{className:"w-full lg:px-4",children:[f.jsxs("p",{className:"hidden lg:flex my-5 w-full items-center  gap-1 flex-1 text-gray-400 rounded",children:[f.jsx(Nm,{className:"text-green-500"}),f.jsx("span",{children:"Paginas web"})]}),f.jsxs("p",{className:"hidden lg:flex my-5 w-full items-center  gap-1 flex-1 text-gray-400 rounded",children:[f.jsx(Nm,{className:"text-green-500"}),f.jsx("span",{children:"Aplicaciones web"})]}),f.jsxs("p",{className:"hidden lg:flex my-5 w-full items-center  gap-1 flex-1 text-gray-400 rounded",children:[f.jsx(Nm,{className:"text-green-500"}),f.jsx("span",{children:"Aplicaciones web"})]}),f.jsx(bM,{})]})]})]}),TM="/assets/image-logo-DT0r1Bm1.png",ud=({to:t,text:e,children:n})=>f.jsx("li",{className:"cursor-pointer",children:f.jsxs(sc,{style:({isActive:r,isTransitioning:s})=>({background:r?"#7e22ce":"inherit",color:r?"#fff":"#000",padding:".3rem .6rem",display:"flex",alignItems:"center",flexDirection:"column",borderRadius:"4px",viewTransitionName:s?"slide":"",transition:"all 0.7s, color 0.3s"}),to:t,children:[n,f.jsx("span",{children:e})]})}),AM=({children:t})=>{const{pathname:e}=bc();return B.useEffect(()=>{window.scrollTo(0,0)},[e]),t},IM=()=>f.jsxs("header",{children:[f.jsx(AM,{}),f.jsx("nav",{className:"fixed w-full h-fit z-20 bottom-0 md:top-0 shadow-lg bg-white px-5 xl:px-0",children:f.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto py-2",children:[f.jsx(sc,{to:"/",className:"hidden md:flex items-center",children:f.jsx("img",{src:TM,className:"h-16 drop-shadow-lg",alt:"logo del sitio web"})}),f.jsx("div",{className:"w-full md:w-auto",children:f.jsxs("ul",{className:"font-medium flex justify-around md:space-x-4",children:[f.jsx(ud,{to:"/",text:"Inicio",children:f.jsx(kj,{className:"md:text-xl"})}),f.jsx(ud,{to:"/perfil",text:"Perfil",children:f.jsx(uI,{className:"md:text-xl"})}),f.jsx(ud,{to:"/blogs",text:"blogs",children:f.jsx(Dj,{className:"md:text-xl"})}),f.jsx(ud,{to:"/contacto",text:"contáctame",children:f.jsx(Lj,{className:"md:text-xl"})})]})})]})})]}),SM=()=>f.jsxs(f.Fragment,{children:[f.jsx(IM,{}),f.jsx("main",{className:"relative min-h-screen w-full bg-slate-950",children:f.jsxs("div",{className:"max-w-screen-xl mx-auto",children:[f.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:14px_24px]"}),f.jsx(xx,{})]})})]}),CM=()=>{const{data:t,loading:e,error:n,handleDelete:r}=cn("emails");return e?f.jsx("div",{children:"Cargando..."}):n?f.jsxs("div",{children:["Error al cargar los datos: ",n.message]}):f.jsxs("div",{className:"my-8 bg-white shadow-md rounded-md py-4 px-10",children:[f.jsx("div",{className:"flex justify-between items-center",children:f.jsx("h2",{className:"text-2xl font-bold text-gray-800 my-3",children:"Emails recibidos"})}),f.jsx("div",{className:"mt-4 space-y-6 flex items-center gap-5 w-full",children:f.jsx("div",{className:"shadow-sm border rounded-lg overflow-x-auto w-full",children:f.jsxs("table",{className:"w-full table-auto text-sm text-left",children:[f.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium border-b",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-3 px-6",children:"Nombre"}),f.jsx("th",{className:"py-3 px-6",children:"Correo"}),f.jsx("th",{className:"py-3 px-6",children:"Asunto"}),f.jsx("th",{className:"py-3 px-6",children:"Mensaje"}),f.jsx("th",{className:"py-3 px-6",children:"Acción"})]})}),f.jsx("tbody",{className:"text-gray-600 divide-y",children:t.map(s=>f.jsxs("tr",{children:[f.jsx("td",{className:"flex items-center gap-x-3 py-3 px-6 whitespace-nowrap",children:s.nombre}),f.jsx("td",{className:"px-6 py-4 whitespace-wrap",children:s.email}),f.jsx("td",{className:"px-6 py-4 whitespace-wrap",children:s.asunto}),f.jsx("td",{className:"px-6 py-4 whitespace-wrap",children:s.mensaje}),f.jsx("td",{className:"text-right px-6 whitespace-nowrap",children:f.jsx("button",{onClick:()=>r(s.id),className:"text-red-500 text-2xl hover:text-red-700",children:f.jsx(cI,{})})})]},s.id))})]})})})]})},NM=()=>{const{data:t}=cn("blogs"),e=n=>{if(!n)return"";const r=n.toDate(),s={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0};return new Intl.DateTimeFormat("es-ES",s).format(r)};return f.jsx("section",{className:"pb-24 pt-5 md:py-32 relative",children:f.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 md:px-8",children:[f.jsxs("div",{className:"space-y-5 sm:text-center sm:max-w-md sm:mx-auto",children:[f.jsx("h1",{className:"text-green-600 text-3xl font-extrabold sm:text-4xl",children:"Publicaciones de blogs"}),f.jsx("p",{className:"text-slate-400",children:"Bienvenido a la sección de blogs, donde compartiré conocimientos, recursos y temas relacionados con el desarrollo web y más."})]}),f.jsx("ul",{className:"grid gap-x-8 gap-y-10 mt-16 sm:grid-cols-2 lg:grid-cols-3",children:t.map(n=>f.jsx("li",{className:"w-full mx-auto group sm:max-w-sm",children:f.jsxs(sc,{to:`/blogs/detalles/${n.id}`,className:"block cursor-pointer",children:[f.jsx("img",{src:n.imagenUrl,loading:"lazy",alt:n.title,className:"w-full  rounded-lg"}),f.jsxs("div",{className:"mt-3 space-y-2",children:[f.jsx("span",{className:"block text-purple-500 text-sm",children:e(n.createdAt)}),f.jsx("h3",{className:"text-lg text-slate-300 font-semibold",children:n.title})]})]})},n.id))})]})})},kM=()=>{const{data:t,handleDelete:e}=cn("blogs"),n=We(),r=s=>{n(`/access/admin/edit-blog/${s}`)};return f.jsxs("div",{className:"my-8 bg-white shadow-md rounded-md py-4 px-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 my-3",children:"Blogs"}),f.jsx(el,{to:"/access/admin/add-blog",buttonText:"Crear nuevo blog"})]}),f.jsx("div",{className:"mt-4 space-y-6",children:t.map(s=>f.jsxs("div",{className:"flex justify-between border p-4 mb-2 broder-gray-400 rounded shadow",children:[f.jsx("h4",{className:"text-base font-medium",children:s.title}),f.jsx(Za,{onEdit:()=>r(s.id),onDelete:()=>e(s.id,s.imagenUrl)})]},s.id))})]})};var pI=typeof global=="object"&&global&&global.Object===Object&&global,RM=typeof self=="object"&&self&&self.Object===Object&&self,ai=pI||RM||Function("return this")(),Jo=ai.Symbol,mI=Object.prototype,PM=mI.hasOwnProperty,LM=mI.toString,$c=Jo?Jo.toStringTag:void 0;function OM(t){var e=PM.call(t,$c),n=t[$c];try{t[$c]=void 0;var r=!0}catch{}var s=LM.call(t);return r&&(e?t[$c]=n:delete t[$c]),s}var DM=Object.prototype,jM=DM.toString;function MM(t){return jM.call(t)}var VM="[object Null]",UM="[object Undefined]",Z_=Jo?Jo.toStringTag:void 0;function Nc(t){return t==null?t===void 0?UM:VM:Z_&&Z_ in Object(t)?OM(t):MM(t)}function Wi(t){return t!=null&&typeof t=="object"}var qa=Array.isArray;function ca(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function gI(t){return t}var BM="[object AsyncFunction]",FM="[object Function]",qM="[object GeneratorFunction]",$M="[object Proxy]";function O1(t){if(!ca(t))return!1;var e=Nc(t);return e==FM||e==qM||e==BM||e==$M}var km=ai["__core-js_shared__"],eE=function(){var t=/[^.]+$/.exec(km&&km.keys&&km.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function zM(t){return!!eE&&eE in t}var HM=Function.prototype,WM=HM.toString;function tl(t){if(t!=null){try{return WM.call(t)}catch{}try{return t+""}catch{}}return""}var KM=/[\\^$.*+?()[\]{}|]/g,GM=/^\[object .+?Constructor\]$/,QM=Function.prototype,YM=Object.prototype,XM=QM.toString,JM=YM.hasOwnProperty,ZM=RegExp("^"+XM.call(JM).replace(KM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e9(t){if(!ca(t)||zM(t))return!1;var e=O1(t)?ZM:GM;return e.test(tl(t))}function t9(t,e){return t==null?void 0:t[e]}function nl(t,e){var n=t9(t,e);return e9(n)?n:void 0}var c0=nl(ai,"WeakMap"),tE=Object.create,n9=function(){function t(){}return function(e){if(!ca(e))return{};if(tE)return tE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function r9(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function yI(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var s9=800,i9=16,o9=Date.now;function a9(t){var e=0,n=0;return function(){var r=o9(),s=i9-(r-n);if(n=r,s>0){if(++e>=s9)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function l9(t){return function(){return t}}var Of=function(){try{var t=nl(Object,"defineProperty");return t({},"",{}),t}catch{}}(),c9=Of?function(t,e){return Of(t,"toString",{configurable:!0,enumerable:!1,value:l9(e),writable:!0})}:gI,u9=a9(c9);function h9(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var d9=9007199254740991,f9=/^(?:0|[1-9]\d*)$/;function vI(t,e){var n=typeof t;return e=e??d9,!!e&&(n=="number"||n!="symbol"&&f9.test(t))&&t>-1&&t%1==0&&t<e}function D1(t,e,n){e=="__proto__"&&Of?Of(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Th(t,e){return t===e||t!==t&&e!==e}var p9=Object.prototype,m9=p9.hasOwnProperty;function wI(t,e,n){var r=t[e];(!(m9.call(t,e)&&Th(r,n))||n===void 0&&!(e in t))&&D1(t,e,n)}function Ah(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=void 0;l===void 0&&(l=t[a]),s?D1(n,a,l):wI(n,a,l)}return n}var nE=Math.max;function g9(t,e,n){return e=nE(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=nE(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=r[s];return a[e]=n(o),r9(t,this,a)}}function y9(t,e){return u9(g9(t,e,gI),t+"")}var v9=9007199254740991;function _I(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=v9}function kp(t){return t!=null&&_I(t.length)&&!O1(t)}function w9(t,e,n){if(!ca(n))return!1;var r=typeof e;return(r=="number"?kp(n)&&vI(e,n.length):r=="string"&&e in n)?Th(n[e],t):!1}function _9(t){return y9(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,o&&w9(n[0],n[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var a=n[r];a&&t(e,a,r,i)}return e})}var E9=Object.prototype;function j1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||E9;return t===n}function b9(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var x9="[object Arguments]";function rE(t){return Wi(t)&&Nc(t)==x9}var EI=Object.prototype,T9=EI.hasOwnProperty,A9=EI.propertyIsEnumerable,u0=rE(function(){return arguments}())?rE:function(t){return Wi(t)&&T9.call(t,"callee")&&!A9.call(t,"callee")};function I9(){return!1}var bI=typeof vr=="object"&&vr&&!vr.nodeType&&vr,sE=bI&&typeof wr=="object"&&wr&&!wr.nodeType&&wr,S9=sE&&sE.exports===bI,iE=S9?ai.Buffer:void 0,C9=iE?iE.isBuffer:void 0,Xu=C9||I9,N9="[object Arguments]",k9="[object Array]",R9="[object Boolean]",P9="[object Date]",L9="[object Error]",O9="[object Function]",D9="[object Map]",j9="[object Number]",M9="[object Object]",V9="[object RegExp]",U9="[object Set]",B9="[object String]",F9="[object WeakMap]",q9="[object ArrayBuffer]",$9="[object DataView]",z9="[object Float32Array]",H9="[object Float64Array]",W9="[object Int8Array]",K9="[object Int16Array]",G9="[object Int32Array]",Q9="[object Uint8Array]",Y9="[object Uint8ClampedArray]",X9="[object Uint16Array]",J9="[object Uint32Array]",et={};et[z9]=et[H9]=et[W9]=et[K9]=et[G9]=et[Q9]=et[Y9]=et[X9]=et[J9]=!0;et[N9]=et[k9]=et[q9]=et[R9]=et[$9]=et[P9]=et[L9]=et[O9]=et[D9]=et[j9]=et[M9]=et[V9]=et[U9]=et[B9]=et[F9]=!1;function Z9(t){return Wi(t)&&_I(t.length)&&!!et[Nc(t)]}function M1(t){return function(e){return t(e)}}var xI=typeof vr=="object"&&vr&&!vr.nodeType&&vr,yu=xI&&typeof wr=="object"&&wr&&!wr.nodeType&&wr,e7=yu&&yu.exports===xI,Rm=e7&&pI.process,fc=function(){try{var t=yu&&yu.require&&yu.require("util").types;return t||Rm&&Rm.binding&&Rm.binding("util")}catch{}}(),oE=fc&&fc.isTypedArray,V1=oE?M1(oE):Z9,t7=Object.prototype,n7=t7.hasOwnProperty;function TI(t,e){var n=qa(t),r=!n&&u0(t),s=!n&&!r&&Xu(t),i=!n&&!r&&!s&&V1(t),o=n||r||s||i,a=o?b9(t.length,String):[],l=a.length;for(var u in t)(e||n7.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vI(u,l)))&&a.push(u);return a}function AI(t,e){return function(n){return t(e(n))}}var r7=AI(Object.keys,Object),s7=Object.prototype,i7=s7.hasOwnProperty;function o7(t){if(!j1(t))return r7(t);var e=[];for(var n in Object(t))i7.call(t,n)&&n!="constructor"&&e.push(n);return e}function U1(t){return kp(t)?TI(t):o7(t)}function a7(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var l7=Object.prototype,c7=l7.hasOwnProperty;function u7(t){if(!ca(t))return a7(t);var e=j1(t),n=[];for(var r in t)r=="constructor"&&(e||!c7.call(t,r))||n.push(r);return n}function Ih(t){return kp(t)?TI(t,!0):u7(t)}var Ju=nl(Object,"create");function h7(){this.__data__=Ju?Ju(null):{},this.size=0}function d7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var f7="__lodash_hash_undefined__",p7=Object.prototype,m7=p7.hasOwnProperty;function g7(t){var e=this.__data__;if(Ju){var n=e[t];return n===f7?void 0:n}return m7.call(e,t)?e[t]:void 0}var y7=Object.prototype,v7=y7.hasOwnProperty;function w7(t){var e=this.__data__;return Ju?e[t]!==void 0:v7.call(e,t)}var _7="__lodash_hash_undefined__";function E7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ju&&e===void 0?_7:e,this}function $a(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$a.prototype.clear=h7;$a.prototype.delete=d7;$a.prototype.get=g7;$a.prototype.has=w7;$a.prototype.set=E7;function b7(){this.__data__=[],this.size=0}function Rp(t,e){for(var n=t.length;n--;)if(Th(t[n][0],e))return n;return-1}var x7=Array.prototype,T7=x7.splice;function A7(t){var e=this.__data__,n=Rp(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():T7.call(e,n,1),--this.size,!0}function I7(t){var e=this.__data__,n=Rp(e,t);return n<0?void 0:e[n][1]}function S7(t){return Rp(this.__data__,t)>-1}function C7(t,e){var n=this.__data__,r=Rp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Xi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xi.prototype.clear=b7;Xi.prototype.delete=A7;Xi.prototype.get=I7;Xi.prototype.has=S7;Xi.prototype.set=C7;var Zu=nl(ai,"Map");function N7(){this.size=0,this.__data__={hash:new $a,map:new(Zu||Xi),string:new $a}}function k7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Pp(t,e){var n=t.__data__;return k7(e)?n[typeof e=="string"?"string":"hash"]:n.map}function R7(t){var e=Pp(this,t).delete(t);return this.size-=e?1:0,e}function P7(t){return Pp(this,t).get(t)}function L7(t){return Pp(this,t).has(t)}function O7(t,e){var n=Pp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function rl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rl.prototype.clear=N7;rl.prototype.delete=R7;rl.prototype.get=P7;rl.prototype.has=L7;rl.prototype.set=O7;function II(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var B1=AI(Object.getPrototypeOf,Object),D7="[object Object]",j7=Function.prototype,M7=Object.prototype,SI=j7.toString,V7=M7.hasOwnProperty,U7=SI.call(Object);function B7(t){if(!Wi(t)||Nc(t)!=D7)return!1;var e=B1(t);if(e===null)return!0;var n=V7.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&SI.call(n)==U7}function F7(){this.__data__=new Xi,this.size=0}function q7(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function $7(t){return this.__data__.get(t)}function z7(t){return this.__data__.has(t)}var H7=200;function W7(t,e){var n=this.__data__;if(n instanceof Xi){var r=n.__data__;if(!Zu||r.length<H7-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rl(r)}return n.set(t,e),this.size=n.size,this}function ei(t){var e=this.__data__=new Xi(t);this.size=e.size}ei.prototype.clear=F7;ei.prototype.delete=q7;ei.prototype.get=$7;ei.prototype.has=z7;ei.prototype.set=W7;function K7(t,e){return t&&Ah(e,U1(e),t)}function G7(t,e){return t&&Ah(e,Ih(e),t)}var CI=typeof vr=="object"&&vr&&!vr.nodeType&&vr,aE=CI&&typeof wr=="object"&&wr&&!wr.nodeType&&wr,Q7=aE&&aE.exports===CI,lE=Q7?ai.Buffer:void 0,cE=lE?lE.allocUnsafe:void 0;function NI(t,e){if(e)return t.slice();var n=t.length,r=cE?cE(n):new t.constructor(n);return t.copy(r),r}function Y7(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}function kI(){return[]}var X7=Object.prototype,J7=X7.propertyIsEnumerable,uE=Object.getOwnPropertySymbols,F1=uE?function(t){return t==null?[]:(t=Object(t),Y7(uE(t),function(e){return J7.call(t,e)}))}:kI;function Z7(t,e){return Ah(t,F1(t),e)}var e8=Object.getOwnPropertySymbols,RI=e8?function(t){for(var e=[];t;)II(e,F1(t)),t=B1(t);return e}:kI;function t8(t,e){return Ah(t,RI(t),e)}function PI(t,e,n){var r=e(t);return qa(t)?r:II(r,n(t))}function h0(t){return PI(t,U1,F1)}function n8(t){return PI(t,Ih,RI)}var d0=nl(ai,"DataView"),f0=nl(ai,"Promise"),p0=nl(ai,"Set"),hE="[object Map]",r8="[object Object]",dE="[object Promise]",fE="[object Set]",pE="[object WeakMap]",mE="[object DataView]",s8=tl(d0),i8=tl(Zu),o8=tl(f0),a8=tl(p0),l8=tl(c0),ps=Nc;(d0&&ps(new d0(new ArrayBuffer(1)))!=mE||Zu&&ps(new Zu)!=hE||f0&&ps(f0.resolve())!=dE||p0&&ps(new p0)!=fE||c0&&ps(new c0)!=pE)&&(ps=function(t){var e=Nc(t),n=e==r8?t.constructor:void 0,r=n?tl(n):"";if(r)switch(r){case s8:return mE;case i8:return hE;case o8:return dE;case a8:return fE;case l8:return pE}return e});var c8=Object.prototype,u8=c8.hasOwnProperty;function h8(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&u8.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Df=ai.Uint8Array;function q1(t){var e=new t.constructor(t.byteLength);return new Df(e).set(new Df(t)),e}function d8(t,e){var n=e?q1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var f8=/\w*$/;function p8(t){var e=new t.constructor(t.source,f8.exec(t));return e.lastIndex=t.lastIndex,e}var gE=Jo?Jo.prototype:void 0,yE=gE?gE.valueOf:void 0;function m8(t){return yE?Object(yE.call(t)):{}}function LI(t,e){var n=e?q1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var g8="[object Boolean]",y8="[object Date]",v8="[object Map]",w8="[object Number]",_8="[object RegExp]",E8="[object Set]",b8="[object String]",x8="[object Symbol]",T8="[object ArrayBuffer]",A8="[object DataView]",I8="[object Float32Array]",S8="[object Float64Array]",C8="[object Int8Array]",N8="[object Int16Array]",k8="[object Int32Array]",R8="[object Uint8Array]",P8="[object Uint8ClampedArray]",L8="[object Uint16Array]",O8="[object Uint32Array]";function D8(t,e,n){var r=t.constructor;switch(e){case T8:return q1(t);case g8:case y8:return new r(+t);case A8:return d8(t,n);case I8:case S8:case C8:case N8:case k8:case R8:case P8:case L8:case O8:return LI(t,n);case v8:return new r;case w8:case b8:return new r(t);case _8:return p8(t);case E8:return new r;case x8:return m8(t)}}function OI(t){return typeof t.constructor=="function"&&!j1(t)?n9(B1(t)):{}}var j8="[object Map]";function M8(t){return Wi(t)&&ps(t)==j8}var vE=fc&&fc.isMap,V8=vE?M1(vE):M8,U8="[object Set]";function B8(t){return Wi(t)&&ps(t)==U8}var wE=fc&&fc.isSet,F8=wE?M1(wE):B8,q8=1,$8=2,z8=4,DI="[object Arguments]",H8="[object Array]",W8="[object Boolean]",K8="[object Date]",G8="[object Error]",jI="[object Function]",Q8="[object GeneratorFunction]",Y8="[object Map]",X8="[object Number]",MI="[object Object]",J8="[object RegExp]",Z8="[object Set]",eV="[object String]",tV="[object Symbol]",nV="[object WeakMap]",rV="[object ArrayBuffer]",sV="[object DataView]",iV="[object Float32Array]",oV="[object Float64Array]",aV="[object Int8Array]",lV="[object Int16Array]",cV="[object Int32Array]",uV="[object Uint8Array]",hV="[object Uint8ClampedArray]",dV="[object Uint16Array]",fV="[object Uint32Array]",Qe={};Qe[DI]=Qe[H8]=Qe[rV]=Qe[sV]=Qe[W8]=Qe[K8]=Qe[iV]=Qe[oV]=Qe[aV]=Qe[lV]=Qe[cV]=Qe[Y8]=Qe[X8]=Qe[MI]=Qe[J8]=Qe[Z8]=Qe[eV]=Qe[tV]=Qe[uV]=Qe[hV]=Qe[dV]=Qe[fV]=!0;Qe[G8]=Qe[jI]=Qe[nV]=!1;function Ud(t,e,n,r,s,i){var o,a=e&q8,l=e&$8,u=e&z8;if(o!==void 0)return o;if(!ca(t))return t;var h=qa(t);if(h){if(o=h8(t),!a)return yI(t,o)}else{var g=ps(t),y=g==jI||g==Q8;if(Xu(t))return NI(t,a);if(g==MI||g==DI||y&&!s){if(o=l||y?{}:OI(t),!a)return l?t8(t,G7(o,t)):Z7(t,K7(o,t))}else{if(!Qe[g])return s?t:{};o=D8(t,g,a)}}i||(i=new ei);var _=i.get(t);if(_)return _;i.set(t,o),F8(t)?t.forEach(function(S){o.add(Ud(S,e,n,S,t,i))}):V8(t)&&t.forEach(function(S,b){o.set(b,Ud(S,e,n,b,t,i))});var x=u?l?n8:h0:l?Ih:U1,C=h?void 0:x(t);return h9(C||t,function(S,b){C&&(b=S,S=t[b]),wI(o,b,Ud(S,e,n,b,t,i))}),o}var pV=1,mV=4;function Kl(t){return Ud(t,pV|mV)}var gV="__lodash_hash_undefined__";function yV(t){return this.__data__.set(t,gV),this}function vV(t){return this.__data__.has(t)}function jf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new rl;++e<n;)this.add(t[e])}jf.prototype.add=jf.prototype.push=yV;jf.prototype.has=vV;function wV(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function _V(t,e){return t.has(e)}var EV=1,bV=2;function VI(t,e,n,r,s,i){var o=n&EV,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=i.get(t),h=i.get(e);if(u&&h)return u==e&&h==t;var g=-1,y=!0,_=n&bV?new jf:void 0;for(i.set(t,e),i.set(e,t);++g<a;){var x=t[g],C=e[g];if(r)var S=o?r(C,x,g,e,t,i):r(x,C,g,t,e,i);if(S!==void 0){if(S)continue;y=!1;break}if(_){if(!wV(e,function(b,A){if(!_V(_,A)&&(x===b||s(x,b,n,r,i)))return _.push(A)})){y=!1;break}}else if(!(x===C||s(x,C,n,r,i))){y=!1;break}}return i.delete(t),i.delete(e),y}function xV(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}function TV(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var AV=1,IV=2,SV="[object Boolean]",CV="[object Date]",NV="[object Error]",kV="[object Map]",RV="[object Number]",PV="[object RegExp]",LV="[object Set]",OV="[object String]",DV="[object Symbol]",jV="[object ArrayBuffer]",MV="[object DataView]",_E=Jo?Jo.prototype:void 0,Pm=_E?_E.valueOf:void 0;function VV(t,e,n,r,s,i,o){switch(n){case MV:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jV:return!(t.byteLength!=e.byteLength||!i(new Df(t),new Df(e)));case SV:case CV:case RV:return Th(+t,+e);case NV:return t.name==e.name&&t.message==e.message;case PV:case OV:return t==e+"";case kV:var a=xV;case LV:var l=r&AV;if(a||(a=TV),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=IV,o.set(t,e);var h=VI(a(t),a(e),r,s,i,o);return o.delete(t),h;case DV:if(Pm)return Pm.call(t)==Pm.call(e)}return!1}var UV=1,BV=Object.prototype,FV=BV.hasOwnProperty;function qV(t,e,n,r,s,i){var o=n&UV,a=h0(t),l=a.length,u=h0(e),h=u.length;if(l!=h&&!o)return!1;for(var g=l;g--;){var y=a[g];if(!(o?y in e:FV.call(e,y)))return!1}var _=i.get(t),x=i.get(e);if(_&&x)return _==e&&x==t;var C=!0;i.set(t,e),i.set(e,t);for(var S=o;++g<l;){y=a[g];var b=t[y],A=e[y];if(r)var T=o?r(A,b,y,e,t,i):r(b,A,y,t,e,i);if(!(T===void 0?b===A||s(b,A,n,r,i):T)){C=!1;break}S||(S=y=="constructor")}if(C&&!S){var P=t.constructor,V=e.constructor;P!=V&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof V=="function"&&V instanceof V)&&(C=!1)}return i.delete(t),i.delete(e),C}var $V=1,EE="[object Arguments]",bE="[object Array]",hd="[object Object]",zV=Object.prototype,xE=zV.hasOwnProperty;function HV(t,e,n,r,s,i){var o=qa(t),a=qa(e),l=o?bE:ps(t),u=a?bE:ps(e);l=l==EE?hd:l,u=u==EE?hd:u;var h=l==hd,g=u==hd,y=l==u;if(y&&Xu(t)){if(!Xu(e))return!1;o=!0,h=!1}if(y&&!h)return i||(i=new ei),o||V1(t)?VI(t,e,n,r,s,i):VV(t,e,l,n,r,s,i);if(!(n&$V)){var _=h&&xE.call(t,"__wrapped__"),x=g&&xE.call(e,"__wrapped__");if(_||x){var C=_?t.value():t,S=x?e.value():e;return i||(i=new ei),s(C,S,n,r,i)}}return y?(i||(i=new ei),qV(t,e,n,r,s,i)):!1}function UI(t,e,n,r,s){return t===e?!0:t==null||e==null||!Wi(t)&&!Wi(e)?t!==t&&e!==e:HV(t,e,n,r,UI,s)}function WV(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),a=o.length;a--;){var l=o[++s];if(n(i[l],l,i)===!1)break}return e}}var KV=WV();function m0(t,e,n){(n!==void 0&&!Th(t[e],n)||n===void 0&&!(e in t))&&D1(t,e,n)}function GV(t){return Wi(t)&&kp(t)}function g0(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function QV(t){return Ah(t,Ih(t))}function YV(t,e,n,r,s,i,o){var a=g0(t,n),l=g0(e,n),u=o.get(l);if(u){m0(t,n,u);return}var h=i?i(a,l,n+"",t,e,o):void 0,g=h===void 0;if(g){var y=qa(l),_=!y&&Xu(l),x=!y&&!_&&V1(l);h=l,y||_||x?qa(a)?h=a:GV(a)?h=yI(a):_?(g=!1,h=NI(l,!0)):x?(g=!1,h=LI(l,!0)):h=[]:B7(l)||u0(l)?(h=a,u0(a)?h=QV(a):(!ca(a)||O1(a))&&(h=OI(l))):g=!1}g&&(o.set(l,h),s(h,l,r,i,o),o.delete(l)),m0(t,n,h)}function BI(t,e,n,r,s){t!==e&&KV(e,function(i,o){if(s||(s=new ei),ca(i))YV(t,e,o,n,BI,r,s);else{var a=r?r(g0(t,o),i,o+"",t,e,s):void 0;a===void 0&&(a=i),m0(t,o,a)}},Ih)}function $1(t,e){return UI(t,e)}var zo=_9(function(t,e,n){BI(t,e,n)}),le=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(le||{});class ri{constructor(e,n,r={}){this.attrName=e,this.keyName=n;const s=le.TYPE&le.ATTRIBUTE;this.scope=r.scope!=null?r.scope&le.LEVEL|s:le.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class Gl extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const FI=class y0{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,n)}return null}create(e,n,r){const s=this.query(n);if(s==null)throw new Gl(`Unable to create ${n} blot`);const i=s,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:i.create(r),a=new i(e,o,r);return y0.blots.set(a.domNode,a),a}find(e,n=!1){return y0.find(e,n)}query(e,n=le.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&le.LEVEL&le.BLOCK?r=this.types.block:e&le.LEVEL&le.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(s=>(r=this.classes[s],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&n&le.LEVEL&r.scope&&n&le.TYPE&r.scope?r:null}register(...e){return e.map(n=>{const r="blotName"in n,s="attrName"in n;if(!r&&!s)throw new Gl("Invalid definition");if(r&&n.blotName==="abstract")throw new Gl("Cannot register abstract class");const i=r?n.blotName:s?n.attrName:void 0;return this.types[i]=n,s?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(o=>o.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(o=>{(this.tags[o]==null||n.className==null)&&(this.tags[o]=n)}))),n})}};FI.blots=new WeakMap;let pc=FI;function TE(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class XV extends ri{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){TE(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(TE(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const Ts=XV;function Lm(t){const e=t.split("-"),n=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+n}class JV extends ri{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[Lm(this.keyName)]=n,!0):!1}remove(e){e.style[Lm(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[Lm(this.keyName)];return this.canAdd(e,n)?n:""}}const ua=JV;class ZV{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=pc.find(this.domNode);if(e==null)return;const n=ri.keys(this.domNode),r=Ts.keys(this.domNode),s=ua.keys(this.domNode);n.concat(r).concat(s).forEach(i=>{const o=e.scroll.query(i,le.ATTRIBUTE);o instanceof ri&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(n=>{const r=this.attributes[n].value(this.domNode);e.format(n,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Lp=ZV,qI=class{constructor(e,n){this.scroll=e,this.domNode=n,pc.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Gl("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),pc.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,r,s){const i=this.isolate(e,n);if(this.scroll.query(r,le.BLOT)!=null&&s)i.wrap(r,s);else if(this.scroll.query(r,le.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(r,s)}}insertAt(e,n,r){const s=r==null?this.scroll.create("text",n):this.scroll.create(n,r),i=this.split(e);this.parent.insertBefore(s,i||void 0)}isolate(e,n){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Gl(`Cannot wrap ${e}`);return r.appendChild(this),r}};qI.blotName="abstract";let $I=qI;const zI=class extends $I{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};zI.scope=le.INLINE_BLOT;let eU=zI;const An=eU;class tU{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let r=n();for(;r&&e>0;)e-=1,r=n();return r}contains(e){const n=this.iterator();let r=n();for(;r;){if(r===e)return!0;r=n()}return!1}indexOf(e){const n=this.iterator();let r=n(),s=0;for(;r;){if(r===e)return s;s+=1,r=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,r=this.head;for(;r!=null;){if(r===e)return n;n+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const r=this.iterator();let s=r();for(;s;){const i=s.length();if(e<i||n&&e===i&&(s.next==null||s.next.length()!==0))return[s,e];e-=i,s=r()}return[null,0]}forEach(e){const n=this.iterator();let r=n();for(;r;)e(r),r=n()}forEachAt(e,n,r){if(n<=0)return;const[s,i]=this.find(e);let o=e-i;const a=this.iterator(s);let l=a();for(;l&&o<e+n;){const u=l.length();e>o?r(l,e-o,Math.min(n,o+u-e)):r(l,0,Math.min(u,e+n-o)),o+=u,l=a()}}map(e){return this.reduce((n,r)=>(n.push(e(r)),n),[])}reduce(e,n){const r=this.iterator();let s=r();for(;s;)n=e(n,s),s=r();return n}}function AE(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const r=e.create(le.INLINE);return Array.from(t.childNodes).forEach(s=>{r.domNode.appendChild(s)}),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}const HI=class mo extends $I{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,mo.uiClass&&this.uiNode.classList.add(mo.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new tU,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=AE(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof Gl)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(r,s,i)=>{r.deleteAt(s,i)})}descendant(e,n=0){const[r,s]=this.children.find(n);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,s]:r instanceof mo?r.descendant(e,s):[null,-1]}descendants(e,n=0,r=Number.MAX_VALUE){let s=[],i=r;return this.children.forEachAt(n,r,(o,a,l)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&s.push(o),o instanceof mo&&(s=s.concat(o.descendants(e,a,i))),i-=l}),s}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===le.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof mo?n.unwrap():n.remove())})}formatAt(e,n,r,s){this.children.forEachAt(e,n,(i,o,a)=>{i.formatAt(o,a,r,s)})}insertAt(e,n,r){const[s,i]=this.children.find(e);if(s)s.insertAt(i,n,r);else{const o=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(o)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(r=>{e.insertBefore(r,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[r,s]=this.children.find(e,n),i=[[this,e]];return r instanceof mo?i.concat(r.path(s,n)):(r!=null&&i.push([r,s]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const r=typeof e=="string"?this.scroll.create(e,n):e;return r instanceof mo&&this.moveChildren(r),super.replaceWith(r)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(s,i,o)=>{const a=s.split(i,n);a!=null&&r.appendChild(a)}),r}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const r=[],s=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(r.push(...i.addedNodes),s.push(...i.removedNodes))}),s.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const a=AE(i,this.scroll);(a.next!==o||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,o||void 0))}),this.enforceAllowedChildren()}};HI.uiClass="";let nU=HI;const ws=nU;function rU(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const yl=class vl extends ws{static create(e){return super.create(e)}static formats(e,n){const r=n.query(vl.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Lp(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof vl||(r=r.wrap(vl.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,le.INLINE);if(r==null)return;r instanceof ri?this.attributes.attribute(r,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,s){this.formats()[r]!=null||this.scroll.query(r,le.ATTRIBUTE)?this.isolate(e,n).format(r,s):super.formatAt(e,n,r,s)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof vl&&r.prev===this&&rU(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,n){const r=super.wrap(e,n);return r instanceof vl&&this.attributes.move(r),r}};yl.allowedChildren=[yl,An],yl.blotName="inline",yl.scope=le.INLINE_BLOT,yl.tagName="SPAN";let sU=yl;const z1=sU,wl=class v0 extends ws{static create(e){return super.create(e)}static formats(e,n){const r=n.query(v0.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Lp(this.domNode)}format(e,n){const r=this.scroll.query(e,le.BLOCK);r!=null&&(r instanceof ri?this.attributes.attribute(r,n):e===this.statics.blotName&&!n?this.replaceWith(v0.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,s){this.scroll.query(r,le.BLOCK)!=null?this.format(r,s):super.formatAt(e,n,r,s)}insertAt(e,n,r){if(r==null||this.scroll.query(n,le.INLINE)!=null)super.insertAt(e,n,r);else{const s=this.split(e);if(s!=null){const i=this.scroll.create(n,r);s.parent.insertBefore(i,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};wl.blotName="block",wl.scope=le.BLOCK_BLOT,wl.tagName="P",wl.allowedChildren=[z1,wl,An];let iU=wl;const eh=iU,w0=class extends ws{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,r,s){super.formatAt(e,n,r,s),this.enforceAllowedChildren()}insertAt(e,n,r){super.insertAt(e,n,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};w0.blotName="container",w0.scope=le.BLOCK_BLOT;let oU=w0;const Op=oU;class aU extends An{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,r,s){e===0&&n===this.length()?this.format(r,s):super.formatAt(e,n,r,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Tr=aU,lU={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},cU=100,_l=class extends ws{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,lU),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const r=this.registry.find(e,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,n=le.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,n)}formatAt(e,n,r,s){this.update(),super.formatAt(e,n,r,s)}insertAt(e,n,r){this.update(),super.insertAt(e,n,r)}optimize(e=[],n={}){super.optimize(n);const r=n.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)e.push(s.pop());const i=(l,u=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(r.has(l.domNode)||r.set(l.domNode,[]),u&&i(l.parent))},o=l=>{r.has(l.domNode)&&(l instanceof ws&&l.children.forEach(o),r.delete(l.domNode),l.optimize(n))};let a=e;for(let l=0;a.length>0;l+=1){if(l>=cU)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(u=>{const h=this.find(u.target,!0);h!=null&&(h.domNode===u.target&&(u.type==="childList"?(i(this.find(u.previousSibling,!1)),Array.from(u.addedNodes).forEach(g=>{const y=this.find(g,!1);i(y,!1),y instanceof ws&&y.children.forEach(_=>{i(_,!1)})})):u.type==="attributes"&&i(h.prev)),i(h))}),this.children.forEach(o),a=Array.from(this.observer.takeRecords()),s=a.slice();s.length>0;)e.push(s.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(s=>{const i=this.find(s.target,!0);return i==null?null:r.has(i.domNode)?(r.get(i.domNode).push(s),null):(r.set(i.domNode,[s]),i)}).forEach(s=>{s!=null&&s!==this&&r.has(s.domNode)&&s.update(r.get(s.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(e,n)}};_l.blotName="scroll",_l.defaultChild=eh,_l.allowedChildren=[eh,Op],_l.scope=le.BLOCK_BLOT,_l.tagName="DIV";let uU=_l;const H1=uU,_0=class WI extends An{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,r){r==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof WI&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,n){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};_0.blotName="text",_0.scope=le.INLINE_BLOT;let hU=_0;const Mf=hU,dU=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ri,AttributorStore:Lp,BlockBlot:eh,ClassAttributor:Ts,ContainerBlot:Op,EmbedBlot:Tr,InlineBlot:z1,LeafBlot:An,ParentBlot:ws,Registry:pc,Scope:le,ScrollBlot:H1,StyleAttributor:ua,TextBlot:Mf},Symbol.toStringTag,{value:"Module"}));var E0={exports:{}},yr=-1,Bn=1,Bt=0;function th(t,e,n,r,s){if(t===e)return t?[[Bt,t]]:[];if(n!=null){var i=EU(t,e,n);if(i)return i}var o=W1(t,e),a=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=Dp(t,e);var l=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var u=fU(t,e);return a&&u.unshift([Bt,a]),l&&u.push([Bt,l]),K1(u,s),r&&gU(u),u}function fU(t,e){var n;if(!t)return[[Bn,e]];if(!e)return[[yr,t]];var r=t.length>e.length?t:e,s=t.length>e.length?e:t,i=r.indexOf(s);if(i!==-1)return n=[[Bn,r.substring(0,i)],[Bt,s],[Bn,r.substring(i+s.length)]],t.length>e.length&&(n[0][0]=n[2][0]=yr),n;if(s.length===1)return[[yr,t],[Bn,e]];var o=mU(t,e);if(o){var a=o[0],l=o[1],u=o[2],h=o[3],g=o[4],y=th(a,u),_=th(l,h);return y.concat([[Bt,g]],_)}return pU(t,e)}function pU(t,e){for(var n=t.length,r=e.length,s=Math.ceil((n+r)/2),i=s,o=2*s,a=new Array(o),l=new Array(o),u=0;u<o;u++)a[u]=-1,l[u]=-1;a[i+1]=0,l[i+1]=0;for(var h=n-r,g=h%2!==0,y=0,_=0,x=0,C=0,S=0;S<s;S++){for(var b=-S+y;b<=S-_;b+=2){var A=i+b,T;b===-S||b!==S&&a[A-1]<a[A+1]?T=a[A+1]:T=a[A-1]+1;for(var P=T-b;T<n&&P<r&&t.charAt(T)===e.charAt(P);)T++,P++;if(a[A]=T,T>n)_+=2;else if(P>r)y+=2;else if(g){var V=i+h-b;if(V>=0&&V<o&&l[V]!==-1){var F=n-l[V];if(T>=F)return IE(t,e,T,P)}}}for(var k=-S+x;k<=S-C;k+=2){var V=i+k,F;k===-S||k!==S&&l[V-1]<l[V+1]?F=l[V+1]:F=l[V-1]+1;for(var I=F-k;F<n&&I<r&&t.charAt(n-F-1)===e.charAt(r-I-1);)F++,I++;if(l[V]=F,F>n)C+=2;else if(I>r)x+=2;else if(!g){var A=i+h-k;if(A>=0&&A<o&&a[A]!==-1){var T=a[A],P=i+T-A;if(F=n-F,T>=F)return IE(t,e,T,P)}}}}return[[yr,t],[Bn,e]]}function IE(t,e,n,r){var s=t.substring(0,n),i=e.substring(0,r),o=t.substring(n),a=e.substring(r),l=th(s,i),u=th(o,a);return l.concat(u)}function W1(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),s=r,i=0;n<s;)t.substring(i,s)==e.substring(i,s)?(n=s,i=n):r=s,s=Math.floor((r-n)/2+n);return KI(t.charCodeAt(s-1))&&s--,s}function SE(t,e){var n=t.length,r=e.length;if(n==0||r==0)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var s=Math.min(n,r);if(t==e)return s;for(var i=0,o=1;;){var a=t.substring(s-o),l=e.indexOf(a);if(l==-1)return i;o+=l,(l==0||t.substring(s-o)==e.substring(0,o))&&(i=o,o++)}}function Dp(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),s=r,i=0;n<s;)t.substring(t.length-s,t.length-i)==e.substring(e.length-s,e.length-i)?(n=s,i=n):r=s,s=Math.floor((r-n)/2+n);return GI(t.charCodeAt(t.length-s))&&s--,s}function mU(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function s(_,x,C){for(var S=_.substring(C,C+Math.floor(_.length/4)),b=-1,A="",T,P,V,F;(b=x.indexOf(S,b+1))!==-1;){var k=W1(_.substring(C),x.substring(b)),I=Dp(_.substring(0,C),x.substring(0,b));A.length<I+k&&(A=x.substring(b-I,b)+x.substring(b,b+k),T=_.substring(0,C-I),P=_.substring(C+k),V=x.substring(0,b-I),F=x.substring(b+k))}return A.length*2>=_.length?[T,P,V,F,A]:null}var i=s(n,r,Math.ceil(n.length/4)),o=s(n,r,Math.ceil(n.length/2)),a;if(!i&&!o)return null;o?i?a=i[4].length>o[4].length?i:o:a=o:a=i;var l,u,h,g;t.length>e.length?(l=a[0],u=a[1],h=a[2],g=a[3]):(h=a[0],g=a[1],l=a[2],u=a[3]);var y=a[4];return[l,u,h,g,y]}function gU(t){for(var e=!1,n=[],r=0,s=null,i=0,o=0,a=0,l=0,u=0;i<t.length;)t[i][0]==Bt?(n[r++]=i,o=l,a=u,l=0,u=0,s=t[i][1]):(t[i][0]==Bn?l+=t[i][1].length:u+=t[i][1].length,s&&s.length<=Math.max(o,a)&&s.length<=Math.max(l,u)&&(t.splice(n[r-1],0,[yr,s]),t[n[r-1]+1][0]=Bn,r--,r--,i=r>0?n[r-1]:-1,o=0,a=0,l=0,u=0,s=null,e=!0)),i++;for(e&&K1(t),wU(t),i=1;i<t.length;){if(t[i-1][0]==yr&&t[i][0]==Bn){var h=t[i-1][1],g=t[i][1],y=SE(h,g),_=SE(g,h);y>=_?(y>=h.length/2||y>=g.length/2)&&(t.splice(i,0,[Bt,g.substring(0,y)]),t[i-1][1]=h.substring(0,h.length-y),t[i+1][1]=g.substring(y),i++):(_>=h.length/2||_>=g.length/2)&&(t.splice(i,0,[Bt,h.substring(0,_)]),t[i-1][0]=Bn,t[i-1][1]=g.substring(0,g.length-_),t[i+1][0]=yr,t[i+1][1]=h.substring(_),i++),i++}i++}}var CE=/[^a-zA-Z0-9]/,NE=/\s/,kE=/[\r\n]/,yU=/\n\r?\n$/,vU=/^\r?\n\r?\n/;function wU(t){function e(_,x){if(!_||!x)return 6;var C=_.charAt(_.length-1),S=x.charAt(0),b=C.match(CE),A=S.match(CE),T=b&&C.match(NE),P=A&&S.match(NE),V=T&&C.match(kE),F=P&&S.match(kE),k=V&&_.match(yU),I=F&&x.match(vU);return k||I?5:V||F?4:b&&!T&&P?3:T||P?2:b||A?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==Bt&&t[n+1][0]==Bt){var r=t[n-1][1],s=t[n][1],i=t[n+1][1],o=Dp(r,s);if(o){var a=s.substring(s.length-o);r=r.substring(0,r.length-o),s=a+s.substring(0,s.length-o),i=a+i}for(var l=r,u=s,h=i,g=e(r,s)+e(s,i);s.charAt(0)===i.charAt(0);){r+=s.charAt(0),s=s.substring(1)+i.charAt(0),i=i.substring(1);var y=e(r,s)+e(s,i);y>=g&&(g=y,l=r,u=s,h=i)}t[n-1][1]!=l&&(l?t[n-1][1]=l:(t.splice(n-1,1),n--),t[n][1]=u,h?t[n+1][1]=h:(t.splice(n+1,1),n--))}n++}}function K1(t,e){t.push([Bt,""]);for(var n=0,r=0,s=0,i="",o="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case Bn:s++,o+=t[n][1],n++;break;case yr:r++,i+=t[n][1],n++;break;case Bt:var l=n-s-r-1;if(e){if(l>=0&&YI(t[l][1])){var u=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),i=u+i,o=u+o,!t[l][1]){t.splice(l,1),n--;var h=l-1;t[h]&&t[h][0]===Bn&&(s++,o=t[h][1]+o,h--),t[h]&&t[h][0]===yr&&(r++,i=t[h][1]+i,h--),l=h}}if(QI(t[n][1])){var u=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),i+=u,o+=u}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(i.length>0||o.length>0){i.length>0&&o.length>0&&(a=W1(o,i),a!==0&&(l>=0?t[l][1]+=o.substring(0,a):(t.splice(0,0,[Bt,o.substring(0,a)]),n++),o=o.substring(a),i=i.substring(a)),a=Dp(o,i),a!==0&&(t[n][1]=o.substring(o.length-a)+t[n][1],o=o.substring(0,o.length-a),i=i.substring(0,i.length-a)));var g=s+r;i.length===0&&o.length===0?(t.splice(n-g,g),n=n-g):i.length===0?(t.splice(n-g,g,[Bn,o]),n=n-g+1):o.length===0?(t.splice(n-g,g,[yr,i]),n=n-g+1):(t.splice(n-g,g,[yr,i],[Bn,o]),n=n-g+2)}n!==0&&t[n-1][0]===Bt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,s=0,r=0,i="",o="";break}}t[t.length-1][1]===""&&t.pop();var y=!1;for(n=1;n<t.length-1;)t[n-1][0]===Bt&&t[n+1][0]===Bt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),y=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),y=!0)),n++;y&&K1(t,e)}function KI(t){return t>=55296&&t<=56319}function GI(t){return t>=56320&&t<=57343}function QI(t){return GI(t.charCodeAt(0))}function YI(t){return KI(t.charCodeAt(t.length-1))}function _U(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Om(t,e,n,r){return YI(t)||QI(r)?null:_U([[Bt,t],[yr,e],[Bn,n],[Bt,r]])}function EU(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,s=typeof n=="number"?null:n.newRange,i=t.length,o=e.length;if(r.length===0&&(s===null||s.length===0)){var a=r.index,l=t.slice(0,a),u=t.slice(a),h=s?s.index:null;e:{var g=a+o-i;if(h!==null&&h!==g||g<0||g>o)break e;var y=e.slice(0,g),_=e.slice(g);if(_!==u)break e;var x=Math.min(a,g),C=l.slice(0,x),S=y.slice(0,x);if(C!==S)break e;var b=l.slice(x),A=y.slice(x);return Om(C,b,A,u)}e:{if(h!==null&&h!==a)break e;var T=a,y=e.slice(0,T),_=e.slice(T);if(y!==l)break e;var P=Math.min(i-T,o-T),V=u.slice(u.length-P),F=_.slice(_.length-P);if(V!==F)break e;var b=u.slice(0,u.length-P),A=_.slice(0,_.length-P);return Om(l,b,A,V)}}if(r.length>0&&s&&s.length===0)e:{var C=t.slice(0,r.index),V=t.slice(r.index+r.length),x=C.length,P=V.length;if(o<x+P)break e;var S=e.slice(0,x),F=e.slice(o-P);if(C!==S||V!==F)break e;var b=t.slice(x,i-P),A=e.slice(x,o-P);return Om(C,b,A,V)}return null}function jp(t,e,n,r){return th(t,e,n,r,!0)}jp.INSERT=Bn;jp.DELETE=yr;jp.EQUAL=Bt;var bU=jp,Vf={exports:{}};Vf.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",g="[object GeneratorFunction]",y="[object Map]",_="[object Number]",x="[object Object]",C="[object Promise]",S="[object RegExp]",b="[object Set]",A="[object String]",T="[object Symbol]",P="[object WeakMap]",V="[object ArrayBuffer]",F="[object DataView]",k="[object Float32Array]",I="[object Float64Array]",L="[object Int8Array]",D="[object Int16Array]",U="[object Int32Array]",q="[object Uint8Array]",M="[object Uint8ClampedArray]",De="[object Uint16Array]",_t="[object Uint32Array]",Qr=/[\\^$.*+?()[\]{}|]/g,At=/\w*$/,J=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,Z={};Z[i]=Z[o]=Z[V]=Z[F]=Z[a]=Z[l]=Z[k]=Z[I]=Z[L]=Z[D]=Z[U]=Z[y]=Z[_]=Z[x]=Z[S]=Z[b]=Z[A]=Z[T]=Z[q]=Z[M]=Z[De]=Z[_t]=!0,Z[u]=Z[h]=Z[P]=!1;var Re=typeof En=="object"&&En&&En.Object===Object&&En,Te=typeof self=="object"&&self&&self.Object===Object&&self,Ae=Re||Te||Function("return this")(),$t=e&&!e.nodeType&&e,ve=$t&&!0&&t&&!t.nodeType&&t,Ot=ve&&ve.exports===$t;function Nn(v,N){return v.set(N[0],N[1]),v}function It(v,N){return v.add(N),v}function St(v,N){for(var j=-1,H=v?v.length:0;++j<H&&N(v[j],j,v)!==!1;);return v}function Dt(v,N){for(var j=-1,H=N.length,he=v.length;++j<H;)v[he+j]=N[j];return v}function Ar(v,N,j,H){for(var he=-1,ie=v?v.length:0;++he<ie;)j=N(j,v[he],he,v);return j}function ft(v,N){for(var j=-1,H=Array(v);++j<v;)H[j]=N(j);return H}function Ir(v,N){return v==null?void 0:v[N]}function Sr(v){var N=!1;if(v!=null&&typeof v.toString!="function")try{N=!!(v+"")}catch{}return N}function Yr(v){var N=-1,j=Array(v.size);return v.forEach(function(H,he){j[++N]=[he,H]}),j}function ye(v,N){return function(j){return v(N(j))}}function Gt(v){var N=-1,j=Array(v.size);return v.forEach(function(H){j[++N]=H}),j}var Wn=Array.prototype,sr=Function.prototype,Be=Object.prototype,Je=Ae["__core-js_shared__"],li=function(){var v=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),ir=sr.toString,Fe=Be.hasOwnProperty,Xr=Be.toString,ot=RegExp("^"+ir.call(Fe).replace(Qr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=Ot?Ae.Buffer:void 0,kn=Ae.Symbol,Ss=Ae.Uint8Array,Qt=ye(Object.getPrototypeOf,Object),pe=Object.create,Cr=Be.propertyIsEnumerable,Zi=Wn.splice,Jr=Object.getOwnPropertySymbols,Nr=Ke?Ke.isBuffer:void 0,eo=ye(Object.keys,Object),un=Ct(Ae,"DataView"),or=Ct(Ae,"Map"),hn=Ct(Ae,"Promise"),Zr=Ct(Ae,"Set"),ar=Ct(Ae,"WeakMap"),lr=Ct(Object,"create"),cr=Nt(un),Yt=Nt(or),Cs=Nt(hn),dn=Nt(Zr),Ns=Nt(ar),fn=kn?kn.prototype:void 0,ci=fn?fn.valueOf:void 0;function $e(v){var N=-1,j=v?v.length:0;for(this.clear();++N<j;){var H=v[N];this.set(H[0],H[1])}}function ks(){this.__data__=lr?lr(null):{}}function es(v){return this.has(v)&&delete this.__data__[v]}function ts(v){var N=this.__data__;if(lr){var j=N[v];return j===r?void 0:j}return Fe.call(N,v)?N[v]:void 0}function to(v){var N=this.__data__;return lr?N[v]!==void 0:Fe.call(N,v)}function ui(v,N){var j=this.__data__;return j[v]=lr&&N===void 0?r:N,this}$e.prototype.clear=ks,$e.prototype.delete=es,$e.prototype.get=ts,$e.prototype.has=to,$e.prototype.set=ui;function Ge(v){var N=-1,j=v?v.length:0;for(this.clear();++N<j;){var H=v[N];this.set(H[0],H[1])}}function ha(){this.__data__=[]}function da(v){var N=this.__data__,j=Pr(N,v);if(j<0)return!1;var H=N.length-1;return j==H?N.pop():Zi.call(N,j,1),!0}function Rs(v){var N=this.__data__,j=Pr(N,v);return j<0?void 0:N[j][1]}function no(v){return Pr(this.__data__,v)>-1}function hi(v,N){var j=this.__data__,H=Pr(j,v);return H<0?j.push([v,N]):j[H][1]=N,this}Ge.prototype.clear=ha,Ge.prototype.delete=da,Ge.prototype.get=Rs,Ge.prototype.has=no,Ge.prototype.set=hi;function at(v){var N=-1,j=v?v.length:0;for(this.clear();++N<j;){var H=v[N];this.set(H[0],H[1])}}function pn(){this.__data__={hash:new $e,map:new(or||Ge),string:new $e}}function kr(v){return mn(this,v).delete(v)}function di(v){return mn(this,v).get(v)}function Rr(v){return mn(this,v).has(v)}function pt(v,N){return mn(this,v).set(v,N),this}at.prototype.clear=pn,at.prototype.delete=kr,at.prototype.get=di,at.prototype.has=Rr,at.prototype.set=pt;function jt(v){this.__data__=new Ge(v)}function ro(){this.__data__=new Ge}function fa(v){return this.__data__.delete(v)}function ns(v){return this.__data__.get(v)}function so(v){return this.__data__.has(v)}function fi(v,N){var j=this.__data__;if(j instanceof Ge){var H=j.__data__;if(!or||H.length<n-1)return H.push([v,N]),this;j=this.__data__=new at(H)}return j.set(v,N),this}jt.prototype.clear=ro,jt.prototype.delete=fa,jt.prototype.get=ns,jt.prototype.has=so,jt.prototype.set=fi;function Kn(v,N){var j=Ei(v)||On(v)?ft(v.length,String):[],H=j.length,he=!!H;for(var ie in v)Fe.call(v,ie)&&!(he&&(ie=="length"||ga(ie,H)))&&j.push(ie);return j}function Rn(v,N,j){var H=v[N];(!(Fe.call(v,N)&&_i(H,j))||j===void 0&&!(N in v))&&(v[N]=j)}function Pr(v,N){for(var j=v.length;j--;)if(_i(v[j][0],N))return j;return-1}function Pn(v,N){return v&&Xt(N,js(N),v)}function Ps(v,N,j,H,he,ie,_e){var Ee;if(H&&(Ee=ie?H(v,he,ie,_e):H(v)),Ee!==void 0)return Ee;if(!zt(v))return v;var ze=Ei(v);if(ze){if(Ee=lo(v),!N)return Os(v,Ee)}else{var Ie=ur(v),qe=Ie==h||Ie==g;if(Dn(v))return rs(v,N);if(Ie==x||Ie==i||qe&&!ie){if(Sr(v))return ie?v:{};if(Ee=Qn(qe?{}:v),!N)return vi(v,Pn(Ee,v))}else{if(!Z[Ie])return ie?v:{};Ee=ma(v,Ie,Ps,N)}}_e||(_e=new jt);var Mt=_e.get(v);if(Mt)return Mt;if(_e.set(v,Ee),!ze)var lt=j?Oe(v):js(v);return St(lt||v,function(je,mt){lt&&(mt=je,je=v[mt]),Rn(Ee,mt,Ps(je,N,j,H,mt,v,_e))}),Ee}function io(v){return zt(v)?pe(v):{}}function oo(v,N,j){var H=N(v);return Ei(v)?H:Dt(H,j(v))}function pi(v){return Xr.call(v)}function mi(v){if(!zt(v)||is(v))return!1;var N=bi(v)||Sr(v)?ot:J;return N.test(Nt(v))}function ao(v){if(!gn(v))return eo(v);var N=[];for(var j in Object(v))Fe.call(v,j)&&j!="constructor"&&N.push(j);return N}function rs(v,N){if(N)return v.slice();var j=new v.constructor(v.length);return v.copy(j),j}function Ls(v){var N=new v.constructor(v.byteLength);return new Ss(N).set(new Ss(v)),N}function Lr(v,N){var j=N?Ls(v.buffer):v.buffer;return new v.constructor(j,v.byteOffset,v.byteLength)}function gi(v,N,j){var H=N?j(Yr(v),!0):Yr(v);return Ar(H,Nn,new v.constructor)}function yi(v){var N=new v.constructor(v.source,At.exec(v));return N.lastIndex=v.lastIndex,N}function pa(v,N,j){var H=N?j(Gt(v),!0):Gt(v);return Ar(H,It,new v.constructor)}function Gn(v){return ci?Object(ci.call(v)):{}}function Ln(v,N){var j=N?Ls(v.buffer):v.buffer;return new v.constructor(j,v.byteOffset,v.length)}function Os(v,N){var j=-1,H=v.length;for(N||(N=Array(H));++j<H;)N[j]=v[j];return N}function Xt(v,N,j,H){j||(j={});for(var he=-1,ie=N.length;++he<ie;){var _e=N[he],Ee=void 0;Rn(j,_e,Ee===void 0?v[_e]:Ee)}return j}function vi(v,N){return Xt(v,Jt(v),N)}function Oe(v){return oo(v,js,Jt)}function mn(v,N){var j=v.__data__;return ss(N)?j[typeof N=="string"?"string":"hash"]:j.map}function Ct(v,N){var j=Ir(v,N);return mi(j)?j:void 0}var Jt=Jr?ye(Jr,Object):os,ur=pi;(un&&ur(new un(new ArrayBuffer(1)))!=F||or&&ur(new or)!=y||hn&&ur(hn.resolve())!=C||Zr&&ur(new Zr)!=b||ar&&ur(new ar)!=P)&&(ur=function(v){var N=Xr.call(v),j=N==x?v.constructor:void 0,H=j?Nt(j):void 0;if(H)switch(H){case cr:return F;case Yt:return y;case Cs:return C;case dn:return b;case Ns:return P}return N});function lo(v){var N=v.length,j=v.constructor(N);return N&&typeof v[0]=="string"&&Fe.call(v,"index")&&(j.index=v.index,j.input=v.input),j}function Qn(v){return typeof v.constructor=="function"&&!gn(v)?io(Qt(v)):{}}function ma(v,N,j,H){var he=v.constructor;switch(N){case V:return Ls(v);case a:case l:return new he(+v);case F:return Lr(v,H);case k:case I:case L:case D:case U:case q:case M:case De:case _t:return Ln(v,H);case y:return gi(v,H,j);case _:case A:return new he(v);case S:return yi(v);case b:return pa(v,H,j);case T:return Gn(v)}}function ga(v,N){return N=N??s,!!N&&(typeof v=="number"||ce.test(v))&&v>-1&&v%1==0&&v<N}function ss(v){var N=typeof v;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?v!=="__proto__":v===null}function is(v){return!!li&&li in v}function gn(v){var N=v&&v.constructor,j=typeof N=="function"&&N.prototype||Be;return v===j}function Nt(v){if(v!=null){try{return ir.call(v)}catch{}try{return v+""}catch{}}return""}function wi(v){return Ps(v,!0,!0)}function _i(v,N){return v===N||v!==v&&N!==N}function On(v){return ya(v)&&Fe.call(v,"callee")&&(!Cr.call(v,"callee")||Xr.call(v)==i)}var Ei=Array.isArray;function Ds(v){return v!=null&&xi(v.length)&&!bi(v)}function ya(v){return Yn(v)&&Ds(v)}var Dn=Nr||as;function bi(v){var N=zt(v)?Xr.call(v):"";return N==h||N==g}function xi(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=s}function zt(v){var N=typeof v;return!!v&&(N=="object"||N=="function")}function Yn(v){return!!v&&typeof v=="object"}function js(v){return Ds(v)?Kn(v):ao(v)}function os(){return[]}function as(){return!1}t.exports=wi})(Vf,Vf.exports);var XI=Vf.exports,Uf={exports:{}};Uf.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",g="[object Date]",y="[object Error]",_="[object Function]",x="[object GeneratorFunction]",C="[object Map]",S="[object Number]",b="[object Null]",A="[object Object]",T="[object Promise]",P="[object Proxy]",V="[object RegExp]",F="[object Set]",k="[object String]",I="[object Symbol]",L="[object Undefined]",D="[object WeakMap]",U="[object ArrayBuffer]",q="[object DataView]",M="[object Float32Array]",De="[object Float64Array]",_t="[object Int8Array]",Qr="[object Int16Array]",At="[object Int32Array]",J="[object Uint8Array]",ce="[object Uint8ClampedArray]",Z="[object Uint16Array]",Re="[object Uint32Array]",Te=/[\\^$.*+?()[\]{}|]/g,Ae=/^\[object .+?Constructor\]$/,$t=/^(?:0|[1-9]\d*)$/,ve={};ve[M]=ve[De]=ve[_t]=ve[Qr]=ve[At]=ve[J]=ve[ce]=ve[Z]=ve[Re]=!0,ve[a]=ve[l]=ve[U]=ve[h]=ve[q]=ve[g]=ve[y]=ve[_]=ve[C]=ve[S]=ve[A]=ve[V]=ve[F]=ve[k]=ve[D]=!1;var Ot=typeof En=="object"&&En&&En.Object===Object&&En,Nn=typeof self=="object"&&self&&self.Object===Object&&self,It=Ot||Nn||Function("return this")(),St=e&&!e.nodeType&&e,Dt=St&&!0&&t&&!t.nodeType&&t,Ar=Dt&&Dt.exports===St,ft=Ar&&Ot.process,Ir=function(){try{return ft&&ft.binding&&ft.binding("util")}catch{}}(),Sr=Ir&&Ir.isTypedArray;function Yr(v,N){for(var j=-1,H=v==null?0:v.length,he=0,ie=[];++j<H;){var _e=v[j];N(_e,j,v)&&(ie[he++]=_e)}return ie}function ye(v,N){for(var j=-1,H=N.length,he=v.length;++j<H;)v[he+j]=N[j];return v}function Gt(v,N){for(var j=-1,H=v==null?0:v.length;++j<H;)if(N(v[j],j,v))return!0;return!1}function Wn(v,N){for(var j=-1,H=Array(v);++j<v;)H[j]=N(j);return H}function sr(v){return function(N){return v(N)}}function Be(v,N){return v.has(N)}function Je(v,N){return v==null?void 0:v[N]}function li(v){var N=-1,j=Array(v.size);return v.forEach(function(H,he){j[++N]=[he,H]}),j}function ir(v,N){return function(j){return v(N(j))}}function Fe(v){var N=-1,j=Array(v.size);return v.forEach(function(H){j[++N]=H}),j}var Xr=Array.prototype,ot=Function.prototype,Ke=Object.prototype,kn=It["__core-js_shared__"],Ss=ot.toString,Qt=Ke.hasOwnProperty,pe=function(){var v=/[^.]+$/.exec(kn&&kn.keys&&kn.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),Cr=Ke.toString,Zi=RegExp("^"+Ss.call(Qt).replace(Te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jr=Ar?It.Buffer:void 0,Nr=It.Symbol,eo=It.Uint8Array,un=Ke.propertyIsEnumerable,or=Xr.splice,hn=Nr?Nr.toStringTag:void 0,Zr=Object.getOwnPropertySymbols,ar=Jr?Jr.isBuffer:void 0,lr=ir(Object.keys,Object),cr=Jt(It,"DataView"),Yt=Jt(It,"Map"),Cs=Jt(It,"Promise"),dn=Jt(It,"Set"),Ns=Jt(It,"WeakMap"),fn=Jt(Object,"create"),ci=Nt(cr),$e=Nt(Yt),ks=Nt(Cs),es=Nt(dn),ts=Nt(Ns),to=Nr?Nr.prototype:void 0,ui=to?to.valueOf:void 0;function Ge(v){var N=-1,j=v==null?0:v.length;for(this.clear();++N<j;){var H=v[N];this.set(H[0],H[1])}}function ha(){this.__data__=fn?fn(null):{},this.size=0}function da(v){var N=this.has(v)&&delete this.__data__[v];return this.size-=N?1:0,N}function Rs(v){var N=this.__data__;if(fn){var j=N[v];return j===r?void 0:j}return Qt.call(N,v)?N[v]:void 0}function no(v){var N=this.__data__;return fn?N[v]!==void 0:Qt.call(N,v)}function hi(v,N){var j=this.__data__;return this.size+=this.has(v)?0:1,j[v]=fn&&N===void 0?r:N,this}Ge.prototype.clear=ha,Ge.prototype.delete=da,Ge.prototype.get=Rs,Ge.prototype.has=no,Ge.prototype.set=hi;function at(v){var N=-1,j=v==null?0:v.length;for(this.clear();++N<j;){var H=v[N];this.set(H[0],H[1])}}function pn(){this.__data__=[],this.size=0}function kr(v){var N=this.__data__,j=rs(N,v);if(j<0)return!1;var H=N.length-1;return j==H?N.pop():or.call(N,j,1),--this.size,!0}function di(v){var N=this.__data__,j=rs(N,v);return j<0?void 0:N[j][1]}function Rr(v){return rs(this.__data__,v)>-1}function pt(v,N){var j=this.__data__,H=rs(j,v);return H<0?(++this.size,j.push([v,N])):j[H][1]=N,this}at.prototype.clear=pn,at.prototype.delete=kr,at.prototype.get=di,at.prototype.has=Rr,at.prototype.set=pt;function jt(v){var N=-1,j=v==null?0:v.length;for(this.clear();++N<j;){var H=v[N];this.set(H[0],H[1])}}function ro(){this.size=0,this.__data__={hash:new Ge,map:new(Yt||at),string:new Ge}}function fa(v){var N=Ct(this,v).delete(v);return this.size-=N?1:0,N}function ns(v){return Ct(this,v).get(v)}function so(v){return Ct(this,v).has(v)}function fi(v,N){var j=Ct(this,v),H=j.size;return j.set(v,N),this.size+=j.size==H?0:1,this}jt.prototype.clear=ro,jt.prototype.delete=fa,jt.prototype.get=ns,jt.prototype.has=so,jt.prototype.set=fi;function Kn(v){var N=-1,j=v==null?0:v.length;for(this.__data__=new jt;++N<j;)this.add(v[N])}function Rn(v){return this.__data__.set(v,r),this}function Pr(v){return this.__data__.has(v)}Kn.prototype.add=Kn.prototype.push=Rn,Kn.prototype.has=Pr;function Pn(v){var N=this.__data__=new at(v);this.size=N.size}function Ps(){this.__data__=new at,this.size=0}function io(v){var N=this.__data__,j=N.delete(v);return this.size=N.size,j}function oo(v){return this.__data__.get(v)}function pi(v){return this.__data__.has(v)}function mi(v,N){var j=this.__data__;if(j instanceof at){var H=j.__data__;if(!Yt||H.length<n-1)return H.push([v,N]),this.size=++j.size,this;j=this.__data__=new jt(H)}return j.set(v,N),this.size=j.size,this}Pn.prototype.clear=Ps,Pn.prototype.delete=io,Pn.prototype.get=oo,Pn.prototype.has=pi,Pn.prototype.set=mi;function ao(v,N){var j=On(v),H=!j&&_i(v),he=!j&&!H&&Ds(v),ie=!j&&!H&&!he&&Yn(v),_e=j||H||he||ie,Ee=_e?Wn(v.length,String):[],ze=Ee.length;for(var Ie in v)Qt.call(v,Ie)&&!(_e&&(Ie=="length"||he&&(Ie=="offset"||Ie=="parent")||ie&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||ma(Ie,ze)))&&Ee.push(Ie);return Ee}function rs(v,N){for(var j=v.length;j--;)if(wi(v[j][0],N))return j;return-1}function Ls(v,N,j){var H=N(v);return On(v)?H:ye(H,j(v))}function Lr(v){return v==null?v===void 0?L:b:hn&&hn in Object(v)?ur(v):gn(v)}function gi(v){return zt(v)&&Lr(v)==a}function yi(v,N,j,H,he){return v===N?!0:v==null||N==null||!zt(v)&&!zt(N)?v!==v&&N!==N:pa(v,N,j,H,yi,he)}function pa(v,N,j,H,he,ie){var _e=On(v),Ee=On(N),ze=_e?l:Qn(v),Ie=Ee?l:Qn(N);ze=ze==a?A:ze,Ie=Ie==a?A:Ie;var qe=ze==A,Mt=Ie==A,lt=ze==Ie;if(lt&&Ds(v)){if(!Ds(N))return!1;_e=!0,qe=!1}if(lt&&!qe)return ie||(ie=new Pn),_e||Yn(v)?Xt(v,N,j,H,he,ie):vi(v,N,ze,j,H,he,ie);if(!(j&s)){var je=qe&&Qt.call(v,"__wrapped__"),mt=Mt&&Qt.call(N,"__wrapped__");if(je||mt){var Xn=je?v.value():v,yn=mt?N.value():N;return ie||(ie=new Pn),he(Xn,yn,j,H,ie)}}return lt?(ie||(ie=new Pn),Oe(v,N,j,H,he,ie)):!1}function Gn(v){if(!xi(v)||ss(v))return!1;var N=Dn(v)?Zi:Ae;return N.test(Nt(v))}function Ln(v){return zt(v)&&bi(v.length)&&!!ve[Lr(v)]}function Os(v){if(!is(v))return lr(v);var N=[];for(var j in Object(v))Qt.call(v,j)&&j!="constructor"&&N.push(j);return N}function Xt(v,N,j,H,he,ie){var _e=j&s,Ee=v.length,ze=N.length;if(Ee!=ze&&!(_e&&ze>Ee))return!1;var Ie=ie.get(v);if(Ie&&ie.get(N))return Ie==N;var qe=-1,Mt=!0,lt=j&i?new Kn:void 0;for(ie.set(v,N),ie.set(N,v);++qe<Ee;){var je=v[qe],mt=N[qe];if(H)var Xn=_e?H(mt,je,qe,N,v,ie):H(je,mt,qe,v,N,ie);if(Xn!==void 0){if(Xn)continue;Mt=!1;break}if(lt){if(!Gt(N,function(yn,hr){if(!Be(lt,hr)&&(je===yn||he(je,yn,j,H,ie)))return lt.push(hr)})){Mt=!1;break}}else if(!(je===mt||he(je,mt,j,H,ie))){Mt=!1;break}}return ie.delete(v),ie.delete(N),Mt}function vi(v,N,j,H,he,ie,_e){switch(j){case q:if(v.byteLength!=N.byteLength||v.byteOffset!=N.byteOffset)return!1;v=v.buffer,N=N.buffer;case U:return!(v.byteLength!=N.byteLength||!ie(new eo(v),new eo(N)));case h:case g:case S:return wi(+v,+N);case y:return v.name==N.name&&v.message==N.message;case V:case k:return v==N+"";case C:var Ee=li;case F:var ze=H&s;if(Ee||(Ee=Fe),v.size!=N.size&&!ze)return!1;var Ie=_e.get(v);if(Ie)return Ie==N;H|=i,_e.set(v,N);var qe=Xt(Ee(v),Ee(N),H,he,ie,_e);return _e.delete(v),qe;case I:if(ui)return ui.call(v)==ui.call(N)}return!1}function Oe(v,N,j,H,he,ie){var _e=j&s,Ee=mn(v),ze=Ee.length,Ie=mn(N),qe=Ie.length;if(ze!=qe&&!_e)return!1;for(var Mt=ze;Mt--;){var lt=Ee[Mt];if(!(_e?lt in N:Qt.call(N,lt)))return!1}var je=ie.get(v);if(je&&ie.get(N))return je==N;var mt=!0;ie.set(v,N),ie.set(N,v);for(var Xn=_e;++Mt<ze;){lt=Ee[Mt];var yn=v[lt],hr=N[lt];if(H)var Ms=_e?H(hr,yn,lt,N,v,ie):H(yn,hr,lt,v,N,ie);if(!(Ms===void 0?yn===hr||he(yn,hr,j,H,ie):Ms)){mt=!1;break}Xn||(Xn=lt=="constructor")}if(mt&&!Xn){var Vs=v.constructor,Ti=N.constructor;Vs!=Ti&&"constructor"in v&&"constructor"in N&&!(typeof Vs=="function"&&Vs instanceof Vs&&typeof Ti=="function"&&Ti instanceof Ti)&&(mt=!1)}return ie.delete(v),ie.delete(N),mt}function mn(v){return Ls(v,js,lo)}function Ct(v,N){var j=v.__data__;return ga(N)?j[typeof N=="string"?"string":"hash"]:j.map}function Jt(v,N){var j=Je(v,N);return Gn(j)?j:void 0}function ur(v){var N=Qt.call(v,hn),j=v[hn];try{v[hn]=void 0;var H=!0}catch{}var he=Cr.call(v);return H&&(N?v[hn]=j:delete v[hn]),he}var lo=Zr?function(v){return v==null?[]:(v=Object(v),Yr(Zr(v),function(N){return un.call(v,N)}))}:os,Qn=Lr;(cr&&Qn(new cr(new ArrayBuffer(1)))!=q||Yt&&Qn(new Yt)!=C||Cs&&Qn(Cs.resolve())!=T||dn&&Qn(new dn)!=F||Ns&&Qn(new Ns)!=D)&&(Qn=function(v){var N=Lr(v),j=N==A?v.constructor:void 0,H=j?Nt(j):"";if(H)switch(H){case ci:return q;case $e:return C;case ks:return T;case es:return F;case ts:return D}return N});function ma(v,N){return N=N??o,!!N&&(typeof v=="number"||$t.test(v))&&v>-1&&v%1==0&&v<N}function ga(v){var N=typeof v;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?v!=="__proto__":v===null}function ss(v){return!!pe&&pe in v}function is(v){var N=v&&v.constructor,j=typeof N=="function"&&N.prototype||Ke;return v===j}function gn(v){return Cr.call(v)}function Nt(v){if(v!=null){try{return Ss.call(v)}catch{}try{return v+""}catch{}}return""}function wi(v,N){return v===N||v!==v&&N!==N}var _i=gi(function(){return arguments}())?gi:function(v){return zt(v)&&Qt.call(v,"callee")&&!un.call(v,"callee")},On=Array.isArray;function Ei(v){return v!=null&&bi(v.length)&&!Dn(v)}var Ds=ar||as;function ya(v,N){return yi(v,N)}function Dn(v){if(!xi(v))return!1;var N=Lr(v);return N==_||N==x||N==u||N==P}function bi(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=o}function xi(v){var N=typeof v;return v!=null&&(N=="object"||N=="function")}function zt(v){return v!=null&&typeof v=="object"}var Yn=Sr?sr(Sr):Ln;function js(v){return Ei(v)?ao(v):Os(v)}function os(){return[]}function as(){return!1}t.exports=ya})(Uf,Uf.exports);var JI=Uf.exports,G1={};Object.defineProperty(G1,"__esModule",{value:!0});const xU=XI,TU=JI;var b0;(function(t){function e(i={},o={},a=!1){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});let l=xU(o);a||(l=Object.keys(l).reduce((u,h)=>(l[h]!=null&&(u[h]=l[h]),u),{}));for(const u in i)i[u]!==void 0&&o[u]===void 0&&(l[u]=i[u]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(i={},o={}){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});const a=Object.keys(i).concat(Object.keys(o)).reduce((l,u)=>(TU(i[u],o[u])||(l[u]=o[u]===void 0?null:o[u]),l),{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(i={},o={}){i=i||{};const a=Object.keys(o).reduce((l,u)=>(o[u]!==i[u]&&i[u]!==void 0&&(l[u]=o[u]),l),{});return Object.keys(i).reduce((l,u)=>(i[u]!==o[u]&&o[u]===void 0&&(l[u]=null),l),a)}t.invert=r;function s(i,o,a=!1){if(typeof i!="object")return o;if(typeof o!="object")return;if(!a)return o;const l=Object.keys(o).reduce((u,h)=>(i[h]===void 0&&(u[h]=o[h]),u),{});return Object.keys(l).length>0?l:void 0}t.transform=s})(b0||(b0={}));G1.default=b0;var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});var x0;(function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e})(x0||(x0={}));Mp.default=x0;var Q1={};Object.defineProperty(Q1,"__esModule",{value:!0});const RE=Mp;class AU{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const n=this.ops[this.index];if(n){const r=this.offset,s=RE.default.length(n);if(e>=s-r?(e=s-r,this.index+=1,this.offset=0):this.offset+=e,typeof n.delete=="number")return{delete:e};{const i={};return n.attributes&&(i.attributes=n.attributes),typeof n.retain=="number"?i.retain=e:typeof n.retain=="object"&&n.retain!==null?i.retain=n.retain:typeof n.insert=="string"?i.insert=n.insert.substr(r,e):i.insert=n.insert,i}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?RE.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const e=this.offset,n=this.index,r=this.next(),s=this.ops.slice(this.index);return this.offset=e,this.index=n,[r].concat(s)}}else return[]}}Q1.default=AU;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=bU,r=XI,s=JI,i=G1;e.AttributeMap=i.default;const o=Mp;e.Op=o.default;const a=Q1;e.OpIterator=a.default;const l="\0",u=(g,y)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof y!="object"||y===null)throw new Error(`cannot retain a ${typeof y}`);const _=Object.keys(g)[0];if(!_||_!==Object.keys(y)[0])throw new Error(`embed types not matched: ${_} != ${Object.keys(y)[0]}`);return[_,g[_],y[_]]};class h{constructor(y){Array.isArray(y)?this.ops=y:y!=null&&Array.isArray(y.ops)?this.ops=y.ops:this.ops=[]}static registerEmbed(y,_){this.handlers[y]=_}static unregisterEmbed(y){delete this.handlers[y]}static getHandler(y){const _=this.handlers[y];if(!_)throw new Error(`no handlers for embed type "${y}"`);return _}insert(y,_){const x={};return typeof y=="string"&&y.length===0?this:(x.insert=y,_!=null&&typeof _=="object"&&Object.keys(_).length>0&&(x.attributes=_),this.push(x))}delete(y){return y<=0?this:this.push({delete:y})}retain(y,_){if(typeof y=="number"&&y<=0)return this;const x={retain:y};return _!=null&&typeof _=="object"&&Object.keys(_).length>0&&(x.attributes=_),this.push(x)}push(y){let _=this.ops.length,x=this.ops[_-1];if(y=r(y),typeof x=="object"){if(typeof y.delete=="number"&&typeof x.delete=="number")return this.ops[_-1]={delete:x.delete+y.delete},this;if(typeof x.delete=="number"&&y.insert!=null&&(_-=1,x=this.ops[_-1],typeof x!="object"))return this.ops.unshift(y),this;if(s(y.attributes,x.attributes)){if(typeof y.insert=="string"&&typeof x.insert=="string")return this.ops[_-1]={insert:x.insert+y.insert},typeof y.attributes=="object"&&(this.ops[_-1].attributes=y.attributes),this;if(typeof y.retain=="number"&&typeof x.retain=="number")return this.ops[_-1]={retain:x.retain+y.retain},typeof y.attributes=="object"&&(this.ops[_-1].attributes=y.attributes),this}}return _===this.ops.length?this.ops.push(y):this.ops.splice(_,0,y),this}chop(){const y=this.ops[this.ops.length-1];return y&&typeof y.retain=="number"&&!y.attributes&&this.ops.pop(),this}filter(y){return this.ops.filter(y)}forEach(y){this.ops.forEach(y)}map(y){return this.ops.map(y)}partition(y){const _=[],x=[];return this.forEach(C=>{(y(C)?_:x).push(C)}),[_,x]}reduce(y,_){return this.ops.reduce(y,_)}changeLength(){return this.reduce((y,_)=>_.insert?y+o.default.length(_):_.delete?y-_.delete:y,0)}length(){return this.reduce((y,_)=>y+o.default.length(_),0)}slice(y=0,_=1/0){const x=[],C=new a.default(this.ops);let S=0;for(;S<_&&C.hasNext();){let b;S<y?b=C.next(y-S):(b=C.next(_-S),x.push(b)),S+=o.default.length(b)}return new h(x)}compose(y){const _=new a.default(this.ops),x=new a.default(y.ops),C=[],S=x.peek();if(S!=null&&typeof S.retain=="number"&&S.attributes==null){let A=S.retain;for(;_.peekType()==="insert"&&_.peekLength()<=A;)A-=_.peekLength(),C.push(_.next());S.retain-A>0&&x.next(S.retain-A)}const b=new h(C);for(;_.hasNext()||x.hasNext();)if(x.peekType()==="insert")b.push(x.next());else if(_.peekType()==="delete")b.push(_.next());else{const A=Math.min(_.peekLength(),x.peekLength()),T=_.next(A),P=x.next(A);if(P.retain){const V={};if(typeof T.retain=="number")V.retain=typeof P.retain=="number"?A:P.retain;else if(typeof P.retain=="number")T.retain==null?V.insert=T.insert:V.retain=T.retain;else{const k=T.retain==null?"insert":"retain",[I,L,D]=u(T[k],P.retain),U=h.getHandler(I);V[k]={[I]:U.compose(L,D,k==="retain")}}const F=i.default.compose(T.attributes,P.attributes,typeof T.retain=="number");if(F&&(V.attributes=F),b.push(V),!x.hasNext()&&s(b.ops[b.ops.length-1],V)){const k=new h(_.rest());return b.concat(k).chop()}}else typeof P.delete=="number"&&(typeof T.retain=="number"||typeof T.retain=="object"&&T.retain!==null)&&b.push(P)}return b.chop()}concat(y){const _=new h(this.ops.slice());return y.ops.length>0&&(_.push(y.ops[0]),_.ops=_.ops.concat(y.ops.slice(1))),_}diff(y,_){if(this.ops===y.ops)return new h;const x=[this,y].map(T=>T.map(P=>{if(P.insert!=null)return typeof P.insert=="string"?P.insert:l;const V=T===y?"on":"with";throw new Error("diff() called "+V+" non-document")}).join("")),C=new h,S=n(x[0],x[1],_,!0),b=new a.default(this.ops),A=new a.default(y.ops);return S.forEach(T=>{let P=T[1].length;for(;P>0;){let V=0;switch(T[0]){case n.INSERT:V=Math.min(A.peekLength(),P),C.push(A.next(V));break;case n.DELETE:V=Math.min(P,b.peekLength()),b.next(V),C.delete(V);break;case n.EQUAL:V=Math.min(b.peekLength(),A.peekLength(),P);const F=b.next(V),k=A.next(V);s(F.insert,k.insert)?C.retain(V,i.default.diff(F.attributes,k.attributes)):C.push(k).delete(V);break}P-=V}}),C.chop()}eachLine(y,_=`
`){const x=new a.default(this.ops);let C=new h,S=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const b=x.peek(),A=o.default.length(b)-x.peekLength(),T=typeof b.insert=="string"?b.insert.indexOf(_,A)-A:-1;if(T<0)C.push(x.next());else if(T>0)C.push(x.next(T));else{if(y(C,x.next(1).attributes||{},S)===!1)return;S+=1,C=new h}}C.length()>0&&y(C,{},S)}invert(y){const _=new h;return this.reduce((x,C)=>{if(C.insert)_.delete(o.default.length(C));else{if(typeof C.retain=="number"&&C.attributes==null)return _.retain(C.retain),x+C.retain;if(C.delete||typeof C.retain=="number"){const S=C.delete||C.retain;return y.slice(x,x+S).forEach(A=>{C.delete?_.push(A):C.retain&&C.attributes&&_.retain(o.default.length(A),i.default.invert(C.attributes,A.attributes))}),x+S}else if(typeof C.retain=="object"&&C.retain!==null){const S=y.slice(x,x+1),b=new a.default(S.ops).next(),[A,T,P]=u(C.retain,b.insert),V=h.getHandler(A);return _.retain({[A]:V.invert(T,P)},i.default.invert(C.attributes,b.attributes)),x+1}}return x},0),_.chop()}transform(y,_=!1){if(_=!!_,typeof y=="number")return this.transformPosition(y,_);const x=y,C=new a.default(this.ops),S=new a.default(x.ops),b=new h;for(;C.hasNext()||S.hasNext();)if(C.peekType()==="insert"&&(_||S.peekType()!=="insert"))b.retain(o.default.length(C.next()));else if(S.peekType()==="insert")b.push(S.next());else{const A=Math.min(C.peekLength(),S.peekLength()),T=C.next(A),P=S.next(A);if(T.delete)continue;if(P.delete)b.push(P);else{const V=T.retain,F=P.retain;let k=typeof F=="object"&&F!==null?F:A;if(typeof V=="object"&&V!==null&&typeof F=="object"&&F!==null){const I=Object.keys(V)[0];if(I===Object.keys(F)[0]){const L=h.getHandler(I);L&&(k={[I]:L.transform(V[I],F[I],_)})}}b.retain(k,i.default.transform(T.attributes,P.attributes,_))}}return b.chop()}transformPosition(y,_=!1){_=!!_;const x=new a.default(this.ops);let C=0;for(;x.hasNext()&&C<=y;){const S=x.peekLength(),b=x.peekType();if(x.next(),b==="delete"){y-=Math.min(S,y-C);continue}else b==="insert"&&(C<y||!_)&&(y+=S);C+=S}return y}}h.Op=o.default,h.OpIterator=a.default,h.AttributeMap=i.default,h.handlers={},e.default=h,t.exports=h,t.exports.default=h})(E0,E0.exports);var Fr=E0.exports;const ae=Bf(Fr);class As extends Tr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}As.blotName="break";As.tagName="BR";let xs=class extends Mf{};function Vp(t){return t.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}const zs=class zs extends z1{static compare(e,n){const r=zs.order.indexOf(e),s=zs.order.indexOf(n);return r>=0||s>=0?r-s:e===n?0:e<n?-1:1}formatAt(e,n,r,s){if(zs.compare(this.statics.blotName,r)<0&&this.scroll.query(r,le.BLOT)){const i=this.isolate(e,n);s&&i.wrap(r,s)}else super.formatAt(e,n,r,s)}optimize(e){if(super.optimize(e),this.parent instanceof zs&&zs.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};ee(zs,"allowedChildren",[zs,As,Tr,xs]),ee(zs,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let si=zs;const PE=1;class sn extends eh{constructor(){super(...arguments);ee(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=ZI(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,s,i){r<=0||(this.scroll.query(s,le.BLOCK)?n+r===this.length()&&this.format(s,i):super.formatAt(n,Math.min(r,this.length()-n-1),s,i),this.cache={})}insertAt(n,r,s){if(s!=null){super.insertAt(n,r,s),this.cache={};return}if(r.length===0)return;const i=r.split(`
`),o=i.shift();o.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let a=this;i.reduce((l,u)=>(a=a.split(l,!0),a.insertAt(0,u),u.length),n+o.length)}insertBefore(n,r){const{head:s}=this.children;super.insertBefore(n,r),s instanceof As&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+PE),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-PE)){const i=this.clone();return n===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(n,r);return this.cache={},s}}sn.blotName="block";sn.tagName="P";sn.defaultChild=As;sn.allowedChildren=[As,si,Tr,xs];class Ur extends Tr{attach(){super.attach(),this.attributes=new Lp(this.domNode)}delta(){return new ae().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const r=this.scroll.query(e,le.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(e,n,r,s){this.format(r,s)}insertAt(e,n,r){if(r!=null){super.insertAt(e,n,r);return}const s=n.split(`
`),i=s.pop(),o=s.map(l=>{const u=this.scroll.create(sn.blotName);return u.insertAt(0,l),u}),a=this.split(e);o.forEach(l=>{this.parent.insertBefore(l,a)}),i&&this.parent.insertBefore(this.scroll.create("text",i),a)}}Ur.scope=le.BLOCK_BLOT;function ZI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(An).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),Mr(r,{},e)),new ae).insert(`
`,Mr(t))}function Mr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Mr(t.parent,e,n)}const Or=class Or extends Tr{static value(){}constructor(e,n,r){super(e,n),this.selection=r,this.textNode=document.createTextNode(Or.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let r=this,s=0;for(;r!=null&&r.statics.scope!==le.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Or.CONTENTS.length,r.optimize(),r.formatAt(s,Or.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof xs?this.prev:null,r=n?n.length():0,s=this.next instanceof xs?this.next:null,i=s?s.text:"",{textNode:o}=this,a=o.data.split(Or.CONTENTS).join("");o.data=Or.CONTENTS;let l;if(n)l=n,(a||s)&&(n.insertAt(n.length(),a+i),s&&s.remove());else if(s)l=s,s.insertAt(0,a);else{const u=document.createTextNode(a);l=this.scroll.create(u),this.parent.insertBefore(l,this)}if(this.remove(),e){const u=(y,_)=>n&&y===n.domNode?_:y===o?r+_-1:s&&y===s.domNode?r+a.length+_:null,h=u(e.start.node,e.start.offset),g=u(e.end.node,e.end.offset);if(h!==null&&g!==null)return{startNode:l.domNode,startOffset:h,endNode:l.domNode,endOffset:g}}return null}update(e,n){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(n.range=r)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=Or.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};ee(Or,"blotName","cursor"),ee(Or,"className","ql-cursor"),ee(Or,"tagName","span"),ee(Or,"CONTENTS","\uFEFF");let mc=Or;var eS={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function i(l,u,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new s(h,g||l,y),x=n?n+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],_]:l._events[x].push(_):(l._events[x]=_,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,g;if(this._eventsCount===0)return u;for(g in h=this._events)e.call(h,g)&&u.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=n?n+u:u,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,_=g.length,x=new Array(_);y<_;y++)x[y]=g[y].fn;return x},a.prototype.listenerCount=function(u){var h=n?n+u:u,g=this._events[h];return g?g.fn?1:g.length:0},a.prototype.emit=function(u,h,g,y,_,x){var C=n?n+u:u;if(!this._events[C])return!1;var S=this._events[C],b=arguments.length,A,T;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),b){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,g),!0;case 4:return S.fn.call(S.context,h,g,y),!0;case 5:return S.fn.call(S.context,h,g,y,_),!0;case 6:return S.fn.call(S.context,h,g,y,_,x),!0}for(T=1,A=new Array(b-1);T<b;T++)A[T-1]=arguments[T];S.fn.apply(S.context,A)}else{var P=S.length,V;for(T=0;T<P;T++)switch(S[T].once&&this.removeListener(u,S[T].fn,void 0,!0),b){case 1:S[T].fn.call(S[T].context);break;case 2:S[T].fn.call(S[T].context,h);break;case 3:S[T].fn.call(S[T].context,h,g);break;case 4:S[T].fn.call(S[T].context,h,g,y);break;default:if(!A)for(V=1,A=new Array(b-1);V<b;V++)A[V-1]=arguments[V];S[T].fn.apply(S[T].context,A)}}return!0},a.prototype.on=function(u,h,g){return i(this,u,h,g,!1)},a.prototype.once=function(u,h,g){return i(this,u,h,g,!0)},a.prototype.removeListener=function(u,h,g,y){var _=n?n+u:u;if(!this._events[_])return this;if(!h)return o(this,_),this;var x=this._events[_];if(x.fn)x.fn===h&&(!y||x.once)&&(!g||x.context===g)&&o(this,_);else{for(var C=0,S=[],b=x.length;C<b;C++)(x[C].fn!==h||y&&!x[C].once||g&&x[C].context!==g)&&S.push(x[C]);S.length?this._events[_]=S.length===1?S[0]:S:o(this,_)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(eS);var IU=eS.exports;const SU=Bf(IU),T0=new WeakMap,A0=["error","warn","log","info"];let I0="warn";function tS(t){if(I0&&A0.indexOf(t)<=A0.indexOf(I0)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console[t](...n)}}function Ji(t){return A0.reduce((e,n)=>(e[n]=tS.bind(console,n,t),e),{})}Ji.level=t=>{I0=t};tS.level=Ji.level;const Dm=Ji("quill:events"),CU=["selectionchange","mousedown","mouseup","click"];CU.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const i=T0.get(s);i&&i.emitter&&i.emitter.handleDOM(...n)})})});class se extends SU{constructor(){super(),this.domListeners={},this.on("error",Dm.error)}emit(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Dm.log.call(Dm,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];(this.domListeners[e.type]||[]).forEach(i=>{let{node:o,handler:a}=i;(e.target===o||o.contains(e.target))&&a(e,...r)})}listenDOM(e,n,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:r})}}ee(se,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),ee(se,"sources",{API:"api",SILENT:"silent",USER:"user"});const jm=Ji("quill:selection");class za{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class NU{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new za(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,se.sources.USER),1)}),this.emitter.on(se.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(se.events.SCROLL_UPDATE,(s,i)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=i.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(o?se.sources.SILENT:s)}catch{}})}),this.emitter.on(se.events.SCROLL_OPTIMIZE,(r,s)=>{if(s.range){const{startNode:i,startOffset:o,endNode:a,endOffset:l}=s.range;this.setNativeRange(i,o,a,l),this.update(se.sources.SILENT)}}),this.update(se.sources.SILENT)}handleComposition(){this.emitter.on(se.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(se.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(se.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,le.BLOCK))){if(r.start.node!==this.cursor.textNode){const s=this.scroll.find(r.start.node,!1);if(s==null)return;if(s instanceof An){const i=s.split(r.start.offset);s.parent.insertBefore(this.cursor,i)}else s.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;let s,[i,o]=this.scroll.leaf(e);if(i==null)return null;if(n>0&&o===i.length()){const[h]=this.scroll.leaf(e+1);if(h){const[g]=this.scroll.line(e),[y]=this.scroll.line(e+1);g===y&&(i=h,o=0)}}[s,o]=i.position(o,!0);const a=document.createRange();if(n>0)return a.setStart(s,o),[i,o]=this.scroll.leaf(e+n),i==null?null:([s,o]=i.position(o,!0),a.setEnd(s,o),a.getBoundingClientRect());let l="left",u;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(a.setStart(s,o),a.setEnd(s,o+1)):(a.setStart(s,o-1),a.setEnd(s,o),l="right"),u=a.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;u=i.domNode.getBoundingClientRect(),o>0&&(l="right")}return{bottom:u.top+u.height,height:u.height,left:u[l],right:u[l],top:u.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const r=this.normalizeNative(n);return jm.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Mm(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const r=n.map(o=>{const[a,l]=o,u=this.scroll.find(a,!0),h=u.offset(this.scroll);return l===0?h:u instanceof An?h+u.index(a,l):h+u.length()}),s=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(s,...r);return new za(i,s-i)}normalizeNative(e){if(!Mm(this.root,e.startContainer)||!e.collapsed&&!Mm(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(r=>{let{node:s,offset:i}=r;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>i)s=s.childNodes[i],i=0;else if(s.childNodes.length===i)s=s.lastChild,s instanceof Text?i=s.data.length:s.childNodes.length>0?i=s.childNodes.length:i=s.childNodes.length+1;else break;r.node=s,r.offset=i}),n}rangeToNative(e){const n=this.scroll.length(),r=(s,i)=>{s=Math.min(n-1,s);const[o,a]=this.scroll.leaf(s);return o?o.position(a,i):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(jm.info("setNativeRange",e,n,r,s),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||i||e!==a.startContainer||n!==a.startOffset||r!==a.endContainer||s!==a.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(s=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const l=document.createRange();l.setStart(e,n),l.setEnd(r,s),o.removeAllRanges(),o.addRange(l)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se.sources.API;if(typeof n=="string"&&(r=n,n=!1),jm.info("setRange",e),e!=null){const s=this.rangeToNative(e);this.setNativeRange(...s,n)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se.sources.USER;const n=this.lastRange,[r,s]=this.getRange();if(this.lastRange=r,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!$1(n,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[se.events.SELECTION_CHANGE,Kl(this.lastRange),Kl(n),e];this.emitter.emit(se.events.EDITOR_CHANGE,...i),e!==se.sources.SILENT&&this.emitter.emit(...i)}}}function Mm(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const kU=/^[ -~]*$/;class RU{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const r=LE(e),s=new ae;return LU(r.ops.slice()).reduce((o,a)=>{const l=Fr.Op.length(a);let u=a.attributes||{},h=!1,g=!1;if(a.insert!=null){if(s.retain(l),typeof a.insert=="string"){const x=a.insert;g=!x.endsWith(`
`)&&(n<=o||!!this.scroll.descendant(Ur,o)[0]),this.scroll.insertAt(o,x);const[C,S]=this.scroll.line(o);let b=zo({},Mr(C));if(C instanceof sn){const[A]=C.descendant(An,S);A&&(b=zo(b,Mr(A)))}u=Fr.AttributeMap.diff(b,u)||{}}else if(typeof a.insert=="object"){const x=Object.keys(a.insert)[0];if(x==null)return o;const C=this.scroll.query(x,le.INLINE)!=null;if(C)(n<=o||this.scroll.descendant(Ur,o)[0])&&(g=!0);else if(o>0){const[S,b]=this.scroll.descendant(An,o-1);S instanceof xs?S.value()[b]!==`
`&&(h=!0):S instanceof Tr&&S.statics.scope===le.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,x,a.insert[x]),C){const[S]=this.scroll.descendant(An,o);if(S){const b=zo({},Mr(S));u=Fr.AttributeMap.diff(b,u)||{}}}}n+=l}else if(s.push(a),a.retain!==null&&typeof a.retain=="object"){const x=Object.keys(a.retain)[0];if(x==null)return o;this.scroll.updateEmbedAt(o,x,a.retain[x])}Object.keys(u).forEach(x=>{this.scroll.formatAt(o,l,x,u[x])});const y=h?1:0,_=g?1:0;return n+=y+_,s.retain(y),s.delete(_),o+l+y+_},0),s.reduce((o,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(o,a.delete),o):o+Fr.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new ae().retain(e).delete(n))}formatLine(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(i=>{this.scroll.lines(e,Math.max(n,1)).forEach(o=>{o.format(i,r[i])})}),this.scroll.optimize();const s=new ae().retain(e).retain(n,Kl(r));return this.update(s)}formatText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(i=>{this.scroll.formatAt(e,n,i,r[i])});const s=new ae().retain(e).retain(n,Kl(r));return this.update(s)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new ae)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],s=[];n===0?this.scroll.path(e).forEach(a=>{const[l]=a;l instanceof sn?r.push(l):l instanceof An&&s.push(l)}):(r=this.scroll.lines(e,n),s=this.scroll.descendants(An,e,n));const[i,o]=[r,s].map(a=>{const l=a.shift();if(l==null)return{};let u=Mr(l);for(;Object.keys(u).length>0;){const h=a.shift();if(h==null)return u;u=PU(Mr(h),u)}return u});return{...i,...o}}getHTML(e,n){const[r,s]=this.scroll.line(e);if(r){const i=r.length();return r.length()>=s+n&&!(s===0&&n===i)?nh(r,s,n,!0):nh(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,n){const r=LE(n),s=new ae().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(s)}insertEmbed(e,n,r){return this.scroll.insertAt(e,n,r),this.update(new ae().retain(e).insert({[n]:r}))}insertText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(r).forEach(s=>{this.scroll.formatAt(e,n.length,s,r[s])}),this.update(new ae().retain(e).insert(n,Kl(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==sn.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof As}removeFormat(e,n){const r=this.getText(e,n),[s,i]=this.scroll.line(e+n);let o=0,a=new ae;s!=null&&(o=s.length()-i,a=s.delta().slice(i,i+o-1).insert(`
`));const u=this.getContents(e,n+o).diff(new ae().insert(r).concat(a)),h=new ae().retain(e).concat(u);return this.applyDelta(h)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(kU)&&this.scroll.find(n[0].target)){const i=this.scroll.find(n[0].target),o=Mr(i),a=i.offset(this.scroll),l=n[0].oldValue.replace(mc.CONTENTS,""),u=new ae().insert(l),h=new ae().insert(i.value()),g=r&&{oldRange:OE(r.oldRange,-a),newRange:OE(r.newRange,-a)};e=new ae().retain(a).concat(u.diff(h,g)).reduce((_,x)=>x.insert?_.insert(x.insert,o):_.push(x),new ae),this.delta=s.compose(e)}else this.delta=this.getDelta(),(!e||!$1(s.compose(e),this.delta))&&(e=s.diff(this.delta,r));return e}}function El(t,e,n){if(t.length===0){const[_]=Vm(n.pop());return e<=0?`</li></${_}>`:`</li></${_}>${El([],e-1,n)}`}const[{child:r,offset:s,length:i,indent:o,type:a},...l]=t,[u,h]=Vm(a);if(o>e)return n.push(a),o===e+1?`<${u}><li${h}>${nh(r,s,i)}${El(l,o,n)}`:`<${u}><li>${El(t,e+1,n)}`;const g=n[n.length-1];if(o===e&&a===g)return`</li><li${h}>${nh(r,s,i)}${El(l,o,n)}`;const[y]=Vm(n.pop());return`</li></${y}>${El(t,e-1,n)}`}function nh(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof xs)return Vp(t.value().slice(e,e+n));if(t instanceof ws){if(t.statics.blotName==="list-container"){const u=[];return t.children.forEachAt(e,n,(h,g,y)=>{const _="formats"in h&&typeof h.formats=="function"?h.formats():{};u.push({child:h,offset:g,length:y,indent:_.indent||0,type:_.list})}),El(u,-1,[])}const s=[];if(t.children.forEachAt(e,n,(u,h,g)=>{s.push(nh(u,h,g))}),r||t.statics.blotName==="list")return s.join("");const{outerHTML:i,innerHTML:o}=t.domNode,[a,l]=i.split(`>${o}<`);return a==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${l}`:`${a}>${s.join("")}<${l}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function PU(t,e){return Object.keys(e).reduce((n,r)=>{if(t[r]==null)return n;const s=e[r];return s===t[r]?n[r]=s:Array.isArray(s)?s.indexOf(t[r])<0?n[r]=s.concat([t[r]]):n[r]=s:n[r]=[s,t[r]],n},{})}function Vm(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function LE(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,n.attributes)}return e.push(n)},new ae)}function OE(t,e){let{index:n,length:r}=t;return new za(n+e,r)}function LU(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((s,i)=>{i&&e.push({insert:`
`,attributes:n.attributes}),s&&e.push({insert:s,attributes:n.attributes})}):e.push(n)}),e}class Is{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}ee(Is,"DEFAULTS",{});const dd="\uFEFF";class Y1 extends Tr{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(dd),this.rightGuard=document.createTextNode(dd),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,r;const s=e.data.split(dd).join("");if(e===this.leftGuard)if(this.prev instanceof xs){const i=this.prev.length();this.prev.insertAt(i,s),n={startNode:this.prev.domNode,startOffset:i+s.length}}else r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:s.length};else e===this.rightGuard&&(this.next instanceof xs?(this.next.insertAt(0,s),n={startNode:this.next.domNode,startOffset:s.length}):(r=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:s.length}));return e.data=dd,n}update(e,n){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const s=this.restore(r.target);s&&(n.range=s)}})}}class OU{constructor(e,n){ee(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof Y1)&&(this.emitter.emit(se.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(se.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(se.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(se.events.COMPOSITION_END,e),this.isComposing=!1}}const wu=class wu{constructor(e,n){ee(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};ee(wu,"DEFAULTS",{modules:{}}),ee(wu,"themes",{default:wu});let gc=wu;const DU=t=>t.parentElement||t.getRootNode().host||null,jU=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}},fd=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},DE=(t,e,n,r,s,i)=>t<n&&e>r?0:t<n?-(n-t+s):e>r?e-t>r-n?t+s-n:e-r+i:0,MU=(t,e)=>{var i,o,a;const n=t.ownerDocument;let r=e,s=t;for(;s;){const l=s===n.body,u=l?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??n.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??n.documentElement.clientHeight,left:0}:jU(s),h=getComputedStyle(s),g=DE(r.left,r.right,u.left,u.right,fd(h.scrollPaddingLeft),fd(h.scrollPaddingRight)),y=DE(r.top,r.bottom,u.top,u.bottom,fd(h.scrollPaddingTop),fd(h.scrollPaddingBottom));if(g||y)if(l)(a=n.defaultView)==null||a.scrollBy(g,y);else{const{scrollLeft:_,scrollTop:x}=s;y&&(s.scrollTop+=y),g&&(s.scrollLeft+=g);const C=s.scrollLeft-_,S=s.scrollTop-x;r={left:r.left-C,top:r.top-S,right:r.right-C,bottom:r.bottom-S}}s=l||h.position==="fixed"?null:DU(s)}},VU=100,UU=["block","break","cursor","inline","scroll","text"],BU=(t,e,n)=>{const r=new pc;return UU.forEach(s=>{const i=e.query(s);i&&r.register(i)}),t.forEach(s=>{let i=e.query(s);i||n.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(r.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>VU){n.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),r},Ql=Ji("quill"),pd=new pc;ws.uiClass="ql-ui";const us=class us{static debug(e){e===!0&&(e="log"),Ji.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return T0.get(e)||pd.find(e,n)}static import(e){return this.imports[e]==null&&Ql.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,n):Object.keys(e).forEach(s=>{this.register(s,e[s],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&Ql.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&pd.register(n),typeof n.register=="function"&&n.register(pd)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=FU(e,n),this.container=this.options.container,this.container==null){Ql.error("Invalid Quill container",e);return}this.options.debug&&us.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",T0.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new se;const s=H1.blotName,i=this.options.registry.query(s);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new RU(this.scroll),this.selection=new NU(this.scroll,this.emitter),this.composition=new OU(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(se.events.EDITOR_CHANGE,o=>{o===se.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(se.events.SCROLL_UPDATE,(o,a)=>{const l=this.selection.lastRange,[u]=this.selection.getRange(),h=l&&u?{oldRange:l,newRange:u}:void 0;cs.call(this,()=>this.editor.update(null,a,h),o)}),this.emitter.on(se.events.SCROLL_EMBED_UPDATE,(o,a)=>{const l=this.selection.lastRange,[u]=this.selection.getRange(),h=l&&u?{oldRange:l,newRange:u}:void 0;cs.call(this,()=>{const g=new ae().retain(o.offset(this)).retain({[o.statics.blotName]:a});return this.editor.update(g,[],h)},us.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,r){return[e,n,,r]=Ii(e,n,r),cs.call(this,()=>this.editor.deleteText(e,n),r,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se.sources.API;return cs.call(this,()=>{const s=this.getSelection(!0);let i=new ae;if(s==null)return i;if(this.scroll.query(e,le.BLOCK))i=this.editor.formatLine(s.index,s.length,{[e]:n});else{if(s.length===0)return this.selection.format(e,n),i;i=this.editor.formatText(s.index,s.length,{[e]:n})}return this.setSelection(s,se.sources.SILENT),i},r)}formatLine(e,n,r,s,i){let o;return[e,n,o,i]=Ii(e,n,r,s,i),cs.call(this,()=>this.editor.formatLine(e,n,o),i,e,0)}formatText(e,n,r,s,i){let o;return[e,n,o,i]=Ii(e,n,r,s,i),cs.call(this,()=>this.editor.formatText(e,n,o),i,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,n):r=this.selection.getBounds(e.index,e.length),!r)return null;const s=this.container.getBoundingClientRect();return{bottom:r.bottom-s.top,height:r.height,left:r.left-s.left,right:r.right-s.left,top:r.top-s.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=Ii(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Ii(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Ii(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:us.sources.API;return cs.call(this,()=>this.editor.insertEmbed(e,n,r),s,e)}insertText(e,n,r,s,i){let o;return[e,,o,i]=Ii(e,0,r,s,i),cs.call(this,()=>this.editor.insertText(e,n,o),i,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,r){return[e,n,,r]=Ii(e,n,r),cs.call(this,()=>this.editor.removeFormat(e,n),r,e)}scrollRectIntoView(e){MU(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se.sources.API;return cs.call(this,()=>{e=new ae(e);const r=this.getLength(),s=this.editor.deleteText(0,r),i=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(i).compose(o)},n)}setSelection(e,n,r){e==null?this.selection.setRange(null,n||us.sources.API):([e,n,,r]=Ii(e,n,r),this.selection.setRange(new za(Math.max(0,e),n),r),r!==se.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se.sources.API;const r=new ae().insert(e);return this.setContents(r,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se.sources.API;return cs.call(this,()=>(e=new ae(e),this.editor.applyDelta(e)),n,!0)}};ee(us,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:pd,theme:"default"}),ee(us,"events",se.events),ee(us,"sources",se.sources),ee(us,"version","2.0.2"),ee(us,"imports",{delta:ae,parchment:dU,"core/module":Is,"core/theme":gc});let K=us;function jE(t){return typeof t=="string"?document.querySelector(t):t}function Um(t){return Object.entries(t??{}).reduce((e,n)=>{let[r,s]=n;return{...e,[r]:s===!0?{}:s}},{})}function ME(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function FU(t,e){const n=jE(t);if(!n)throw new Error("Invalid Quill container");const s=!e.theme||e.theme===K.DEFAULTS.theme?gc:K.import(`themes/${e.theme}`);if(!s)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...o}=K.DEFAULTS,{modules:a,...l}=s.DEFAULTS;let u=Um(e.modules);u!=null&&u.toolbar&&u.toolbar.constructor!==Object&&(u={...u,toolbar:{container:u.toolbar}});const h=zo({},Um(i),Um(a),u),g={...o,...ME(l),...ME(e)};let y=e.registry;return y?e.formats&&Ql.warn('Ignoring "formats" option because "registry" is specified'):y=e.formats?BU(e.formats,g.registry,Ql):g.registry,{...g,registry:y,container:n,theme:s,modules:Object.entries(h).reduce((_,x)=>{let[C,S]=x;if(!S)return _;const b=K.import(`modules/${C}`);return b==null?(Ql.error(`Cannot load ${C} module. Are you sure you registered it?`),_):{..._,[C]:zo({},b.DEFAULTS||{},S)}},{}),bounds:jE(g.bounds)}}function cs(t,e,n,r){if(!this.isEnabled()&&e===se.sources.USER&&!this.allowReadOnlyEdits)return new ae;let s=n==null?null:this.getSelection();const i=this.editor.delta,o=t();if(s!=null&&(n===!0&&(n=s.index),r==null?s=VE(s,o,e):r!==0&&(s=VE(s,n,r,e)),this.setSelection(s,se.sources.SILENT)),o.length()>0){const a=[se.events.TEXT_CHANGE,o,i,e];this.emitter.emit(se.events.EDITOR_CHANGE,...a),e!==se.sources.SILENT&&this.emitter.emit(...a)}return o}function Ii(t,e,n,r,s){let i={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(s=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(s=r,r=n,n=e,e=0),typeof n=="object"?(i=n,s=r):typeof n=="string"&&(r!=null?i[n]=r:s=n),s=s||se.sources.API,[t,e,i,s]}function VE(t,e,n,r){const s=typeof n=="number"?n:0;if(t==null)return null;let i,o;return e&&typeof e.transformPosition=="function"?[i,o]=[t.index,t.index+t.length].map(a=>e.transformPosition(a,r!==se.sources.USER)):[i,o]=[t.index,t.index+t.length].map(a=>a<e||a===e&&r===se.sources.USER?a:s>=0?a+s:Math.max(e,a+s)),new za(i,o-i)}class sl extends Op{}function UE(t){return t instanceof sn||t instanceof Ur}function BE(t){return typeof t.updateContent=="function"}class bl extends H1{constructor(e,n,r){let{emitter:s}=r;super(e,n),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(se.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(se.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(se.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[r,s]=this.line(e),[i]=this.line(e+n);if(super.deleteAt(e,n),i!=null&&r!==i&&s>0){if(r instanceof Ur||i instanceof Ur){this.optimize();return}const o=i.children.head instanceof As?null:i.children.head;r.moveChildren(i,o),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,r,s){super.formatAt(e,n,r,s),this.optimize()}insertAt(e,n,r){if(e>=this.length())if(r==null||this.scroll.query(n,le.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),r==null&&n.endsWith(`
`)?s.insertAt(0,n.slice(0,-1),r):s.insertAt(0,n,r)}else{const s=this.scroll.create(n,r);this.appendChild(s)}else super.insertAt(e,n,r);this.optimize()}insertBefore(e,n){if(e.statics.scope===le.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,n)}else super.insertBefore(e,n)}insertContents(e,n){const r=this.deltaToRenderBlocks(n.concat(new ae().insert(`
`))),s=r.pop();if(s==null)return;this.batchStart();const i=r.shift();if(i){const l=i.type==="block"&&(i.delta.length()===0||!this.descendant(Ur,e)[0]&&e<this.length()),u=i.type==="block"?i.delta:new ae().insert({[i.key]:i.value});Bm(this,e,u);const h=i.type==="block"?1:0,g=e+u.length()+h;l&&this.insertAt(g-1,`
`);const y=Mr(this.line(e)[0]),_=Fr.AttributeMap.diff(y,i.attributes)||{};Object.keys(_).forEach(x=>{this.formatAt(g-1,1,x,_[x])}),e=g}let[o,a]=this.children.find(e);if(r.length&&(o&&(o=o.split(a),a=0),r.forEach(l=>{if(l.type==="block"){const u=this.createBlock(l.attributes,o||void 0);Bm(u,0,l.delta)}else{const u=this.create(l.key,l.value);this.insertBefore(u,o||void 0),Object.keys(l.attributes).forEach(h=>{u.format(h,l.attributes[h])})}})),s.type==="block"&&s.delta.length()){const l=o?o.offset(o.scroll)+a:this.length();Bm(this,l,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[r,s]=n;return r instanceof An?[r,s]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(UE,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(s,i,o)=>{let a=[],l=o;return s.children.forEachAt(i,o,(u,h,g)=>{UE(u)?a.push(u):u instanceof Op&&(a=a.concat(r(u,h,l))),l-=g}),a};return r(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(se.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=se.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:s}=r;const i=this.find(s,!0);return i&&!BE(i)}),e.length>0&&this.emitter.emit(se.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(se.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,r){const[s]=this.descendant(i=>i instanceof Ur,e);s&&s.statics.blotName===n&&BE(s)&&s.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let r=new ae;return e.forEach(s=>{const i=s==null?void 0:s.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(l=>{r.insert(l,s.attributes),n.push({type:"block",delta:r,attributes:s.attributes??{}}),r=new ae});const a=o[o.length-1];a&&r.insert(a,s.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,le.INLINE)?r.push(s):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new ae,n.push({type:"blockEmbed",key:o,value:i[o],attributes:s.attributes??{}}))}}),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}createBlock(e,n){let r;const s={};Object.entries(e).forEach(a=>{let[l,u]=a;this.query(l,le.BLOCK&le.BLOT)!=null?r=l:s[l]=u});const i=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(i,n||void 0);const o=i.length();return Object.entries(s).forEach(a=>{let[l,u]=a;i.formatAt(0,o,l,u)}),i}}ee(bl,"blotName","scroll"),ee(bl,"className","ql-editor"),ee(bl,"tagName","DIV"),ee(bl,"defaultChild",sn),ee(bl,"allowedChildren",[sn,Ur,sl]);function Bm(t,e,n){n.reduce((r,s)=>{const i=Fr.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const a=s.insert;t.insertAt(r,a);const[l]=t.descendant(An,r),u=Mr(l);o=Fr.AttributeMap.diff(u,o)||{}}else if(typeof s.insert=="object"){const a=Object.keys(s.insert)[0];if(a==null)return r;if(t.insertAt(r,a,s.insert[a]),t.scroll.query(a,le.INLINE)!=null){const[u]=t.descendant(An,r),h=Mr(u);o=Fr.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(a=>{t.formatAt(r,i,a,o[a])}),r+i},e)}const X1={scope:le.BLOCK,whitelist:["right","center","justify"]},qU=new ri("align","align",X1),nS=new Ts("align","ql-align",X1),rS=new ua("align","text-align",X1);class sS extends ua{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):n}}const $U=new Ts("color","ql-color",{scope:le.INLINE}),J1=new sS("color","color",{scope:le.INLINE}),zU=new Ts("background","ql-bg",{scope:le.INLINE}),Z1=new sS("background","background-color",{scope:le.INLINE});class il extends sl{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${Vp(this.code(e,n))}
</pre>`}}class In extends sn{static register(){K.register(il)}}ee(In,"TAB","  ");class ev extends si{}ev.blotName="code";ev.tagName="CODE";In.blotName="code-block";In.className="ql-code-block";In.tagName="DIV";il.blotName="code-block-container";il.className="ql-code-block-container";il.tagName="DIV";il.allowedChildren=[In];In.allowedChildren=[xs,As,mc];In.requiredContainer=il;const tv={scope:le.BLOCK,whitelist:["rtl"]},iS=new ri("direction","dir",tv),oS=new Ts("direction","ql-direction",tv),aS=new ua("direction","direction",tv),lS={scope:le.INLINE,whitelist:["serif","monospace"]},cS=new Ts("font","ql-font",lS);class HU extends ua{value(e){return super.value(e).replace(/["']/g,"")}}const uS=new HU("font","font-family",lS),hS=new Ts("size","ql-size",{scope:le.INLINE,whitelist:["small","large","huge"]}),dS=new ua("size","font-size",{scope:le.INLINE,whitelist:["10px","18px","32px"]}),WU=Ji("quill:keyboard"),KU=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Up extends Is{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==e[r]&&n[r]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=QU(e);if(s==null){WU.warn("Attempted to add invalid keyboard binding",s);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const a={...s,key:o,...n,...r};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const s=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(b=>Up.match(e,b));if(s.length===0)return;const i=K.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[a,l]=this.quill.getLine(o.index),[u,h]=this.quill.getLeaf(o.index),[g,y]=o.length===0?[u,h]:this.quill.getLeaf(o.index+o.length),_=u instanceof Mf?u.value().slice(0,h):"",x=g instanceof Mf?g.value().slice(y):"",C={collapsed:o.length===0,empty:o.length===0&&a.length()<=1,format:this.quill.getFormat(o),line:a,offset:l,prefix:_,suffix:x,event:e};s.some(b=>{if(b.collapsed!=null&&b.collapsed!==C.collapsed||b.empty!=null&&b.empty!==C.empty||b.offset!=null&&b.offset!==C.offset)return!1;if(Array.isArray(b.format)){if(b.format.every(A=>C.format[A]==null))return!1}else if(typeof b.format=="object"&&!Object.keys(b.format).every(A=>b.format[A]===!0?C.format[A]!=null:b.format[A]===!1?C.format[A]==null:$1(b.format[A],C.format[A])))return!1;return b.prefix!=null&&!b.prefix.test(C.prefix)||b.suffix!=null&&!b.suffix.test(C.suffix)?!1:b.handler.call(this,o,C,b)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let s={};const[i]=this.quill.getLine(e.index);let o=new ae().retain(e.index-r).delete(r);if(n.offset===0){const[a]=this.quill.getLine(e.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const u=i.formats(),h=this.quill.getFormat(e.index-1,1);if(s=Fr.AttributeMap.diff(u,h)||{},Object.keys(s).length>0){const g=new ae().retain(e.index+i.length()-2).retain(1,s);o=o.compose(g)}}}this.quill.updateContents(o,K.sources.USER),this.quill.focus()}handleDelete(e,n){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let s={};const[i]=this.quill.getLine(e.index);let o=new ae().retain(e.index).delete(r);if(n.offset>=i.length()-1){const[a]=this.quill.getLine(e.index+1);if(a){const l=i.formats(),u=this.quill.getFormat(e.index,1);s=Fr.AttributeMap.diff(l,u)||{},Object.keys(s).length>0&&(o=o.retain(a.length()-1).retain(1,s))}}this.quill.updateContents(o,K.sources.USER),this.quill.focus()}handleDeleteRange(e){nv({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const r=Object.keys(n.format).reduce((i,o)=>(this.quill.scroll.query(o,le.BLOCK)&&!Array.isArray(n.format[o])&&(i[o]=n.format[o]),i),{}),s=new ae().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(s,K.sources.USER),this.quill.setSelection(e.index+1,K.sources.SILENT),this.quill.focus()}}const GU={bindings:{bold:Fm("bold"),italic:Fm("italic"),underline:Fm("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",K.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",K.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",K.sources.USER):e.format.list!=null&&this.quill.format("list",!1,K.sources.USER)}},"indent code-block":FE(!0),"outdent code-block":FE(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,K.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new ae().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,K.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,K.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,K.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,K.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),r={...e.formats(),list:"checked"},s=new ae().retain(t.index).insert(`
`,r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,K.sources.USER),this.quill.setSelection(t.index+1,K.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,r]=this.quill.getLine(t.index),s=new ae().retain(t.index).insert(`
`,e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(s,K.sources.USER),this.quill.setSelection(t.index+1,K.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,r,s,i]=e.getTable(t),o=YU(n,r,s,i);if(o==null)return;let a=n.offset();if(o<0){const l=new ae().retain(a).insert(`
`);this.quill.updateContents(l,K.sources.USER),this.quill.setSelection(t.index+1,t.length,K.sources.SILENT)}else if(o>0){a+=n.length();const l=new ae().retain(a).insert(`
`);this.quill.updateContents(l,K.sources.USER),this.quill.setSelection(a,K.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:r}=e,s=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(s-1,K.sources.USER):this.quill.setSelection(s+r.length(),K.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[r,s]=this.quill.getLine(t.index);if(s>n)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(t.index," ",K.sources.USER),this.quill.history.cutoff();const o=new ae().retain(t.index-s).delete(n+1).retain(r.length()-2-s).retain(1,{list:i});return this.quill.updateContents(o,K.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,K.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let r=2,s=e;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,r-=1,r<=0){const i=new ae().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,K.sources.USER),this.quill.setSelection(t.index-1,K.sources.SILENT),!1}return!0}},"embed left":md("ArrowLeft",!1),"embed left shift":md("ArrowLeft",!0),"embed right":md("ArrowRight",!1),"embed right shift":md("ArrowRight",!0),"table down":qE(!1),"table up":qE(!0)}};Up.DEFAULTS=GU;function FE(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:r}=n;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,i,K.sources.USER),this.quill.setSelection(e.index+i.length,K.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:a,length:l}=e;o.forEach((u,h)=>{t?(u.insertAt(0,i),h===0?a+=i.length:l+=i.length):u.domNode.textContent.startsWith(i)&&(u.deleteAt(0,i.length),h===0?a-=i.length:l-=i.length)}),this.quill.update(K.sources.USER),this.quill.setSelection(a,l,K.sources.SILENT)}}}function md(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:s}=r;t==="ArrowRight"&&(s+=r.length+1);const[i]=this.quill.getLeaf(s);return i instanceof Tr?(t==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,K.sources.USER):this.quill.setSelection(r.index-1,K.sources.USER):e?this.quill.setSelection(r.index,r.length+1,K.sources.USER):this.quill.setSelection(r.index+r.length+1,K.sources.USER),!1):!0}}}function Fm(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],K.sources.USER)}}}function qE(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const r=t?"prev":"next",s=n.line,i=s.parent[r];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,a=s;for(;a.prev!=null;)a=a.prev,o=o.next;const l=o.offset(this.quill.scroll)+Math.min(n.offset,o.length()-1);this.quill.setSelection(l,0,K.sources.USER)}}else{const o=s.table()[r];o!=null&&(t?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,K.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,K.sources.USER))}return!1}}}function QU(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Kl(t);else return null;return t.shortKey&&(t[KU]=t.shortKey,delete t.shortKey),t}function nv(t){let{quill:e,range:n}=t;const r=e.getLines(n);let s={};if(r.length>1){const i=r[0].formats(),o=r[r.length-1].formats();s=Fr.AttributeMap.diff(o,i)||{}}e.deleteText(n,K.sources.USER),Object.keys(s).length>0&&e.formatLine(n.index,1,s,K.sources.USER),e.setSelection(n.index,K.sources.SILENT)}function YU(t,e,n,r){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const XU=/font-weight:\s*normal/,JU=["P","OL","UL"],$E=t=>t&&JU.includes(t.tagName),ZU=t=>{Array.from(t.querySelectorAll("br")).filter(e=>$E(e.previousElementSibling)&&$E(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},eB=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(XU)}).forEach(e=>{var r;const n=t.createDocumentFragment();n.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(n,e)})};function tB(t){t.querySelector('[id^="docs-internal-guid-"]')&&(eB(t),ZU(t))}const nB=/\bmso-list:[^;]*ignore/i,rB=/\bmso-list:[^;]*\bl(\d+)/i,sB=/\bmso-list:[^;]*\blevel(\d+)/i,iB=(t,e)=>{const n=t.getAttribute("style"),r=n==null?void 0:n.match(rB);if(!r)return null;const s=Number(r[1]),i=n==null?void 0:n.match(sB),o=i?Number(i[1]):1,a=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=e.match(a),u=l&&l[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:u,element:t}},oB=t=>{var o,a;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],r=[];e.forEach(l=>{(l.getAttribute("style")||"").match(nB)?n.push(l):r.push(l)}),n.forEach(l=>{var u;return(u=l.parentNode)==null?void 0:u.removeChild(l)});const s=t.documentElement.innerHTML,i=r.map(l=>iB(l,s)).filter(l=>l);for(;i.length;){const l=[];let u=i.shift();for(;u;)l.push(u),u=i.length&&((o=i[0])==null?void 0:o.element)===u.element.nextElementSibling&&i[0].id===u.id?i.shift():null;const h=document.createElement("ul");l.forEach(_=>{const x=document.createElement("li");x.setAttribute("data-list",_.type),_.indent>1&&x.setAttribute("class",`ql-indent-${_.indent-1}`),x.innerHTML=_.element.innerHTML,h.appendChild(x)});const g=(a=l[0])==null?void 0:a.element,{parentNode:y}=g??{};g&&(y==null||y.replaceChild(h,g)),l.slice(1).forEach(_=>{let{element:x}=_;y==null||y.removeChild(x)})}};function aB(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&oB(t)}const lB=[aB,tB],cB=t=>{t.documentElement&&lB.forEach(e=>{e(t)})},uB=Ji("quill:clipboard"),hB=[[Node.TEXT_NODE,xB],[Node.TEXT_NODE,HE],["br",gB],[Node.ELEMENT_NODE,HE],[Node.ELEMENT_NODE,mB],[Node.ELEMENT_NODE,pB],[Node.ELEMENT_NODE,EB],["li",wB],["ol, ul",_B],["pre",yB],["tr",bB],["b",qm("bold")],["i",qm("italic")],["strike",qm("strike")],["style",vB]],dB=[qU,iS].reduce((t,e)=>(t[e.keyName]=e,t),{}),zE=[rS,Z1,J1,aS,uS,dS].reduce((t,e)=>(t[e.keyName]=e,t),{});class fS extends Is{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],hB.concat(this.options.matchers??[]).forEach(r=>{let[s,i]=r;this.addMatcher(s,i)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:r}=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[In.blotName])return new ae().insert(r||"",{[In.blotName]:s[In.blotName]});if(!n)return new ae().insert(r||"",s);const i=this.convertHTML(n);return Sh(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||s.table)?i.compose(new ae().retain(i.length()-1).delete(1)):i}normalizeHTML(e){cB(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const r=n.body,s=new WeakMap,[i,o]=this.prepareMatching(r,s);return rv(this.quill.scroll,r,i,o,s)}dangerouslyPasteHTML(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:K.sources.API;if(typeof e=="string"){const s=this.convert({html:e,text:""});this.quill.setContents(s,n),this.quill.setSelection(0,K.sources.SILENT)}else{const s=this.convert({html:n,text:""});this.quill.updateContents(new ae().retain(e).concat(s),r),this.quill.setSelection(e+s.length(),K.sources.SILENT)}}onCaptureCopy(e){var o,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:s,text:i}=this.onCopy(r,n);(o=e.clipboardData)==null||o.setData("text/plain",i),(a=e.clipboardData)==null||a.setData("text/html",s),n&&nv({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var o,a,l,u,h;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const r=(o=e.clipboardData)==null?void 0:o.getData("text/html");let s=(a=e.clipboardData)==null?void 0:a.getData("text/plain");if(!r&&!s){const g=(l=e.clipboardData)==null?void 0:l.getData("text/uri-list");g&&(s=this.normalizeURIList(g))}const i=Array.from(((u=e.clipboardData)==null?void 0:u.files)||[]);if(!r&&i.length>0){this.quill.uploader.upload(n,i);return}if(r&&i.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((h=g.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(n,i);return}}this.onPaste(n,{html:r,text:s})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:r,html:s}=n;const i=this.quill.getFormat(e.index),o=this.convert({text:r,html:s},i);uB.log("onPaste",o,{text:r,html:s});const a=new ae().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(a,K.sources.USER),this.quill.setSelection(a.length()-e.length,K.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const r=[],s=[];return this.matchers.forEach(i=>{const[o,a]=i;switch(o){case Node.TEXT_NODE:s.push(a);break;case Node.ELEMENT_NODE:r.push(a);break;default:Array.from(e.querySelectorAll(o)).forEach(l=>{if(n.has(l)){const u=n.get(l);u==null||u.push(a)}else n.set(l,[a])});break}}),[r,s]}}ee(fS,"DEFAULTS",{matchers:[]});function ol(t,e,n,r){return r.query(e)?t.reduce((s,i)=>{if(!i.insert)return s;if(i.attributes&&i.attributes[e])return s.push(i);const o=n?{[e]:n}:{};return s.insert(i.insert,{...o,...i.attributes})},new ae):t}function Sh(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){const s=t.ops[r];if(typeof s.insert!="string")break;n=s.insert+n}return n.slice(-1*e.length)===e}function No(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof Tr?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function fB(t,e){return t.previousElementSibling&&t.nextElementSibling&&!No(t.previousElementSibling,e)&&!No(t.nextElementSibling,e)}const gd=new WeakMap;function pS(t){return t==null?!1:(gd.has(t)||(t.tagName==="PRE"?gd.set(t,!0):gd.set(t,pS(t.parentNode))),gd.get(t))}function rv(t,e,n,r,s){return e.nodeType===e.TEXT_NODE?r.reduce((i,o)=>o(e,i,t),new ae):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,o)=>{let a=rv(t,o,n,r,s);return o.nodeType===e.ELEMENT_NODE&&(a=n.reduce((l,u)=>u(o,l,t),a),a=(s.get(o)||[]).reduce((l,u)=>u(o,l,t),a)),i.concat(a)},new ae):new ae}function qm(t){return(e,n,r)=>ol(n,t,!0,r)}function pB(t,e,n){const r=ri.keys(t),s=Ts.keys(t),i=ua.keys(t),o={};return r.concat(s).concat(i).forEach(a=>{let l=n.query(a,le.ATTRIBUTE);l!=null&&(o[l.attrName]=l.value(t),o[l.attrName])||(l=dB[a],l!=null&&(l.attrName===a||l.keyName===a)&&(o[l.attrName]=l.value(t)||void 0),l=zE[a],l!=null&&(l.attrName===a||l.keyName===a)&&(l=zE[a],o[l.attrName]=l.value(t)||void 0))}),Object.entries(o).reduce((a,l)=>{let[u,h]=l;return ol(a,u,h,n)},e)}function mB(t,e,n){const r=n.query(t);if(r==null)return e;if(r.prototype instanceof Tr){const s={},i=r.value(t);if(i!=null)return s[r.blotName]=i,new ae().insert(s,r.formats(t,n))}else if(r.prototype instanceof eh&&!Sh(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return ol(e,r.blotName,r.formats(t,n),n);return e}function gB(t,e){return Sh(e,`
`)||e.insert(`
`),e}function yB(t,e,n){const r=n.query("code-block"),s=r&&"formats"in r&&typeof r.formats=="function"?r.formats(t,n):!0;return ol(e,"code-block",s,n)}function vB(){return new ae}function wB(t,e,n){const r=n.query(t);if(r==null||r.blotName!=="list"||!Sh(e,`
`))return e;let s=-1,i=t.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?e:e.reduce((o,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?o.push(a):o.insert(a.insert,{indent:s,...a.attributes||{}}):o,new ae)}function _B(t,e,n){const r=t;let s=r.tagName==="OL"?"ordered":"bullet";const i=r.getAttribute("data-checked");return i&&(s=i==="true"?"checked":"unchecked"),ol(e,"list",s,n)}function HE(t,e,n){if(!Sh(e,`
`)){if(No(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let r=t.nextSibling;for(;r!=null;){if(No(r,n))return e.insert(`
`);const s=n.query(r);if(s&&s.prototype instanceof Ur)return e.insert(`
`);r=r.firstChild}}}return e}function EB(t,e,n){var i;const r={},s=t.style||{};return s.fontStyle==="italic"&&(r.italic=!0),s.textDecoration==="underline"&&(r.underline=!0),s.textDecoration==="line-through"&&(r.strike=!0),((i=s.fontWeight)!=null&&i.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((o,a)=>{let[l,u]=a;return ol(o,l,u,n)},e),parseFloat(s.textIndent||0)>0?new ae().insert("	").concat(e):e}function bB(t,e,n){var s,i;const r=((s=t.parentElement)==null?void 0:s.tagName)==="TABLE"?t.parentElement:(i=t.parentElement)==null?void 0:i.parentElement;if(r!=null){const a=Array.from(r.querySelectorAll("tr")).indexOf(t)+1;return ol(e,"table",a,n)}return e}function xB(t,e,n){var s;let r=t.data;if(((s=t.parentElement)==null?void 0:s.tagName)==="O:P")return e.insert(r.trim());if(!pS(t)){if(r.trim().length===0&&r.includes(`
`)&&!fB(t,n))return e;const i=(o,a)=>{const l=a.replace(/[^\u00a0]/g,"");return l.length<1&&o?" ":l};r=r.replace(/\r\n/g," ").replace(/\n/g," "),r=r.replace(/\s\s+/g,i.bind(i,!0)),(t.previousSibling==null&&t.parentElement!=null&&No(t.parentElement,n)||t.previousSibling instanceof Element&&No(t.previousSibling,n))&&(r=r.replace(/^\s+/,i.bind(i,!1))),(t.nextSibling==null&&t.parentElement!=null&&No(t.parentElement,n)||t.nextSibling instanceof Element&&No(t.nextSibling,n))&&(r=r.replace(/\s+$/,i.bind(i,!1)))}return e.insert(r)}class mS extends Is{constructor(n,r){super(n,r);ee(this,"lastRecorded",0);ee(this,"ignoreChange",!1);ee(this,"stack",{undo:[],redo:[]});ee(this,"currentRange",null);this.quill.on(K.events.EDITOR_CHANGE,(s,i,o,a)=>{s===K.events.SELECTION_CHANGE?i&&a!==K.sources.SILENT&&(this.currentRange=i):s===K.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===K.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=S0(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;const s=this.stack[n].pop();if(!s)return;const i=this.quill.getContents(),o=s.delta.invert(i);this.stack[r].push({delta:o,range:S0(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,K.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let s=n.invert(r),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(s=s.compose(a.delta),i=a.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){WE(this.stack.undo,n),WE(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,K.sources.USER);else{const r=AB(this.quill.scroll,n.delta);this.quill.setSelection(r,K.sources.USER)}}}ee(mS,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function WE(t,e){let n=e;for(let r=t.length-1;r>=0;r-=1){const s=t[r];t[r]={delta:n.transform(s.delta,!0),range:s.range&&S0(s.range,n)},n=s.delta.transform(n),t[r].delta.length()===0&&t.splice(r,1)}}function TB(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>t.query(r,le.BLOCK)!=null):!1}function AB(t,e){const n=e.reduce((s,i)=>s+(i.delete||0),0);let r=e.length()-n;return TB(t,e)&&(r-=1),r}function S0(t,e){if(!t)return t;const n=e.transformPosition(t.index),r=e.transformPosition(t.index+t.length);return{index:n,length:r-n}}class gS extends Is{constructor(e,n){super(e,n),e.root.addEventListener("drop",r=>{var o;r.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(r.clientX,r.clientY);s=document.createRange(),s.setStart(a.offsetNode,a.offset),s.setEnd(a.offsetNode,a.offset)}const i=s&&e.selection.normalizeNative(s);if(i){const a=e.selection.normalizedToRange(i);(o=r.dataTransfer)!=null&&o.files&&this.upload(a,r.dataTransfer.files)}})}upload(e,n){const r=[];Array.from(n).forEach(s=>{var i;s&&((i=this.options.mimetypes)!=null&&i.includes(s.type))&&r.push(s)}),r.length>0&&this.options.handler.call(this,e,r)}}gS.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(r=>new Promise(s=>{const i=new FileReader;i.onload=()=>{s(i.result)},i.readAsDataURL(r)}));Promise.all(n).then(r=>{const s=r.reduce((i,o)=>i.insert({image:o}),new ae().retain(t.index).delete(t.length));this.quill.updateContents(s,se.sources.USER),this.quill.setSelection(t.index+r.length,se.sources.SILENT)})}};const IB=["insertText","insertReplacementText"];class SB extends Is{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(K.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){nv({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new ae().retain(e.index).insert(n,r),K.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,K.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!IB.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const r=CB(e);if(r==null)return;const s=this.quill.selection.normalizeNative(n),i=s?this.quill.selection.normalizedToRange(s):null;i&&this.replaceText(i,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function CB(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const NB=/Mac/i.test(navigator.platform),kB=100,RB=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||NB&&t.key==="a"&&t.ctrlKey===!0);class PB extends Is{constructor(n,r){super(n,r);ee(this,"isListening",!1);ee(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,r){let{line:s,event:i}=r;if(!(s instanceof ws)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(i.shiftKey?1:0),K.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&RB(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+kB,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const r=n.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const s=this.quill.scroll.find(r.startContainer);if(!(s instanceof ws)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),n.removeAllRanges(),n.addRange(i)}}K.register({"blots/block":sn,"blots/block/embed":Ur,"blots/break":As,"blots/container":sl,"blots/cursor":mc,"blots/embed":Y1,"blots/inline":si,"blots/scroll":bl,"blots/text":xs,"modules/clipboard":fS,"modules/history":mS,"modules/keyboard":Up,"modules/uploader":gS,"modules/input":SB,"modules/uiNode":PB});class LB extends Ts{add(e,n){let r=0;if(n==="+1"||n==="-1"){const s=this.value(e)||0;r=n==="+1"?s+1:s-1}else typeof n=="number"&&(r=n);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const OB=new LB("indent","ql-indent",{scope:le.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class C0 extends sn{}ee(C0,"blotName","blockquote"),ee(C0,"tagName","blockquote");class N0 extends sn{static formats(e){return this.tagName.indexOf(e.tagName)+1}}ee(N0,"blotName","header"),ee(N0,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ch extends sl{}Ch.blotName="list-container";Ch.tagName="OL";class Nh extends sn{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){K.register(Ch)}constructor(e,n){super(e,n);const r=n.ownerDocument.createElement("span"),s=i=>{if(!e.isEnabled())return;const o=this.statics.formats(n,e);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};r.addEventListener("mousedown",s),r.addEventListener("touchstart",s),this.attachUI(r)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}Nh.blotName="list";Nh.tagName="LI";Ch.allowedChildren=[Nh];Nh.requiredContainer=Ch;class rh extends si{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}ee(rh,"blotName","bold"),ee(rh,"tagName",["STRONG","B"]);class k0 extends rh{}ee(k0,"blotName","italic"),ee(k0,"tagName",["EM","I"]);class ko extends si{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return yS(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}ee(ko,"blotName","link"),ee(ko,"tagName","A"),ee(ko,"SANITIZED_URL","about:blank"),ee(ko,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function yS(t,e){const n=document.createElement("a");n.href=t;const r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}class R0 extends si{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}ee(R0,"blotName","script"),ee(R0,"tagName",["SUB","SUP"]);class P0 extends rh{}ee(P0,"blotName","strike"),ee(P0,"tagName",["S","STRIKE"]);class L0 extends si{}ee(L0,"blotName","underline"),ee(L0,"tagName","U");class Bd extends Y1{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}ee(Bd,"blotName","formula"),ee(Bd,"className","ql-formula"),ee(Bd,"tagName","SPAN");const KE=["alt","height","width"];var yd;let DB=(yd=class extends Tr{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return KE.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return yS(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){KE.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}},ee(yd,"blotName","image"),ee(yd,"tagName","IMG"),yd);const GE=["height","width"];class Fd extends Ur{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return GE.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),{})}static sanitize(e){return ko.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){GE.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}ee(Fd,"blotName","video"),ee(Fd,"className","ql-video"),ee(Fd,"tagName","IFRAME");const tu=new Ts("code-token","hljs",{scope:le.INLINE});class Ki extends si{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(In.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,r){super(e,n,r),tu.add(this.domNode,r)}format(e,n){e!==Ki.blotName?super.format(e,n):n?tu.add(this.domNode,n):(tu.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),tu.value(this.domNode)||this.unwrap()}}Ki.blotName="code-token";Ki.className="ql-token";class Vr extends In{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),Ki.blotName,!1),super.replaceWith(e,n)}}class vu extends il{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===Vr.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,n)}))}formatAt(e,n,r,s){r===Vr.blotName&&(this.forceNext=!0),super.formatAt(e,n,r,s)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=Vr.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((l,u)=>l.concat(ZI(u,!1)),new ae),a=e(s,i);o.diff(a).reduce((l,u)=>{let{retain:h,attributes:g}=u;return h?(g&&Object.keys(g).forEach(y=>{[Vr.blotName,Ki.blotName].includes(y)&&this.formatAt(l,h,y,g[y])}),l+h):l},0)}this.cachedText=s,this.forceNext=!1}}html(e,n){const[r]=this.children.find(e);return`<pre data-language="${r?Vr.formats(r.domNode):"plain"}">
${Vp(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=Vr.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}vu.allowedChildren=[Vr];Vr.requiredContainer=vu;Vr.allowedChildren=[Ki,mc,xs,As];const jB=(t,e,n)=>{if(typeof t.versionString=="string"){const r=t.versionString.split(".")[0];if(parseInt(r,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class vS extends Is{static register(){K.register(Ki,!0),K.register(Vr,!0),K.register(vu,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,s)=>{let{key:i}=s;return r[i]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(K.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof vu))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:s,label:i}=r;const o=n.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",s),n.appendChild(o)}),n.addEventListener("change",()=>{e.format(Vr.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=Vr.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(K.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(K.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(vu):[e]).forEach(i=>{i.highlight(this.highlightBlot,n)}),this.quill.update(K.sources.SILENT),r!=null&&this.quill.setSelection(r,K.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return Vp(e).split(`
`).reduce((s,i,o)=>(o!==0&&s.insert(`
`,{[In.blotName]:n}),s.insert(i)),new ae);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(In.className),r.innerHTML=jB(this.options.hljs,n,e),rv(this.quill.scroll,r,[(s,i)=>{const o=tu.value(s);return o?i.compose(new ae().retain(i.length(),{[Ki.blotName]:o})):i}],[(s,i)=>s.data.split(`
`).reduce((o,a,l)=>(l!==0&&o.insert(`
`,{[In.blotName]:n}),o.insert(a)),i)],new WeakMap)}}vS.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const _u=class _u extends sn{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",sv()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===_u.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};ee(_u,"blotName","table"),ee(_u,"tagName","TD");let ms=_u;class Gi extends sl{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),s=this.next.children.tail.formats();return e.table===n.table&&e.table===r.table&&e.table===s.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const r=n.formats(),s=n.next.formats();if(r.table!==s.table){const i=this.splitAfter(n);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}ee(Gi,"blotName","table-row"),ee(Gi,"tagName","TR");class ti extends sl{}ee(ti,"blotName","table-body"),ee(ti,"tagName","TBODY");class yc extends sl{balanceCells(){const e=this.descendants(Gi),n=e.reduce((r,s)=>Math.max(s.children.length,r),0);e.forEach(r=>{new Array(n-r.children.length).fill(0).forEach(()=>{let s;r.children.head!=null&&(s=ms.formats(r.children.head.domNode));const i=this.scroll.create(ms.blotName,s);r.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(ti);n==null||n.children.head==null||n.children.forEach(r=>{const s=r.children.at(e);s!=null&&s.remove()})}insertColumn(e){const[n]=this.descendant(ti);n==null||n.children.head==null||n.children.forEach(r=>{const s=r.children.at(e),i=ms.formats(r.children.head.domNode),o=this.scroll.create(ms.blotName,i);r.insertBefore(o,s)})}insertRow(e){const[n]=this.descendant(ti);if(n==null||n.children.head==null)return;const r=sv(),s=this.scroll.create(Gi.blotName);n.children.head.children.forEach(()=>{const o=this.scroll.create(ms.blotName,r);s.appendChild(o)});const i=n.children.at(e);n.insertBefore(s,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}ee(yc,"blotName","table-container"),ee(yc,"tagName","TABLE");yc.allowedChildren=[ti];ti.requiredContainer=yc;ti.allowedChildren=[Gi];Gi.requiredContainer=ti;Gi.allowedChildren=[ms];ms.requiredContainer=Gi;function sv(){return`row-${Math.random().toString(36).slice(2,6)}`}class MB extends Is{static register(){K.register(ms),K.register(Gi),K.register(ti),K.register(yc)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(yc).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(K.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(K.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(K.sources.USER),this.quill.setSelection(n,K.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,r]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==ms.blotName)return[null,null,null,-1];const s=n.parent;return[s.parent.parent,s,n,r]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[r,s,i]=this.getTable(n);if(i==null)return;const o=i.cellOffset();r.insertColumn(o+e),this.quill.update(K.sources.USER);let a=s.rowOffset();e===0&&(a+=1),this.quill.setSelection(n.index+a,n.length,K.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[r,s,i]=this.getTable(n);if(i==null)return;const o=s.rowOffset();r.insertRow(o+e),this.quill.update(K.sources.USER),e>0?this.quill.setSelection(n,K.sources.SILENT):this.quill.setSelection(n.index+s.children.length,n.length,K.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const r=this.quill.getSelection();if(r==null)return;const s=new Array(e).fill(0).reduce(i=>{const o=new Array(n).fill(`
`).join("");return i.insert(o,{table:sv()})},new ae().retain(r.index));this.quill.updateContents(s,K.sources.USER),this.quill.setSelection(r.index,K.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(K.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(K.events.TEXT_CHANGE,(r,s,i)=>{i===K.sources.USER&&this.balanceTables()}),!0):!1)})}}const QE=Ji("quill:toolbar");class iv extends Is{constructor(e,n){var r,s;if(super(e,n),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),VB(i,this.options.container),(s=(r=e.container)==null?void 0:r.parentNode)==null||s.insertBefore(i,e.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){QE.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var a;const o=(a=this.options.handlers)==null?void 0:a[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(K.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(s=>s.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){QE.warn("ignoring attaching to nonexistent format",n,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,s=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const a=e.options[e.selectedIndex];a.hasAttribute("selected")?i=!1:i=a.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,i);else if(this.quill.scroll.query(n).prototype instanceof Tr){if(i=prompt(`Enter ${n}`),!i)return;this.quill.updateContents(new ae().retain(o.index).delete(o.length).insert({[n]:i}),K.sources.USER)}else this.quill.format(n,i,K.sources.USER);this.update(o)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[s,i]=r;if(i.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(n[s]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(n[s])){let a=n[s];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${a}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=n[s],a=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}else{const o=n[s]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}iv.DEFAULTS={};function YE(t,e,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${e}: ${n}`)):r.setAttribute("aria-label",e),t.appendChild(r)}function VB(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(s=>{if(typeof s=="string")YE(r,s);else{const i=Object.keys(s)[0],o=s[i];Array.isArray(o)?UB(r,i,o):YE(r,i,o)}}),t.appendChild(r)})}function UB(t,e,n){const r=document.createElement("select");r.classList.add(`ql-${e}`),n.forEach(s=>{const i=document.createElement("option");s!==!1?i.setAttribute("value",String(s)):i.setAttribute("selected","selected"),r.appendChild(i)}),t.appendChild(r)}iv.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,le.INLINE)!=null&&this.quill.format(n,!1,K.sources.USER)})}else this.quill.removeFormat(t.index,t.length,K.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",K.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,K.sources.USER),this.quill.format("direction",t,K.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let s=t==="+1"?1:-1;n.direction==="rtl"&&(s*=-1),this.quill.format("indent",r+s,K.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,K.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,K.sources.USER):this.quill.format("list","unchecked",K.sources.USER):this.quill.format("list",t,K.sources.USER)}}};const BB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',FB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',qB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',$B='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',zB='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',HB='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',WB='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',KB='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',XE='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',GB='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',QB='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',YB='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',XB='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',JB='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',ZB='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',eF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',tF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',nF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',rF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',sF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',iF='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',oF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',aF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',lF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',cF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',uF='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',hF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',dF='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',fF='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',pF='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',mF='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',gF='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',yF='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',sh={align:{"":BB,center:FB,right:qB,justify:$B},background:zB,blockquote:HB,bold:WB,clean:KB,code:XE,"code-block":XE,color:GB,direction:{"":QB,rtl:YB},formula:XB,header:{1:JB,2:ZB,3:eF,4:tF,5:nF,6:rF},italic:sF,image:iF,indent:{"+1":oF,"-1":aF},link:lF,list:{bullet:cF,check:uF,ordered:hF},script:{sub:dF,super:fF},strike:pF,table:mF,underline:gF,video:yF},vF='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let JE=0;function ZE(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class Bp{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),ZE(this.label,"aria-expanded"),ZE(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&n.setAttribute("data-value",r),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(n,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=vF,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${JE}`,JE+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const r=this.buildItem(n);e.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class wS extends Bp{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const r=this.label.querySelector(".ql-color-label"),s=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=s:r.style.fill=s)}}class _S extends Bp{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const wF=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class ES{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,wF(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>s.right&&(o=s.right-i.right,this.root.style.left=`${n+o}px`),i.left<s.left&&(o=s.left-i.left,this.root.style.left=`${n+o}px`),i.bottom>s.bottom){const a=i.bottom-i.top,l=e.bottom-e.top+a;this.root.style.top=`${r-l}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const _F=[!1,"center","right","justify"],EF=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],bF=[!1,"serif","monospace"],xF=["1","2","3",!1],TF=["small",!1,"large","huge"];class kh extends gc{constructor(e,n){super(e,n);const r=s=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(s.target)||i.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),n[i]!=null))if(i==="direction")r.innerHTML=n[i][""]+n[i].rtl;else if(typeof n[i]=="string")r.innerHTML=n[i];else{const o=r.value||"";o!=null&&n[i][o]&&(r.innerHTML=n[i][o])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&zc(s,_F),typeof n.align=="object"))return new _S(s,n.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const i=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&zc(s,EF,i==="background"?"#ffffff":"#000000"),new wS(s,n[i])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?zc(s,bF):s.classList.contains("ql-header")?zc(s,xF):s.classList.contains("ql-size")&&zc(s,TF)),new Bp(s)});const r=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(se.events.EDITOR_CHANGE,r)}}kh.DEFAULTS=zo({},gc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class bS extends ES{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,se.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,se.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=AF(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,se.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",se.sources.USER),this.quill.setSelection(r+2,se.sources.USER)}break}}this.textbox.value="",this.hide()}}function AF(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function zc(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const s=document.createElement("option");r===n?s.setAttribute("selected","selected"):s.setAttribute("value",String(r)),t.appendChild(s)})}const IF=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class xS extends bS{constructor(e,n){super(e,n),this.quill.on(se.events.EDITOR_CHANGE,(r,s,i,o)=>{if(r===se.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===se.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(s.index,s.length);if(a.length===1){const l=this.quill.getBounds(s);l!=null&&this.position(l)}else{const l=a[a.length-1],u=this.quill.getIndex(l),h=Math.min(l.length()-1,s.index+s.length-u),g=this.quill.getBounds(new za(u,h));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(se.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",n!==0&&(r.style.marginLeft=`${-1*n-r.offsetWidth/2}px`),n}}ee(xS,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class TS extends kh{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=IF),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new xS(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),sh),this.buildPickers(e.container.querySelectorAll("select"),sh))}}TS.DEFAULTS=zo({},kh.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,K.sources.USER)}}}}});const SF=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class AS extends bS{constructor(){super(...arguments);ee(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,se.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(se.events.SELECTION_CHANGE,(n,r,s)=>{if(n!=null){if(n.length===0&&s===se.sources.USER){const[i,o]=this.quill.scroll.descendant(ko,n.index);if(i!=null){this.linkRange=new za(n.index-o,i.length());const a=ko.formats(i.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}ee(AS,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class IS extends kh{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=SF),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),sh),this.buildPickers(e.container.querySelectorAll("select"),sh),this.tooltip=new AS(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{e.handlers.link.call(e,!r.format.link)}))}}IS.DEFAULTS=zo({},kh.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,K.sources.USER)}}}}});K.register({"attributors/attribute/direction":iS,"attributors/class/align":nS,"attributors/class/background":zU,"attributors/class/color":$U,"attributors/class/direction":oS,"attributors/class/font":cS,"attributors/class/size":hS,"attributors/style/align":rS,"attributors/style/background":Z1,"attributors/style/color":J1,"attributors/style/direction":aS,"attributors/style/font":uS,"attributors/style/size":dS},!0);K.register({"formats/align":nS,"formats/direction":oS,"formats/indent":OB,"formats/background":Z1,"formats/color":J1,"formats/font":cS,"formats/size":hS,"formats/blockquote":C0,"formats/code-block":In,"formats/header":N0,"formats/list":Nh,"formats/bold":rh,"formats/code":ev,"formats/italic":k0,"formats/link":ko,"formats/script":R0,"formats/strike":P0,"formats/underline":L0,"formats/formula":Bd,"formats/image":DB,"formats/video":Fd,"modules/syntax":vS,"modules/table":MB,"modules/toolbar":iv,"themes/bubble":TS,"themes/snow":IS,"ui/icons":sh,"ui/picker":Bp,"ui/icon-picker":_S,"ui/color-picker":wS,"ui/tooltip":ES},!0);const CF=()=>{const t=B.useRef(null),[e,n]=B.useState(null),[r,s]=B.useState(""),i=We(),[o,a]=B.useState(null),{imagenUrl:l,error:u,uploadImage:h,uploading:g}=Wr("blogs"),[y,_]=B.useState("");B.useEffect(()=>{if(t.current&&!e){const S=new K(t.current,{theme:"snow",modules:{toolbar:!0},placeholder:"Escribe el contenido aquí..."});n(S)}},[e]);const x=async()=>{if(e){const S=e.root.innerHTML;new Date().toISOString();try{let b="";if(o&&(b=await h(o),!b))throw Swal.fire({titleText:"Error",text:"Error al cargar la imagen",icon:"error",position:"center",heightAuto:"false"}),new Error("Error al cargar la imagen");const A={content:S,title:r,imagenUrl:b,createdAt:Hn()};await la(oi(Xe,"blogs"),A),alert("Blog creado exitosamente"),i("/access/admin/list-blogs")}catch(b){console.error("Error al guardar el blog: ",b)}}},C=S=>{if(S.target.files&&S.target.files[0]){const b=S.target.files[0];a(b);const A=URL.createObjectURL(b);_(A)}};return f.jsxs("div",{className:"space-y-4 bg-white p-6 rounded shadow-md",children:[f.jsx("input",{type:"text",value:r,onChange:S=>s(S.target.value),placeholder:"Título del blog",className:"border p-2 w-full rounded"}),f.jsx("div",{ref:t,className:"border rounded-lg"}),f.jsx(Kr,{onChange:C}),f.jsx("div",{className:"flex justify-center border w-full",children:o&&(g?f.jsx("p",{children:"Cargando imagen..."}):f.jsx("img",{src:y,alt:"Vista previa",className:"w-40 mb-4"}))}),f.jsx("button",{onClick:x,className:"bg-slate-900 text-white px-4 py-2 rounded",children:"Guardar blog"})]})},NF=()=>{const{id:t}=ra(),e=B.useRef(null),[n,r]=B.useState(null),[s,i]=B.useState(""),[o,a]=B.useState(""),[l,u]=B.useState(""),h=We(),[g,y]=B.useState(null),{uploadImage:_,uploading:x}=Wr("blogs"),[C,S]=B.useState("");B.useEffect(()=>{(async()=>{const P=await aa(ln(Xe,"blogs",t));P.exists()&&(i(P.data().content),a(P.data().title),u(P.data().imagenUrl),S(P.data().imagenUrl))})()},[t]),B.useEffect(()=>{if(e.current&&!n){const T=new K(e.current,{theme:"snow",modules:{toolbar:!0},placeholder:"Escribe el contenido aquí..."});r(T)}n&&s&&(n.root.innerHTML=s)},[n,s]);const b=async()=>{if(n){const T=n.root.innerHTML;try{let P=l;g&&(P=await _(g));const V={content:T,title:o,imagenUrl:P,createdAt:Hn()};await Xa(ln(Xe,"blogs",t),V),alert("Blog actualizado exitosamente"),h("/access/admin/list-blogs")}catch(P){console.error("Error al actualizar el blog: ",P)}}},A=T=>{if(T.target.files&&T.target.files[0]){const P=T.target.files[0];y(P);const V=URL.createObjectURL(P);S(V)}};return f.jsxs("div",{className:"space-y-4 bg-white p-6 rounded shadow-md",children:[f.jsx("input",{type:"text",value:o,onChange:T=>a(T.target.value),placeholder:"Título del blog",className:"border p-2 w-full rounded"}),f.jsx("div",{ref:e,className:"border rounded-lg"}),f.jsx(Kr,{onChange:A}),f.jsxs("div",{className:"flex justify-center border w-full",children:[x&&f.jsx("p",{children:"Cargando imagen..."}),C&&!x&&f.jsx("img",{src:C,alt:"Vista previa",className:"w-40 mb-4"})]}),f.jsx("button",{onClick:b,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Actualizar"})]})},kF=()=>{const{id:t}=ra(),[e,n]=B.useState(null),[r,s]=B.useState([]),i=We();return B.useEffect(()=>{const o=async()=>{try{const l=await aa(ln(Xe,"blogs",t));if(l.exists()){const u=l.data();u.createdAt&&u.createdAt.toDate&&(u.createdAt=u.createdAt.toDate()),n(u)}else i("/404")}catch(l){console.error("Error fetching blog:",l),i("/404")}},a=async()=>{try{const g=(await D6(oi(Xe,"blogs"))).docs.map(y=>{const _=y.data();return _.createdAt&&_.createdAt.toDate&&(_.createdAt=_.createdAt.toDate()),{id:y.id,..._}}).sort(()=>.5-Math.random()).slice(0,4);s(g)}catch(l){console.error("Error fetching random blogs:",l)}};o(),a()},[t,i]),e?f.jsxs("div",{className:"flex flex-col md:flex-row pb-20 pt-5 md:py-32 relative",children:[f.jsxs("div",{className:"w-full md:w-2/3 p-4",children:[f.jsx("h1",{className:"text-2xl text-green-500 font-black",children:e.title}),e.imagenUrl&&f.jsx("img",{src:e.imagenUrl,alt:e.title,className:"mt-4 w-full rounded"}),f.jsxs("h2",{className:"text-slate-300 mt-4 mb-2",children:["Autor: ",f.jsx("span",{className:"text-purple-500",children:" Francisco Soto Flores"})]}),f.jsx("div",{className:"text-white",dangerouslySetInnerHTML:{__html:e.content}})]}),f.jsxs("aside",{className:"w-full md:w-1/3 p-4",children:[f.jsx("h2",{className:"text-xl text-purple-500 font-bold mb-4",children:"Visita otros blogs"}),f.jsx("ul",{children:r.map(o=>f.jsx("li",{className:"mb-4",children:f.jsxs(hh,{to:`/blogs/detalles/${o.id}`,className:"block",children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:o.title}),f.jsx("span",{className:"text-sm text-gray-400",children:o.createdAt?new Date(o.createdAt).toLocaleDateString():"Fecha no disponible"})]})},o.id))})]})]}):f.jsx("div",{children:"Loading..."})},RF="/assets/imagen-notfound-D0XP_s5v.svg",PF=()=>f.jsx("section",{className:"h-screen flex justify-center items-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("img",{src:RF,className:"w-[25rem] block",alt:"imagen de error"}),f.jsx("p",{className:"font-bold",children:"Página no encontrada"}),f.jsx(hh,{to:"/",className:"mt-3 inline-block rounded bg-slate-900 px-10 py-3 text-sm font-medium text-white hover:bg-slate-700 focus:outline-none focus:ring",children:"Regresar al inicio"})]})}),LF=oj(Uj),OF=()=>f.jsx(ej,{children:f.jsx(VR,{children:f.jsxs(kR,{children:[f.jsxs(Pe,{path:"/",element:f.jsx(SM,{}),children:[f.jsx(Pe,{index:!0,element:f.jsx(xM,{})}),f.jsx(Pe,{path:"/authentication/login/user",element:f.jsx(yj,{})}),f.jsx(Pe,{path:"/perfil",element:f.jsx(pM,{})}),f.jsx(Pe,{path:"/contacto",element:f.jsx(sM,{})}),f.jsx(Pe,{path:"/blogs",element:f.jsx(NM,{})}),f.jsx(Pe,{path:"/blogs/detalles/:id",element:f.jsx(kF,{})})]}),f.jsx(Pe,{path:"*",element:f.jsx(PF,{})}),f.jsxs(Pe,{path:"/access/admin",element:f.jsx(LF,{}),children:[f.jsx(Pe,{path:"perfil-admin",element:f.jsx(zj,{})}),f.jsx(Pe,{path:"list-experience",element:f.jsx(qj,{})}),f.jsx(Pe,{path:"list-education",element:f.jsx($j,{})}),f.jsx(Pe,{path:"list-knowledge",element:f.jsx(Kj,{})}),f.jsx(Pe,{path:"list-certification",element:f.jsx(Gj,{})}),f.jsx(Pe,{path:"list-projects",element:f.jsx(Wj,{})}),f.jsx(Pe,{path:"list-emails",element:f.jsx(CM,{})}),f.jsx(Pe,{path:"list-blogs",element:f.jsx(kM,{})}),f.jsx(Pe,{path:"add-perfil",element:f.jsx(Sj,{})}),f.jsx(Pe,{path:"edit-perfil/:id",element:f.jsx(Qj,{})}),f.jsx(Pe,{path:"add-experience",element:f.jsx(bj,{})}),f.jsx(Pe,{path:"edit-experience/:id",element:f.jsx(Yj,{})}),f.jsx(Pe,{path:"add-education",element:f.jsx(xj,{})}),f.jsx(Pe,{path:"edit-education/:id",element:f.jsx(Xj,{})}),f.jsx(Pe,{path:"add-knowledge",element:f.jsx(Aj,{})}),f.jsx(Pe,{path:"edit-knowledge/:id",element:f.jsx(Jj,{})}),f.jsx(Pe,{path:"add-certification",element:f.jsx(Tj,{})}),f.jsx(Pe,{path:"edit-certification/:id",element:f.jsx(eM,{})}),f.jsx(Pe,{path:"add-project",element:f.jsx(Ij,{})}),f.jsx(Pe,{path:"edit-project/:id",element:f.jsx(Zj,{})}),f.jsx(Pe,{path:"add-blog",element:f.jsx(CF,{})}),f.jsx(Pe,{path:"edit-blog/:id",element:f.jsx(NF,{})})]})]})})});$m.createRoot(document.getElementById("root")).render(f.jsx(Di.StrictMode,{children:f.jsx(OF,{})}))});export default DF();
